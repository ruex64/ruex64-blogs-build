function aS(r,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function oS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ed={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function lS(){if(m_)return dl;m_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return dl.Fragment=t,dl.jsx=n,dl.jsxs=n,dl}var g_;function uS(){return g_||(g_=1,Ed.exports=lS()),Ed.exports}var et=uS(),Td={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function cS(){if(p_)return bt;p_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,$={};function q(D,W,ht){this.props=D,this.context=W,this.refs=$,this.updater=ht||B}q.prototype.isReactComponent={},q.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function at(){}at.prototype=q.prototype;function ot(D,W,ht){this.props=D,this.context=W,this.refs=$,this.updater=ht||B}var ut=ot.prototype=new at;ut.constructor=ot,G(ut,q.prototype),ut.isPureReactComponent=!0;var wt=Array.isArray,gt={H:null,A:null,T:null,S:null},Ot=Object.prototype.hasOwnProperty;function x(D,W,ht,nt,it,Rt){return ht=Rt.ref,{$$typeof:r,type:D,key:W,ref:ht!==void 0?ht:null,props:Rt}}function R(D,W){return x(D.type,W,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function C(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ht){return W[ht]})}var V=/\/+/g;function k(D,W){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):W.toString(36)}function I(){}function ve(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function he(D,W,ht,nt,it){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var St=!1;if(D===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(D.$$typeof){case r:case t:St=!0;break;case T:return St=D._init,he(St(D._payload),W,ht,nt,it)}}if(St)return it=it(D),St=nt===""?"."+k(D,0):nt,wt(it)?(ht="",St!=null&&(ht=St.replace(V,"$&/")+"/"),he(it,W,ht,"",function(ie){return ie})):it!=null&&(S(it)&&(it=R(it,ht+(it.key==null||D&&D.key===it.key?"":(""+it.key).replace(V,"$&/")+"/")+St)),W.push(it)),1;St=0;var fe=nt===""?".":nt+":";if(wt(D))for(var zt=0;zt<D.length;zt++)nt=D[zt],Rt=fe+k(nt,zt),St+=he(nt,W,ht,Rt,it);else if(zt=M(D),typeof zt=="function")for(D=zt.call(D),zt=0;!(nt=D.next()).done;)nt=nt.value,Rt=fe+k(nt,zt++),St+=he(nt,W,ht,Rt,it);else if(Rt==="object"){if(typeof D.then=="function")return he(ve(D),W,ht,nt,it);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return St}function tt(D,W,ht){if(D==null)return D;var nt=[],it=0;return he(D,nt,"","",function(Rt){return W.call(ht,Rt,it++)}),nt}function yt(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(ht){(D._status===0||D._status===-1)&&(D._status=1,D._result=ht)},function(ht){(D._status===0||D._status===-1)&&(D._status=2,D._result=ht)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var dt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ht(){}return bt.Children={map:tt,forEach:function(D,W,ht){tt(D,function(){W.apply(this,arguments)},ht)},count:function(D){var W=0;return tt(D,function(){W++}),W},toArray:function(D){return tt(D,function(W){return W})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},bt.Component=q,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=ot,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cloneElement=function(D,W,ht){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var nt=G({},D.props),it=D.key,Rt=void 0;if(W!=null)for(St in W.ref!==void 0&&(Rt=void 0),W.key!==void 0&&(it=""+W.key),W)!Ot.call(W,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&W.ref===void 0||(nt[St]=W[St]);var St=arguments.length-2;if(St===1)nt.children=ht;else if(1<St){for(var fe=Array(St),zt=0;zt<St;zt++)fe[zt]=arguments[zt+2];nt.children=fe}return x(D.type,it,void 0,void 0,Rt,nt)},bt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},bt.createElement=function(D,W,ht){var nt,it={},Rt=null;if(W!=null)for(nt in W.key!==void 0&&(Rt=""+W.key),W)Ot.call(W,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(it[nt]=W[nt]);var St=arguments.length-2;if(St===1)it.children=ht;else if(1<St){for(var fe=Array(St),zt=0;zt<St;zt++)fe[zt]=arguments[zt+2];it.children=fe}if(D&&D.defaultProps)for(nt in St=D.defaultProps,St)it[nt]===void 0&&(it[nt]=St[nt]);return x(D,Rt,void 0,void 0,null,it)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:m,render:D}},bt.isValidElement=S,bt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:yt}},bt.memo=function(D,W){return{$$typeof:y,type:D,compare:W===void 0?null:W}},bt.startTransition=function(D){var W=gt.T,ht={};gt.T=ht;try{var nt=D(),it=gt.S;it!==null&&it(ht,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Ht,dt)}catch(Rt){dt(Rt)}finally{gt.T=W}},bt.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},bt.use=function(D){return gt.H.use(D)},bt.useActionState=function(D,W,ht){return gt.H.useActionState(D,W,ht)},bt.useCallback=function(D,W){return gt.H.useCallback(D,W)},bt.useContext=function(D){return gt.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,W){return gt.H.useDeferredValue(D,W)},bt.useEffect=function(D,W){return gt.H.useEffect(D,W)},bt.useId=function(){return gt.H.useId()},bt.useImperativeHandle=function(D,W,ht){return gt.H.useImperativeHandle(D,W,ht)},bt.useInsertionEffect=function(D,W){return gt.H.useInsertionEffect(D,W)},bt.useLayoutEffect=function(D,W){return gt.H.useLayoutEffect(D,W)},bt.useMemo=function(D,W){return gt.H.useMemo(D,W)},bt.useOptimistic=function(D,W){return gt.H.useOptimistic(D,W)},bt.useReducer=function(D,W,ht){return gt.H.useReducer(D,W,ht)},bt.useRef=function(D){return gt.H.useRef(D)},bt.useState=function(D){return gt.H.useState(D)},bt.useSyncExternalStore=function(D,W,ht){return gt.H.useSyncExternalStore(D,W,ht)},bt.useTransition=function(){return gt.H.useTransition()},bt.version="19.0.0",bt}var y_;function mm(){return y_||(y_=1,Td.exports=cS()),Td.exports}var J=mm();const hS=oS(J),fS=aS({__proto__:null,default:hS},[J]);var Ad={exports:{}},ml={},Sd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function dS(){return __||(__=1,function(r){function t(tt,yt){var dt=tt.length;tt.push(yt);t:for(;0<dt;){var Ht=dt-1>>>1,D=tt[Ht];if(0<o(D,yt))tt[Ht]=yt,tt[dt]=D,dt=Ht;else break t}}function n(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var yt=tt[0],dt=tt.pop();if(dt!==yt){tt[0]=dt;t:for(var Ht=0,D=tt.length,W=D>>>1;Ht<W;){var ht=2*(Ht+1)-1,nt=tt[ht],it=ht+1,Rt=tt[it];if(0>o(nt,dt))it<D&&0>o(Rt,nt)?(tt[Ht]=Rt,tt[it]=dt,Ht=it):(tt[Ht]=nt,tt[ht]=dt,Ht=ht);else if(it<D&&0>o(Rt,dt))tt[Ht]=Rt,tt[it]=dt,Ht=it;else break t}}return yt}function o(tt,yt){var dt=tt.sortIndex-yt.sortIndex;return dt!==0?dt:tt.id-yt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,b=null,M=3,B=!1,G=!1,$=!1,q=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function ut(tt){for(var yt=n(y);yt!==null;){if(yt.callback===null)s(y);else if(yt.startTime<=tt)s(y),yt.sortIndex=yt.expirationTime,t(p,yt);else break;yt=n(y)}}function wt(tt){if($=!1,ut(tt),!G)if(n(p)!==null)G=!0,ve();else{var yt=n(y);yt!==null&&he(wt,yt.startTime-tt)}}var gt=!1,Ot=-1,x=5,R=-1;function S(){return!(r.unstable_now()-R<x)}function C(){if(gt){var tt=r.unstable_now();R=tt;var yt=!0;try{t:{G=!1,$&&($=!1,at(Ot),Ot=-1),B=!0;var dt=M;try{e:{for(ut(tt),b=n(p);b!==null&&!(b.expirationTime>tt&&S());){var Ht=b.callback;if(typeof Ht=="function"){b.callback=null,M=b.priorityLevel;var D=Ht(b.expirationTime<=tt);if(tt=r.unstable_now(),typeof D=="function"){b.callback=D,ut(tt),yt=!0;break e}b===n(p)&&s(p),ut(tt)}else s(p);b=n(p)}if(b!==null)yt=!0;else{var W=n(y);W!==null&&he(wt,W.startTime-tt),yt=!1}}break t}finally{b=null,M=dt,B=!1}yt=void 0}}finally{yt?V():gt=!1}}}var V;if(typeof ot=="function")V=function(){ot(C)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,I=k.port2;k.port1.onmessage=C,V=function(){I.postMessage(null)}}else V=function(){q(C,0)};function ve(){gt||(gt=!0,V())}function he(tt,yt){Ot=q(function(){tt(r.unstable_now())},yt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(tt){tt.callback=null},r.unstable_continueExecution=function(){G||B||(G=!0,ve())},r.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<tt?Math.floor(1e3/tt):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(tt){switch(M){case 1:case 2:case 3:var yt=3;break;default:yt=M}var dt=M;M=yt;try{return tt()}finally{M=dt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(tt,yt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var dt=M;M=tt;try{return yt()}finally{M=dt}},r.unstable_scheduleCallback=function(tt,yt,dt){var Ht=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ht+dt:Ht):dt=Ht,tt){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=dt+D,tt={id:T++,callback:yt,priorityLevel:tt,startTime:dt,expirationTime:D,sortIndex:-1},dt>Ht?(tt.sortIndex=dt,t(y,tt),n(p)===null&&tt===n(y)&&($?(at(Ot),Ot=-1):$=!0,he(wt,dt-Ht))):(tt.sortIndex=D,t(p,tt),G||B||(G=!0,ve())),tt},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(tt){var yt=M;return function(){var dt=M;M=yt;try{return tt.apply(this,arguments)}finally{M=dt}}}}(bd)),bd}var v_;function mS(){return v_||(v_=1,Sd.exports=dS()),Sd.exports}var wd={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function gS(){if(E_)return Ge;E_=1;var r=mm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,T)},Ge.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:M,fetchPriority:B}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:M,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var T_;function iE(){if(T_)return wd.exports;T_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=gS(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function pS(){if(A_)return ml;A_=1;var r=mS(),t=mm(),n=iE();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),B=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),at=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),ut=Symbol.for("react.offscreen"),wt=Symbol.for("react.memo_cache_sentinel"),gt=Symbol.iterator;function Ot(e){return e===null||typeof e!="object"?null:(e=gt&&e[gt]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case $:return"Suspense";case q:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case G:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case at:return i=e.displayName||null,i!==null?i:R(e.type)||"Memo";case ot:i=e._payload,e=e._init;try{return R(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,V,k;function I(e){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",k=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+e+k}var ve=!1;function he(e,i){if(!e||ve)return"";ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){z=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var w=v.split(`
`),N=E.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===N.length)for(l=w.length-1,h=N.length-1;1<=l&&0<=h&&w[l]!==N[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==N[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==N[h]){var F=`
`+w[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{ve=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?I(a):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function yt(e){try{var i="";do i+=tt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dt(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ht(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function D(e){if(dt(e)!==e)throw Error(s(188))}function W(e){var i=e.alternate;if(!i){if(i=dt(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return D(h),e;if(d===l)return D(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ht(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ht(e),i!==null)return i;e=e.sibling}return null}var nt=Array.isArray,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function zt(e){return{current:e}}function ie(e){0>fe||(e.current=St[fe],St[fe]=null,fe--)}function Qt(e,i){fe++,St[fe]=e.current,e.current=i}var $e=zt(null),di=zt(null),mn=zt(null),Xi=zt(null);function $i(e,i){switch(Qt(mn,i),Qt(di,e),Qt($e,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Hy(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Hy(e),i=Fy(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie($e),Qt($e,i)}function mi(){ie($e),ie(di),ie(mn)}function oo(e){e.memoizedState!==null&&Qt(Xi,e);var i=$e.current,a=Fy(i,e.type);i!==a&&(Qt(di,e),Qt($e,a))}function Fs(e){di.current===e&&(ie($e),ie(di)),Xi.current===e&&(ie(Xi),ll._currentValue=Rt)}var Gs=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Qs=r.unstable_cancelCallback,Th=r.unstable_shouldYield,lo=r.unstable_requestPaint,nn=r.unstable_now,Yl=r.unstable_getCurrentPriorityLevel,Ee=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,Xl=r.unstable_LowPriority,uo=r.unstable_IdlePriority,Ah=r.log,Jr=r.unstable_setDisableYieldValue,Wi=null,He=null;function co(e){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch{}}function Fn(e){if(typeof Ah=="function"&&Jr(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Wi,e)}catch{}}var We=Math.clz32?Math.clz32:Wl,ho=Math.log,$l=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-(ho(e)/$l|0)|0}var Gn=128,Zi=4194304;function xn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gn(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=xn(a):(d&=E,d!==0?l=xn(d):e||(v=E&~v,v!==0&&(l=xn(v))))):(E=a&~h,E!==0?l=xn(E):d!==0?l=xn(d):e||(v=a&~v,v!==0&&(l=xn(v)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function Ji(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ks(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var e=Gn;return Gn<<=1,!(Gn&4194176)&&(Gn=128),e}function tr(){var e=Zi;return Zi<<=1,!(Zi&62914560)&&(Zi=4194304),e}function Ys(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function le(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zl(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,N=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-We(a),X=1<<F;E[F]=0,w[F]=-1;var z=N[F];if(z!==null)for(N[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&er(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function er(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-We(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function nr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-We(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Jl(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function tu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:l_(e.type))}function ir(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var Qn=Math.random().toString(36).slice(2),De="__reactFiber$"+Qn,Te="__reactProps$"+Qn,pi="__reactContainer$"+Qn,ts="__reactEvents$"+Qn,Xs="__reactListeners$"+Qn,Kn="__reactHandles$"+Qn,mo="__reactResources$"+Qn,rr="__reactMarker$"+Qn;function es(e){delete e[De],delete e[Te],delete e[ts],delete e[Xs],delete e[Kn]}function Un(e){var i=e[De];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pi]||a[De]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Ky(e);e!==null;){if(a=e[De])return a;e=Ky(e)}return i}e=a,a=e.parentNode}return null}function yi(e){if(e=e[De]||e[pi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function sr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ar(e){var i=e[mo];return i||(i=e[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Jt(e){e[rr]=!0}var go=new Set,$s={};function on(e,i){rn(e,i),rn(e+"Capture",i)}function rn(e,i){for($s[e]=i,e=0;e<i.length;e++)go.add(i[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function eu(e){return Gs.call(yo,e)?!0:Gs.call(po,e)?!1:Sh.test(e)?yo[e]=!0:(po[e]=!0,!1)}function or(e,i,a){if(eu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function lr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function pn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bh(e){var i=nu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ns(e){e._valueTracker||(e._valueTracker=bh(e))}function _o(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=nu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _i=/[\n"\\]/g;function re(e){return e.replace(_i,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ur(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Zs(e,v,Ze(i)):a!=null?Zs(e,v,Ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function is(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Zs(e,i,a){i==="number"&&Ws(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function rs(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function cr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function yn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||wh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function iu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&vo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&vo(e,d,i[d])}function Eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ih=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(e){return Ih.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _n=null;function Js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function Ti(e){var i=yi(e);if(i&&(e=i.stateNode)){var a=e[Te]||null;t:switch(e=i.stateNode,i.type){case"input":if(ur(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Te]||null;if(!h)throw Error(s(90));ur(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&_o(l)}break t;case"textarea":rs(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Bt(e,!!a.multiple,i,!1)}}}var To=!1;function ru(e,i,a){if(To)return e(i,a);To=!0;try{var l=e(i);return l}finally{if(To=!1,(vi!==null||Ei!==null)&&(Xu(),vi&&(i=vi,e=Ei,Ei=vi=null,Ti(i),e)))for(i=0;i<e.length;i++)Ti(e[i])}}function ss(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Te]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var vn=!1;if(ln)try{var as={};Object.defineProperty(as,"passive",{get:function(){vn=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{vn=!1}var Xn=null,hr=null,Ai=null;function Ao(){if(Ai)return Ai;var e,i=hr,a=i.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ai=h.slice(e,1<l?1-l:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function So(){return!1}function Oe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:So,this.isPropagationStopped=So,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Oe(Ft),os=C({},Ft,{view:0,detail:0}),su=Oe(os),ea,na,Zn,ls=C({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(ea=e.screenX-Zn.screenX,na=e.screenY-Zn.screenY):na=ea=0,Zn=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:na}}),En=Oe(ls),au=C({},ls,{dataTransfer:0}),Ch=Oe(au),us=C({},os,{relatedTarget:0}),ia=Oe(us),bo=C({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),ra=Oe(bo),ou=C({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sa=Oe(ou),Dh=C({},Ft,{data:0}),wo=Oe(Dh),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ro(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=uu[e])?!!i[e]:!1}function hs(){return Ro}var cu=C({},os,{key:function(e){if(e.key){var i=cs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aa=Oe(cu),hu=C({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=Oe(hu),Si=C({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),fu=Oe(Si),du=C({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),mu=Oe(du),gu=C({},ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=Oe(gu),Je=C({},Ft,{newState:0,oldState:0}),pu=Oe(Je),yu=[9,13,27,32],Jn=ln&&"CompositionEvent"in window,c=null;ln&&"documentMode"in document&&(c=document.documentMode);var g=ln&&"TextEvent"in window&&!c,_=ln&&(!Jn||c&&8<c&&11>=c),A=" ",P=!1;function j(e,i){switch(e){case"keyup":return yu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Ae(e,i){switch(e){case"compositionend":return Z(i);case"keypress":return i.which!==32?null:(P=!0,A);case"textInput":return e=i.data,e===A&&P?null:e;default:return null}}function Pt(e,i){if(Ut)return e==="compositionend"||!Jn&&j(e,i)?(e=Ao(),Ai=hr=Xn=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function bi(e,i,a,l){vi?Ei?Ei.push(l):Ei=[l]:vi=l,i=tc(i,"onChange"),0<i.length&&(a=new ta("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Pe=null,ti=null;function Co(e){Ly(e,0)}function _u(e){var i=sr(e);if(_o(i))return e}function dg(e,i){if(e==="change")return i}var mg=!1;if(ln){var Oh;if(ln){var Nh="oninput"in document;if(!Nh){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),Nh=typeof gg.oninput=="function"}Oh=Nh}else Oh=!1;mg=Oh&&(!document.documentMode||9<document.documentMode)}function pg(){Pe&&(Pe.detachEvent("onpropertychange",yg),ti=Pe=null)}function yg(e){if(e.propertyName==="value"&&_u(ti)){var i=[];bi(i,ti,e,Js(e)),ru(Co,i)}}function PT(e,i,a){e==="focusin"?(pg(),Pe=i,ti=a,Pe.attachEvent("onpropertychange",yg)):e==="focusout"&&pg()}function kT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(ti)}function LT(e,i){if(e==="click")return _u(i)}function zT(e,i){if(e==="input"||e==="change")return _u(i)}function BT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:BT;function Do(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Gs.call(i,h)||!un(e[h],i[h]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,i){var a=_g(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=_g(a)}}function Eg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Eg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ws(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ws(e.document)}return i}function Vh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function jT(e,i){var a=Tg(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&Eg(i.ownerDocument.documentElement,i)){if(l!==null&&Vh(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=vg(i,d);var v=vg(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var qT=ln&&"documentMode"in document&&11>=document.documentMode,la=null,Mh=null,Oo=null,xh=!1;function Ag(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xh||la==null||la!==Ws(l)||(l=la,"selectionStart"in l&&Vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Oo&&Do(Oo,l)||(Oo=l,l=tc(Mh,"onSelect"),0<l.length&&(i=new ta("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=la)))}function fs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ua={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Uh={},Sg={};ln&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ds(e){if(Uh[e])return Uh[e];if(!ua[e])return e;var i=ua[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sg)return Uh[e]=i[a];return e}var bg=ds("animationend"),wg=ds("animationiteration"),Rg=ds("animationstart"),HT=ds("transitionrun"),FT=ds("transitionstart"),GT=ds("transitioncancel"),Ig=ds("transitionend"),Cg=new Map,Dg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pn(e,i){Cg.set(e,i),on(i,[e])}var Tn=[],ca=0,Ph=0;function vu(){for(var e=ca,i=Ph=ca=0;i<e;){var a=Tn[i];Tn[i++]=null;var l=Tn[i];Tn[i++]=null;var h=Tn[i];Tn[i++]=null;var d=Tn[i];if(Tn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Og(a,h,d)}}function Eu(e,i,a,l){Tn[ca++]=e,Tn[ca++]=i,Tn[ca++]=a,Tn[ca++]=l,Ph|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function kh(e,i,a,l){return Eu(e,i,a,l),Tu(e)}function fr(e,i){return Eu(e,null,null,i),Tu(e)}function Og(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-We(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function Tu(e){if(50<el)throw el=0,Ff=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ha={},Ng=new WeakMap;function An(e,i){if(typeof e=="object"&&e!==null){var a=Ng.get(e);return a!==void 0?a:(i={value:e,source:i,stack:yt(i)},Ng.set(e,i),i)}return{value:e,source:i,stack:yt(i)}}var fa=[],da=0,Au=null,Su=0,Sn=[],bn=0,ms=null,wi=1,Ri="";function gs(e,i){fa[da++]=Su,fa[da++]=Au,Au=e,Su=i}function Vg(e,i,a){Sn[bn++]=wi,Sn[bn++]=Ri,Sn[bn++]=ms,ms=e;var l=wi;e=Ri;var h=32-We(l)-1;l&=~(1<<h),a+=1;var d=32-We(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,wi=1<<32-We(i)+h|a<<h|l,Ri=d+e}else wi=1<<d|a<<h|l,Ri=e}function Lh(e){e.return!==null&&(gs(e,1),Vg(e,1,0))}function zh(e){for(;e===Au;)Au=fa[--da],fa[da]=null,Su=fa[--da],fa[da]=null;for(;e===ms;)ms=Sn[--bn],Sn[bn]=null,Ri=Sn[--bn],Sn[bn]=null,wi=Sn[--bn],Sn[bn]=null}var tn=null,ke=null,jt=!1,kn=null,ei=!1,Bh=Error(s(519));function ps(e){var i=Error(s(418,""));throw Mo(An(i,e)),Bh}function Mg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[De]=e,i[Te]=l,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<il.length;a++)xt(il[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),is(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ns(i);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),cr(i,l.value,l.defaultValue,l.children),ns(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||qy(i.textContent,a)?(l.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),l.onScroll!=null&&xt("scroll",i),l.onScrollEnd!=null&&xt("scrollend",i),l.onClick!=null&&(i.onclick=ec),i=!0):i=!1,i||ps(e)}function xg(e){for(tn=e.return;tn;)switch(tn.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:tn=tn.return}}function No(e){if(e!==tn)return!1;if(!jt)return xg(e),jt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||od(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&ke&&ps(e),xg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ke=zn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ke=null}}else ke=tn?zn(e.stateNode.nextSibling):null;return!0}function Vo(){ke=tn=null,jt=!1}function Mo(e){kn===null?kn=[e]:kn.push(e)}var xo=Error(s(460)),Ug=Error(s(474)),jh={then:function(){}};function Pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bu(){}function kg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(bu,bu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===xo?Error(s(483)):e;default:if(typeof i.status=="string")i.then(bu,bu);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===xo?Error(s(483)):e}throw Uo=i,xo}}var Uo=null;function Lg(){if(Uo===null)throw Error(s(459));var e=Uo;return Uo=null,e}var ma=null,Po=0;function wu(e){var i=Po;return Po+=1,ma===null&&(ma=[]),kg(ma,e,i)}function ko(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ru(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function zg(e){var i=e._init;return i(e._payload)}function Bg(e){function i(U,O){if(e){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function a(U,O){if(!e)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=br(U,O),U.index=0,U.sibling=null,U}function d(U,O,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=33554434,O):L):(U.flags|=33554434,O)):(U.flags|=1048576,O)}function v(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function E(U,O,L,Q){return O===null||O.tag!==6?(O=Pf(L,U.mode,Q),O.return=U,O):(O=h(O,L),O.return=U,O)}function w(U,O,L,Q){var lt=L.type;return lt===p?F(U,O,L.props.children,Q,L.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===ot&&zg(lt)===O.type)?(O=h(O,L.props),ko(O,L),O.return=U,O):(O=Fu(L.type,L.key,L.props,null,U.mode,Q),ko(O,L),O.return=U,O)}function N(U,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=kf(L,U.mode,Q),O.return=U,O):(O=h(O,L.children||[]),O.return=U,O)}function F(U,O,L,Q,lt){return O===null||O.tag!==7?(O=Rs(L,U.mode,Q,lt),O.return=U,O):(O=h(O,L),O.return=U,O)}function X(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Pf(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case f:return L=Fu(O.type,O.key,O.props,null,U.mode,L),ko(L,O),L.return=U,L;case m:return O=kf(O,U.mode,L),O.return=U,O;case ot:var Q=O._init;return O=Q(O._payload),X(U,O,L)}if(nt(O)||Ot(O))return O=Rs(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return X(U,wu(O),L);if(O.$$typeof===B)return X(U,ju(U,O),L);Ru(U,O)}return null}function z(U,O,L,Q){var lt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(U,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case f:return L.key===lt?w(U,O,L,Q):null;case m:return L.key===lt?N(U,O,L,Q):null;case ot:return lt=L._init,L=lt(L._payload),z(U,O,L,Q)}if(nt(L)||Ot(L))return lt!==null?null:F(U,O,L,Q,null);if(typeof L.then=="function")return z(U,O,wu(L),Q);if(L.$$typeof===B)return z(U,O,ju(U,L),Q);Ru(U,L)}return null}function H(U,O,L,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(L)||null,E(O,U,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case f:return U=U.get(Q.key===null?L:Q.key)||null,w(O,U,Q,lt);case m:return U=U.get(Q.key===null?L:Q.key)||null,N(O,U,Q,lt);case ot:var Ct=Q._init;return Q=Ct(Q._payload),H(U,O,L,Q,lt)}if(nt(Q)||Ot(Q))return U=U.get(L)||null,F(O,U,Q,lt,null);if(typeof Q.then=="function")return H(U,O,L,wu(Q),lt);if(Q.$$typeof===B)return H(U,O,L,ju(O,Q),lt);Ru(O,Q)}return null}function ct(U,O,L,Q){for(var lt=null,Ct=null,ft=O,pt=O=0,xe=null;ft!==null&&pt<L.length;pt++){ft.index>pt?(xe=ft,ft=null):xe=ft.sibling;var qt=z(U,ft,L[pt],Q);if(qt===null){ft===null&&(ft=xe);break}e&&ft&&qt.alternate===null&&i(U,ft),O=d(qt,O,pt),Ct===null?lt=qt:Ct.sibling=qt,Ct=qt,ft=xe}if(pt===L.length)return a(U,ft),jt&&gs(U,pt),lt;if(ft===null){for(;pt<L.length;pt++)ft=X(U,L[pt],Q),ft!==null&&(O=d(ft,O,pt),Ct===null?lt=ft:Ct.sibling=ft,Ct=ft);return jt&&gs(U,pt),lt}for(ft=l(ft);pt<L.length;pt++)xe=H(ft,U,pt,L[pt],Q),xe!==null&&(e&&xe.alternate!==null&&ft.delete(xe.key===null?pt:xe.key),O=d(xe,O,pt),Ct===null?lt=xe:Ct.sibling=xe,Ct=xe);return e&&ft.forEach(function(Nr){return i(U,Nr)}),jt&&gs(U,pt),lt}function Tt(U,O,L,Q){if(L==null)throw Error(s(151));for(var lt=null,Ct=null,ft=O,pt=O=0,xe=null,qt=L.next();ft!==null&&!qt.done;pt++,qt=L.next()){ft.index>pt?(xe=ft,ft=null):xe=ft.sibling;var Nr=z(U,ft,qt.value,Q);if(Nr===null){ft===null&&(ft=xe);break}e&&ft&&Nr.alternate===null&&i(U,ft),O=d(Nr,O,pt),Ct===null?lt=Nr:Ct.sibling=Nr,Ct=Nr,ft=xe}if(qt.done)return a(U,ft),jt&&gs(U,pt),lt;if(ft===null){for(;!qt.done;pt++,qt=L.next())qt=X(U,qt.value,Q),qt!==null&&(O=d(qt,O,pt),Ct===null?lt=qt:Ct.sibling=qt,Ct=qt);return jt&&gs(U,pt),lt}for(ft=l(ft);!qt.done;pt++,qt=L.next())qt=H(ft,U,pt,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ft.delete(qt.key===null?pt:qt.key),O=d(qt,O,pt),Ct===null?lt=qt:Ct.sibling=qt,Ct=qt);return e&&ft.forEach(function(sS){return i(U,sS)}),jt&&gs(U,pt),lt}function oe(U,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===p&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case f:t:{for(var lt=L.key;O!==null;){if(O.key===lt){if(lt=L.type,lt===p){if(O.tag===7){a(U,O.sibling),Q=h(O,L.props.children),Q.return=U,U=Q;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===ot&&zg(lt)===O.type){a(U,O.sibling),Q=h(O,L.props),ko(Q,L),Q.return=U,U=Q;break t}a(U,O);break}else i(U,O);O=O.sibling}L.type===p?(Q=Rs(L.props.children,U.mode,Q,L.key),Q.return=U,U=Q):(Q=Fu(L.type,L.key,L.props,null,U.mode,Q),ko(Q,L),Q.return=U,U=Q)}return v(U);case m:t:{for(lt=L.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(U,O.sibling),Q=h(O,L.children||[]),Q.return=U,U=Q;break t}else{a(U,O);break}else i(U,O);O=O.sibling}Q=kf(L,U.mode,Q),Q.return=U,U=Q}return v(U);case ot:return lt=L._init,L=lt(L._payload),oe(U,O,L,Q)}if(nt(L))return ct(U,O,L,Q);if(Ot(L)){if(lt=Ot(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),Tt(U,O,L,Q)}if(typeof L.then=="function")return oe(U,O,wu(L),Q);if(L.$$typeof===B)return oe(U,O,ju(U,L),Q);Ru(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(U,O.sibling),Q=h(O,L),Q.return=U,U=Q):(a(U,O),Q=Pf(L,U.mode,Q),Q.return=U,U=Q),v(U)):a(U,O)}return function(U,O,L,Q){try{Po=0;var lt=oe(U,O,L,Q);return ma=null,lt}catch(ft){if(ft===xo)throw ft;var Ct=Cn(29,ft,null,U.mode);return Ct.lanes=Q,Ct.return=U,Ct}finally{}}}var ys=Bg(!0),jg=Bg(!1),ga=zt(null),Iu=zt(0);function qg(e,i){e=ki,Qt(Iu,e),Qt(ga,i),ki=e|i.baseLanes}function qh(){Qt(Iu,ki),Qt(ga,ga.current)}function Hh(){ki=Iu.current,ie(ga),ie(Iu)}var wn=zt(null),ni=null;function dr(e){var i=e.alternate;Qt(be,be.current&1),Qt(wn,e),ni===null&&(i===null||ga.current!==null||i.memoizedState!==null)&&(ni=e)}function Hg(e){if(e.tag===22){if(Qt(be,be.current),Qt(wn,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else mr()}function mr(){Qt(be,be.current),Qt(wn,wn.current)}function Ii(e){ie(wn),ni===e&&(ni=null),ie(be)}var be=zt(0);function Cu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var QT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},KT=r.unstable_scheduleCallback,YT=r.unstable_NormalPriority,we={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new QT,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&KT(YT,function(){e.controller.abort()})}var zo=null,Gh=0,pa=0,ya=null;function XT(e,i){if(zo===null){var a=zo=[];Gh=0,pa=Zf(),ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gh++,i.then(Fg,Fg),i}function Fg(){if(--Gh===0&&zo!==null){ya!==null&&(ya.status="fulfilled");var e=zo;zo=null,pa=0,ya=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function $T(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Gg=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&XT(e,i),Gg!==null&&Gg(e,i)};var _s=zt(null);function Qh(){var e=_s.current;return e!==null?e:$t.pooledCache}function Du(e,i){i===null?Qt(_s,_s.current):Qt(_s,i.pool)}function Qg(){var e=Qh();return e===null?null:{parent:we._currentValue,pool:e}}var gr=0,It=null,Kt=null,de=null,Ou=!1,_a=!1,vs=!1,Nu=0,Bo=0,va=null,WT=0;function ue(){throw Error(s(321))}function Kh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!un(e[a],i[a]))return!1;return!0}function Yh(e,i,a,l,h,d){return gr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?Es:pr,vs=!1,d=a(l,h),vs=!1,_a&&(d=Yg(i,a,l,h)),Kg(e),d}function Kg(e){S.H=ii;var i=Kt!==null&&Kt.next!==null;if(gr=0,de=Kt=It=null,Ou=!1,Bo=0,va=null,i)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&Bu(e)&&(Ve=!0))}function Yg(e,i,a,l){It=e;var h=0;do{if(_a&&(va=null),Bo=0,_a=!1,25<=h)throw Error(s(301));if(h+=1,de=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Ts,d=i(a,l)}while(_a);return d}function ZT(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?jo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(It.flags|=1024),i}function Xh(){var e=Nu!==0;return Nu=0,e}function $h(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Wh(e){if(Ou){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ou=!1}gr=0,de=Kt=It=null,_a=!1,Bo=Nu=0,va=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?It.memoizedState=de=e:de=de.next=e,de}function me(){if(Kt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=de===null?It.memoizedState:de.next;if(i!==null)de=i,Kt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},de===null?It.memoizedState=de=e:de=de.next=e}return de}var Vu;Vu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function jo(e){var i=Bo;return Bo+=1,va===null&&(va=[]),e=kg(va,e,i),i=It,(de===null?i.memoizedState:de.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Es:pr),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===B)return Fe(e)}throw Error(s(438,String(e)))}function Zh(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Vu(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=wt;return i.index++,a}function Ci(e,i){return typeof i=="function"?i(e):i}function xu(e){var i=me();return Jh(i,Kt,e)}function Jh(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,w=null,N=i,F=!1;do{var X=N.lane&-536870913;if(X!==N.lane?(kt&X)===X:(gr&X)===X){var z=N.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),X===pa&&(F=!0);else if((gr&z)===z){N=N.next,z===pa&&(F=!0);continue}else X={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(E=w=X,v=d):w=w.next=X,It.lanes|=z,wr|=z;X=N.action,vs&&a(d,X),d=N.hasEagerState?N.eagerState:a(d,X)}else z={lane:X,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(E=w=z,v=d):w=w.next=z,It.lanes|=X,wr|=X;N=N.next}while(N!==null&&N!==i);if(w===null?v=d:w.next=E,!un(d,e.memoizedState)&&(Ve=!0,F&&(a=ya,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function tf(e){var i=me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Ve=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Xg(e,i,a){var l=It,h=me(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Kt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ve=!0),h=h.queue,rf(Zg.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Ea(9,Wg.bind(null,l,h,a,i),{destroy:void 0},null),$t===null)throw Error(s(349));d||gr&60||$g(l,i,a)}return a}function $g(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=Vu(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Wg(e,i,a,l){i.value=a,i.getSnapshot=l,Jg(i)&&tp(e)}function Zg(e,i,a){return a(function(){Jg(i)&&tp(e)})}function Jg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!un(e,a)}catch{return!0}}function tp(e){var i=fr(e,2);i!==null&&en(i,e,2)}function ef(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),vs){Fn(!0);try{a()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},i}function ep(e,i,a,l){return e.baseState=a,Jh(e,Kt,typeof l=="function"?l:Ci)}function JT(e,i,a,l,h){if(ku(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,np(i,d)):(d.next=a.next,i.pending=a.next=d)}}function np(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var E=a(h,l),w=S.S;w!==null&&w(v,E),ip(e,i,E)}catch(N){nf(e,i,N)}finally{S.T=d}}else try{d=a(h,l),ip(e,i,d)}catch(N){nf(e,i,N)}}function ip(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){rp(e,i,l)},function(l){return nf(e,i,l)}):rp(e,i,a)}function rp(e,i,a){i.status="fulfilled",i.value=a,sp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,np(e,a)))}function nf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sp(i),i=i.next;while(i!==l)}e.action=null}function sp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ap(e,i){return i}function op(e,i){if(jt){var a=$t.formState;if(a!==null){t:{var l=It;if(jt){if(ke){e:{for(var h=ke,d=ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ke=zn(h.nextSibling),l=h.data==="F!";break t}}ps(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:i},a.queue=l,a=wp.bind(null,It,l),l.dispatch=a,l=ef(!1),d=uf.bind(null,It,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=JT.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function lp(e){var i=me();return up(i,Kt,e)}function up(e,i,a){i=Jh(e,i,ap)[0],e=xu(Ci)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?jo(i):i;var l=me(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(It.flags|=2048,Ea(9,tA.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function tA(e,i){e.action=i}function cp(e){var i=me(),a=Kt;if(a!==null)return up(i,a,e);me(),i=i.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ea(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=It.updateQueue,i===null&&(i=Vu(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function hp(){return me().memoizedState}function Uu(e,i,a,l){var h=sn();It.flags|=e,h.memoizedState=Ea(1|i,a,{destroy:void 0},l===void 0?null:l)}function Pu(e,i,a,l){var h=me();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&Kh(l,Kt.memoizedState.deps)?h.memoizedState=Ea(i,a,d,l):(It.flags|=e,h.memoizedState=Ea(1|i,a,d,l))}function fp(e,i){Uu(8390656,8,e,i)}function rf(e,i){Pu(2048,8,e,i)}function dp(e,i){return Pu(4,2,e,i)}function mp(e,i){return Pu(4,4,e,i)}function gp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function pp(e,i,a){a=a!=null?a.concat([e]):null,Pu(4,4,gp.bind(null,i,e),a)}function sf(){}function yp(e,i){var a=me();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Kh(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function _p(e,i){var a=me();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Kh(i,l[1]))return l[0];if(l=e(),vs){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[l,i],l}function af(e,i,a){return a===void 0||gr&1073741824?e.memoizedState=i:(e.memoizedState=a,e=Ey(),It.lanes|=e,wr|=e,a)}function vp(e,i,a,l){return un(a,i)?a:ga.current!==null?(e=af(e,a,l),un(e,i)||(Ve=!0),e):gr&42?(e=Ey(),It.lanes|=e,wr|=e,i):(Ve=!0,e.memoizedState=a)}function Ep(e,i,a,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var v=S.T,E={};S.T=E,uf(e,!1,i,a);try{var w=h(),N=S.S;if(N!==null&&N(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=$T(w,l);qo(e,i,F,dn(e))}else qo(e,i,l,dn(e))}catch(X){qo(e,i,{then:function(){},status:"rejected",reason:X},dn())}finally{it.p=d,S.T=v}}function eA(){}function of(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Tp(e).queue;Ep(e,h,i,Rt,a===null?eA:function(){return Ap(e),a(l)})}function Tp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:Rt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ap(e){var i=Tp(e).next.queue;qo(e,i,{},dn())}function lf(){return Fe(ll)}function Sp(){return me().memoizedState}function bp(){return me().memoizedState}function nA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();e=vr(a);var l=Er(i,e,a);l!==null&&(en(l,i,a),Go(l,i,a)),i={cache:Fh()},e.payload=i;return}i=i.return}}function iA(e,i,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ku(e)?Rp(i,a):(a=kh(e,i,a,l),a!==null&&(en(a,e,l),Ip(a,i,l)))}function wp(e,i,a){var l=dn();qo(e,i,a,l)}function qo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ku(e))Rp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,un(E,v))return Eu(e,i,h,0),$t===null&&vu(),!1}catch{}finally{}if(a=kh(e,i,h,l),a!==null)return en(a,e,l),Ip(a,i,l),!0}return!1}function uf(e,i,a,l){if(l={lane:2,revertLane:Zf(),action:l,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(i)throw Error(s(479))}else i=kh(e,a,l,2),i!==null&&en(i,e,2)}function ku(e){var i=e.alternate;return e===It||i!==null&&i===It}function Rp(e,i){_a=Ou=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ip(e,i,a){if(a&4194176){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nr(e,a)}}var ii={readContext:Fe,use:Mu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};ii.useCacheRefresh=ue,ii.useMemoCache=ue,ii.useHostTransitionStatus=ue,ii.useFormState=ue,ii.useActionState=ue,ii.useOptimistic=ue;var Es={readContext:Fe,use:Mu,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:fp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Uu(4194308,4,gp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Uu(4194308,4,e,i)},useInsertionEffect:function(e,i){Uu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(vs){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(vs){Fn(!0);try{a(i)}finally{Fn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=iA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=ef(e);var i=e.queue,a=wp.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:sf,useDeferredValue:function(e,i){var a=sn();return af(a,e,i)},useTransition:function(){var e=ef(!1);return e=Ep.bind(null,It,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=sn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),$t===null)throw Error(s(349));kt&60||$g(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,fp(Zg.bind(null,l,d,e),[e]),l.flags|=2048,Ea(9,Wg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=sn(),i=$t.identifierPrefix;if(jt){var a=Ri,l=wi;a=(l&~(1<<32-We(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Nu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=WT++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=nA.bind(null,It)}};Es.useMemoCache=Zh,Es.useHostTransitionStatus=lf,Es.useFormState=op,Es.useActionState=op,Es.useOptimistic=function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=uf.bind(null,It,!0,a),a.dispatch=i,[e,i]};var pr={readContext:Fe,use:Mu,useCallback:yp,useContext:Fe,useEffect:rf,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:xu,useRef:hp,useState:function(){return xu(Ci)},useDebugValue:sf,useDeferredValue:function(e,i){var a=me();return vp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=xu(Ci)[0],i=me().memoizedState;return[typeof e=="boolean"?e:jo(e),i]},useSyncExternalStore:Xg,useId:Sp};pr.useCacheRefresh=bp,pr.useMemoCache=Zh,pr.useHostTransitionStatus=lf,pr.useFormState=lp,pr.useActionState=lp,pr.useOptimistic=function(e,i){var a=me();return ep(a,Kt,e,i)};var Ts={readContext:Fe,use:Mu,useCallback:yp,useContext:Fe,useEffect:rf,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:tf,useRef:hp,useState:function(){return tf(Ci)},useDebugValue:sf,useDeferredValue:function(e,i){var a=me();return Kt===null?af(a,e,i):vp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=tf(Ci)[0],i=me().memoizedState;return[typeof e=="boolean"?e:jo(e),i]},useSyncExternalStore:Xg,useId:Sp};Ts.useCacheRefresh=bp,Ts.useMemoCache=Zh,Ts.useHostTransitionStatus=lf,Ts.useFormState=cp,Ts.useActionState=cp,Ts.useOptimistic=function(e,i){var a=me();return Kt!==null?ep(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function cf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hf={isMounted:function(e){return(e=e._reactInternals)?dt(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=dn(),h=vr(l);h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,l),i!==null&&(en(i,e,l),Go(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=dn(),h=vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,l),i!==null&&(en(i,e,l),Go(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=dn(),l=vr(a);l.tag=2,i!=null&&(l.callback=i),i=Er(e,l,a),i!==null&&(en(i,e,a),Go(i,e,a))}};function Cp(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Do(a,l)||!Do(h,d):!0}function Dp(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&hf.enqueueReplaceState(i,i.state,null)}function As(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Op(e){Lu(e)}function Np(e){console.error(e)}function Vp(e){Lu(e)}function zu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Mp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ff(e,i,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){zu(e,i)},a}function xp(e){return e=vr(e),e.tag=3,e}function Up(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Mp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Mp(i,a,l),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function rA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fo(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return ni===null?Kf():a.alternate===null&&ae===0&&(ae=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===jh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Xf(e,l,h)),!1;case 22:return a.flags|=65536,l===jh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Xf(e,l,h)),!1}throw Error(s(435,a.tag))}return Xf(e,l,h),Kf(),!1}if(jt)return i=wn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Bh&&(e=Error(s(422),{cause:l}),Mo(An(e,a)))):(l!==Bh&&(i=Error(s(423),{cause:l}),Mo(An(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=An(l,a),h=ff(e.stateNode,l,h),If(e,h),ae!==4&&(ae=2)),!1;var d=Error(s(520),{cause:l});if(d=An(d,a),Jo===null?Jo=[d]:Jo.push(d),ae!==4&&(ae=2),i===null)return!0;l=An(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ff(a.stateNode,l,e),If(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=xp(h),Up(h,e,a,l),If(a,h),!1}a=a.return}while(a!==null);return!1}var Pp=Error(s(461)),Ve=!1;function Le(e,i,a,l){i.child=e===null?jg(i,null,a,l):ys(i,e.child,a,l)}function kp(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return bs(i),l=Yh(e,i,a,v,d,h),E=Xh(),e!==null&&!Ve?($h(e,i,h),Di(e,i,h)):(jt&&E&&Lh(i),i.flags|=1,Le(e,i,l,h),i.child)}function Lp(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,zp(e,i,d,l,h)):(e=Fu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Tf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Do,a(v,l)&&e.ref===i.ref)return Di(e,i,h)}return i.flags|=1,e=br(d,l),e.ref=i.ref,e.return=i,i.child=e}function zp(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Do(d,l)&&e.ref===i.ref)if(Ve=!1,i.pendingProps=l=d,Tf(e,h))e.flags&131072&&(Ve=!0);else return i.lanes=e.lanes,Di(e,i,h)}return df(e,i,a,l,h)}function Bp(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Ho(e,i),l.mode==="hidden"||d){if(i.flags&128){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return jp(e,i,l,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(i,v!==null?v.cachePool:null),v!==null?qg(i,v):qh(),Hg(i);else return i.lanes=i.childLanes=536870912,jp(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Du(i,v.cachePool),qg(i,v),mr(),i.memoizedState=null):(e!==null&&Du(i,null),qh(),mr());return Le(e,i,h,a),i.child}function jp(e,i,a,l){var h=Qh();return h=h===null?null:{parent:we._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Du(i,null),qh(),Hg(i),e!==null&&Fo(e,i,l,!0),null}function Ho(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function df(e,i,a,l,h){return bs(i),a=Yh(e,i,a,l,void 0,h),l=Xh(),e!==null&&!Ve?($h(e,i,h),Di(e,i,h)):(jt&&l&&Lh(i),i.flags|=1,Le(e,i,a,h),i.child)}function qp(e,i,a,l,h,d){return bs(i),i.updateQueue=null,a=Yg(i,l,a,h),Kg(e),l=Xh(),e!==null&&!Ve?($h(e,i,d),Di(e,i,d)):(jt&&l&&Lh(i),i.flags|=1,Le(e,i,a,d),i.child)}function Hp(e,i,a,l,h){if(bs(i),i.stateNode===null){var d=ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):ha,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(cf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&hf.enqueueReplaceState(d,d.state,null),Ko(i,l,d,h),Qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,w=As(a,E);d.props=w;var N=d.context,F=a.contextType;v=ha,typeof F=="object"&&F!==null&&(v=Fe(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||N!==v)&&Dp(i,d,l,v),_r=!1;var z=i.memoizedState;d.state=z,Ko(i,l,d,h),Qo(),N=i.memoizedState,E||z!==N||_r?(typeof X=="function"&&(cf(i,a,X,l),N=i.memoizedState),(w=_r||Cp(i,a,w,l,z,N,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=N),d.props=l,d.state=N,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(e,i),v=i.memoizedProps,F=As(a,v),d.props=F,X=i.pendingProps,z=d.context,N=a.contextType,w=ha,typeof N=="object"&&N!==null&&(w=Fe(N)),E=a.getDerivedStateFromProps,(N=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==w)&&Dp(i,d,l,w),_r=!1,z=i.memoizedState,d.state=z,Ko(i,l,d,h),Qo();var H=i.memoizedState;v!==X||z!==H||_r||e!==null&&e.dependencies!==null&&Bu(e.dependencies)?(typeof E=="function"&&(cf(i,a,E,l),H=i.memoizedState),(F=_r||Cp(i,a,F,l,z,H,w)||e!==null&&e.dependencies!==null&&Bu(e.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=w,l=F):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ho(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ys(i,e.child,null,h),i.child=ys(i,null,a,h)):Le(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Di(e,i,h),e}function Fp(e,i,a,l){return Vo(),i.flags|=256,Le(e,i,a,l),i.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function gf(e){return{baseLanes:e,cachePool:Qg()}}function pf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Dn),e}function Gp(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?dr(i):mr(),jt){var E=ke,w;if(w=E){t:{for(w=E,E=ei;w.nodeType!==8;){if(!E){E=null;break t}if(w=zn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(i.memoizedState={dehydrated:E,treeContext:ms!==null?{id:wi,overflow:Ri}:null,retryLane:536870912},w=Cn(18,null,null,0),w.stateNode=E,w.return=i,i.child=w,tn=i,ke=null,w=!0):w=!1}w||ps(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ii(i)}return E=l.children,l=l.fallback,h?(mr(),h=i.mode,E=_f({mode:"hidden",children:E},h),l=Rs(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=gf(a),h.childLanes=pf(e,v,a),i.memoizedState=mf,l):(dr(i),yf(i,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(d)i.flags&256?(dr(i),i.flags&=-257,i=vf(e,i,a)):i.memoizedState!==null?(mr(),i.child=e.child,i.flags|=128,i=null):(mr(),h=l.fallback,E=i.mode,l=_f({mode:"visible",children:l.children},E),h=Rs(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ys(i,e.child,null,a),l=i.child,l.memoizedState=gf(a),l.childLanes=pf(e,v,a),i.memoizedState=mf,i=h);else if(dr(i),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var N=v.dgst;v=N,l=Error(s(419)),l.stack="",l.digest=v,Mo({value:l,source:null,stack:null}),i=vf(e,i,a)}else if(Ve||Fo(e,i,a,!1),v=(a&e.childLanes)!==0,Ve||v){if(v=$t,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,fr(e,l),en(v,e,l),Pp}E.data==="$?"||Kf(),i=vf(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=vA.bind(null,e),E._reactRetry=i,i=null):(e=w.treeContext,ke=zn(E.nextSibling),tn=i,jt=!0,kn=null,ei=!1,e!==null&&(Sn[bn++]=wi,Sn[bn++]=Ri,Sn[bn++]=ms,wi=e.id,Ri=e.overflow,ms=i),i=yf(i,l.children),i.flags|=4096);return i}return h?(mr(),h=l.fallback,E=i.mode,w=e.child,N=w.sibling,l=br(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,N!==null?h=br(N,h):(h=Rs(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=gf(a):(w=E.cachePool,w!==null?(N=we._currentValue,w=w.parent!==N?{parent:N,pool:N}:w):w=Qg(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=pf(e,v,a),i.memoizedState=mf,l):(dr(i),a=e.child,e=a.sibling,a=br(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function yf(e,i){return i=_f({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function _f(e,i){return yy(e,i,0,null)}function vf(e,i,a){return ys(i,e.child,null,a),e=yf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Qp(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Sf(e.return,i,a)}function Ef(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Kp(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Le(e,i,l.children,a),l=be.current,l&2)l=l&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,a,i);else if(e.tag===19)Qp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Qt(be,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Cu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ef(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Cu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ef(i,!0,a,null,d);break;case"together":Ef(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),wr|=i.lanes,!(a&i.childLanes))if(e!==null){if(Fo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=br(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=br(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Tf(e,i){return e.lanes&i?!0:(e=e.dependencies,!!(e!==null&&Bu(e)))}function sA(e,i,a){switch(i.tag){case 3:$i(i,i.stateNode.containerInfo),yr(i,we,e.memoizedState.cache),Vo();break;case 27:case 5:oo(i);break;case 4:$i(i,i.stateNode.containerInfo);break;case 10:yr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(i),i.flags|=128,null):a&i.child.childLanes?Gp(e,i,a):(dr(i),e=Di(e,i,a),e!==null?e.sibling:null);dr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Kp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qt(be,be.current),l)break;return null;case 22:case 23:return i.lanes=0,Bp(e,i,a);case 24:yr(i,we,e.memoizedState.cache)}return Di(e,i,a)}function Yp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ve=!0;else{if(!Tf(e,a)&&!(i.flags&128))return Ve=!1,sA(e,i,a);Ve=!!(e.flags&131072)}else Ve=!1,jt&&i.flags&1048576&&Vg(i,Su,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Uf(l)?(e=As(l,e),i.tag=1,i=Hp(null,i,l,e,a)):(i.tag=0,i=df(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===G){i.tag=11,i=kp(null,i,l,e,a);break t}else if(h===at){i.tag=14,i=Lp(null,i,l,e,a);break t}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return df(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=As(l,i.pendingProps),Hp(e,i,l,h,a);case 3:t:{if($i(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Rf(e,i),Ko(i,d,null,a);var v=i.memoizedState;if(d=v.cache,yr(i,we,d),d!==h.cache&&bf(i,[we],a,!0),Qo(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Fp(e,i,d,a);break t}else if(d!==l){l=An(Error(s(424)),i),Mo(l),i=Fp(e,i,d,a);break t}else for(ke=zn(i.stateNode.containerInfo.firstChild),tn=i,jt=!0,kn=null,ei=!0,a=jg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Vo(),d===l){i=Di(e,i,a);break t}Le(e,i,d,a)}i=i.child}return i;case 26:return Ho(e,i),e===null?(a=Wy(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=nc(mn.current).createElement(a),l[De]=i,l[Te]=e,ze(l,a,e),Jt(l),i.stateNode=l):i.memoizedState=Wy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return oo(i),e===null&&jt&&(l=i.stateNode=Yy(i.type,i.pendingProps,mn.current),tn=i,ei=!0,ke=zn(l.firstChild)),l=i.pendingProps.children,e!==null||jt?Le(e,i,l,a):i.child=ys(i,null,l,a),Ho(e,i),i.child;case 5:return e===null&&jt&&((h=l=ke)&&(l=UA(l,i.type,i.pendingProps,ei),l!==null?(i.stateNode=l,tn=i,ke=zn(l.firstChild),ei=!1,h=!0):h=!1),h||ps(i)),oo(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,od(h,d)?l=null:v!==null&&od(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Yh(e,i,ZT,null,null,a),ll._currentValue=h),Ho(e,i),Le(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=ke)&&(a=PA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,tn=i,ke=null,e=!0):e=!1),e||ps(i)),null;case 13:return Gp(e,i,a);case 4:return $i(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ys(i,null,l,a):Le(e,i,l,a),i.child;case 11:return kp(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,yr(i,i.type,l.value),Le(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,bs(i),h=Fe(h),l=l(h),i.flags|=1,Le(e,i,l,a),i.child;case 14:return Lp(e,i,i.type,i.pendingProps,a);case 15:return zp(e,i,i.type,i.pendingProps,a);case 19:return Kp(e,i,a);case 22:return Bp(e,i,a);case 24:return bs(i),l=Fe(we),e===null?(h=Qh(),h===null&&(h=$t,d=Fh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),yr(i,we,h)):(e.lanes&a&&(Rf(e,i),Ko(i,null,null,a),Qo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),yr(i,we,l)):(l=d.cache,yr(i,we,l),l!==h.cache&&bf(i,[we],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Af=zt(null),Ss=null,Oi=null;function yr(e,i,a){Qt(Af,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=Af.current,ie(Af)}function Sf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function bf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var w=0;w<i.length;w++)if(E.context===i[w]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Sf(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Sf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Fo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;un(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Xi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}h=h.return}e!==null&&bf(i,e,a,l),i.flags|=262144}function Bu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){Ss=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Xp(Ss,e)}function ju(e,i){return Ss===null&&bs(e),Xp(e,i)}function Xp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Oi=Oi.next=i;return a}var _r=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ee&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Tu(e),Og(e,null,a),i}return Eu(e,l,i,a),Tu(e)}function Go(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nr(e,a)}}function If(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Cf=!1;function Qo(){if(Cf){var e=ya;if(e!==null)throw e}}function Ko(e,i,a,l){Cf=!1;var h=e.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,N=w.next;w.next=null,v===null?d=N:v.next=N,v=w;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=N:E.next=N,F.lastBaseUpdate=w))}if(d!==null){var X=h.baseState;v=0,F=N=w=null,E=d;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(kt&z)===z:(l&z)===z){z!==0&&z===pa&&(Cf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,Tt=E;z=i;var oe=a;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){X=ct.call(oe,X,z);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,z=typeof ct=="function"?ct.call(oe,X,z):ct,z==null)break t;X=C({},X,z);break t;case 2:_r=!0}}z=E.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(N=F=H,w=X):F=F.next=H,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(w=X),h.baseState=w,h.firstBaseUpdate=N,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),wr|=v,e.lanes=v,e.memoizedState=X}}function $p(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Wp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$p(a[e],i)}function Yo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Xt(i,i.return,E)}}function Tr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var w=a;try{E()}catch(N){Xt(h,w,N)}}}l=l.next}while(l!==d)}}catch(N){Xt(i,i.return,N)}}function Zp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Wp(i,a)}catch(l){Xt(e,e.return,l)}}}function Jp(e,i,a){a.props=As(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(e,i,l)}}function ws(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Xt(e,i,d)}}function cn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function ty(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function ey(e,i,a){try{var l=e.stateNode;OA(l,e.type,a,i),l[Te]=i}catch(h){Xt(e,e.return,h)}}function ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ec));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Of(e,i,a),e=e.sibling;e!==null;)Of(e,i,a),e=e.sibling}function qu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(qu(e,i,a),e=e.sibling;e!==null;)qu(e,i,a),e=e.sibling}var Vi=!1,se=!1,Nf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Me=null,ry=!1;function aA(e,i){if(e=e.containerInfo,sd=lc,e=Tg(e),Vh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,w=-1,N=0,F=0,X=e,z=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||l!==0&&X.nodeType!==3||(w=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===e)break e;if(z===a&&++N===h&&(E=v),z===d&&++F===l&&(w=v),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(ad={focusedElem:e,selectionRange:a},lc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=As(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Xt(a,a.return,Tt)}}break;case 3:if(e&1024){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)cd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}return ct=ry,ry=!1,ct}function sy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(e,a),l&4&&Yo(5,a);break;case 1:if(xi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Xt(a,a.return,E)}else{var h=As(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Xt(a,a.return,E)}}l&64&&Zp(a),l&512&&ws(a,a.return);break;case 3:if(xi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Wp(l,e)}catch(E){Xt(a,a.return,E)}}break;case 26:xi(e,a),l&512&&ws(a,a.return);break;case 27:case 5:xi(e,a),i===null&&l&4&&ty(a),l&512&&ws(a,a.return);break;case 12:xi(e,a);break;case 13:xi(e,a),l&4&&ly(e,a);break;case 22:if(h=a.memoizedState!==null||Vi,!h){i=i!==null&&i.memoizedState!==null||se;var d=Vi,v=se;Vi=h,(se=i)&&!v?Ar(e,a,(a.subtreeFlags&8772)!==0):xi(e,a),Vi=d,se=v}l&512&&(a.memoizedProps.mode==="manual"?ws(a,a.return):cn(a,a.return));break;default:xi(e,a)}}function ay(e){var i=e.alternate;i!==null&&(e.alternate=null,ay(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&es(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,hn=!1;function Mi(e,i,a){for(a=a.child;a!==null;)oy(e,i,a),a=a.sibling}function oy(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Wi,a)}catch{}switch(a.tag){case 26:se||cn(a,i),Mi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:se||cn(a,i);var l=ge,h=hn;for(ge=a.stateNode,Mi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);es(a),ge=l,hn=h;break;case 5:se||cn(a,i);case 6:h=ge;var d=hn;if(ge=null,Mi(e,i,a),ge=h,hn=d,ge!==null)if(hn)try{e=ge,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Xt(a,i,v)}else try{ge.removeChild(a.stateNode)}catch(v){Xt(a,i,v)}break;case 18:ge!==null&&(hn?(i=ge,a=a.stateNode,i.nodeType===8?ud(i.parentNode,a):i.nodeType===1&&ud(i,a),fl(i)):ud(ge,a.stateNode));break;case 4:l=ge,h=hn,ge=a.stateNode.containerInfo,hn=!0,Mi(e,i,a),ge=l,hn=h;break;case 0:case 11:case 14:case 15:se||Tr(2,a,i),se||Tr(4,a,i),Mi(e,i,a);break;case 1:se||(cn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jp(a,i,l)),Mi(e,i,a);break;case 21:Mi(e,i,a);break;case 22:se||cn(a,i),se=(l=se)||a.memoizedState!==null,Mi(e,i,a),se=l;break;default:Mi(e,i,a)}}function ly(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fl(e)}catch(a){Xt(i,i.return,a)}}function oA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new iy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new iy),i;default:throw Error(s(435,e.tag))}}function Vf(e,i){var a=oA(e);i.forEach(function(l){var h=EA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Rn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ge=E.stateNode,hn=!1;break t;case 3:ge=E.stateNode.containerInfo,hn=!0;break t;case 4:ge=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(ge===null)throw Error(s(160));oy(d,v,h),ge=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)uy(i,e),i=i.sibling}var Ln=null;function uy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(i,e),In(e),l&4&&(Tr(3,e,e.return),Yo(3,e),Tr(5,e,e.return));break;case 1:Rn(i,e),In(e),l&512&&(se||a===null||cn(a,a.return)),l&64&&Vi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(Rn(i,e),In(e),l&512&&(se||a===null||cn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rr]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,a),d[De]=e,Jt(d),l=d;break t;case"link":var v=t_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;case"meta":if(v=t_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[De]=e,Jt(d),l=d}e.stateNode=l}else e_(h,e.type,e.stateNode);else e.stateNode=Jy(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?e_(h,e.type,e.stateNode):Jy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ey(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var w=h.firstChild;w;){var N=w.nextSibling,F=w.nodeName;w[rr]||F==="HEAD"||F==="BODY"||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=N}for(var X=e.type,z=h.attributes;z.length;)h.removeAttributeNode(z[0]);ze(h,X,d),h[De]=e,h[Te]=d}catch(ct){Xt(e,e.return,ct)}}case 5:if(Rn(i,e),In(e),l&512&&(se||a===null||cn(a,a.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(ct){Xt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ey(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Nf=!0);break;case 6:if(Rn(i,e),In(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Xt(e,e.return,ct)}}break;case 3:if(sc=null,h=Ln,Ln=ic(i.containerInfo),Rn(i,e),Ln=h,In(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fl(i.containerInfo)}catch(ct){Xt(e,e.return,ct)}Nf&&(Nf=!1,cy(e));break;case 4:l=Ln,Ln=ic(e.stateNode.containerInfo),Rn(i,e),In(e),Ln=l;break;case 12:Rn(i,e),In(e);break;case 13:Rn(i,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jf=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vf(e,l)));break;case 22:if(l&512&&(se||a===null||cn(a,a.return)),w=e.memoizedState!==null,N=a!==null&&a.memoizedState!==null,F=Vi,X=se,Vi=F||w,se=X||N,Rn(i,e),se=X,Vi=F,In(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=w?i._visibility&-2:i._visibility|1,w&&(i=Vi||se,a===null||N||i||Ta(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){N=a=i;try{if(h=N.stateNode,w)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=N.stateNode,E=N.memoizedProps.style;var H=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ct){Xt(N,N.return,ct)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=w?"":N.memoizedProps}catch(ct){Xt(N,N.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vf(e,a))));break;case 19:Rn(i,e),In(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vf(e,l)));break;case 21:break;default:Rn(i,e),In(e)}}function In(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(ny(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Df(e);qu(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(yn(v,""),l.flags&=-33);var E=Df(e);qu(e,E,v);break;case 3:case 4:var w=l.stateNode.containerInfo,N=Df(e);Of(e,N,w);break;default:throw Error(s(161))}}}catch(F){Xt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;cy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function xi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sy(e,i.alternate,i),i=i.sibling}function Ta(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),Ta(i);break;case 1:cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Jp(i,i.return,a),Ta(i);break;case 26:case 27:case 5:cn(i,i.return),Ta(i);break;case 22:cn(i,i.return),i.memoizedState===null&&Ta(i);break;default:Ta(i)}e=e.sibling}}function Ar(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),Yo(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(N){Xt(l,l.return,N)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)$p(w[h],E)}catch(N){Xt(l,l.return,N)}}a&&v&64&&Zp(d),ws(d,d.return);break;case 26:case 27:case 5:Ar(h,d,a),a&&l===null&&v&4&&ty(d),ws(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&ly(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),ws(d,d.return);break;default:Ar(h,d,a)}i=i.sibling}}function Mf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function xf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e))}function Sr(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hy(e,i,a,l),i=i.sibling}function hy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Sr(e,i,a,l),h&2048&&Yo(9,i);break;case 3:Sr(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){Sr(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Xt(i,i.return,w)}}else Sr(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Sr(e,i,a,l):Xo(e,i):d._visibility&4?Sr(e,i,a,l):(d._visibility|=4,Aa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Mf(i.alternate,i);break;case 24:Sr(e,i,a,l),h&2048&&xf(i.alternate,i);break;default:Sr(e,i,a,l)}}function Aa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,w=l,N=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(d,v,E,w,h),Yo(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&4?Aa(d,v,E,w,h):Xo(d,v):(F._visibility|=4,Aa(d,v,E,w,h)),h&&N&2048&&Mf(v.alternate,v);break;case 24:Aa(d,v,E,w,h),h&&N&2048&&xf(v.alternate,v);break;default:Aa(d,v,E,w,h)}i=i.sibling}}function Xo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Xo(a,l),h&2048&&Mf(l.alternate,l);break;case 24:Xo(a,l),h&2048&&xf(l.alternate,l);break;default:Xo(a,l)}i=i.sibling}}var $o=8192;function Sa(e){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 26:Sa(e),e.flags&$o&&e.memoizedState!==null&&XA(Ln,e.memoizedState,e.memoizedProps);break;case 5:Sa(e);break;case 3:case 4:var i=Ln;Ln=ic(e.stateNode.containerInfo),Sa(e),Ln=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=$o,$o=16777216,Sa(e),$o=i):Sa(e));break;default:Sa(e)}}function dy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Wo(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,gy(l,e)}dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Hu(e)):Wo(e);break;default:Wo(e)}}function Hu(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,gy(l,e)}dy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),Hu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Hu(i));break;default:Hu(i)}e=e.sibling}}function gy(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(ay(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}function lA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,i,a,l){return new lA(e,i,a,l)}function Uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function br(e,i){var a=e.alternate;return a===null?(a=Cn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function py(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Fu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Uf(e)&&(v=1);else if(typeof e=="string")v=KA(e,a,$e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Rs(a.children,h,d,i);case y:v=8,h|=24;break;case T:return e=Cn(12,a,i,h|2),e.elementType=T,e.lanes=d,e;case $:return e=Cn(13,a,i,h),e.elementType=$,e.lanes=d,e;case q:return e=Cn(19,a,i,h),e.elementType=q,e.lanes=d,e;case ut:return yy(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case B:v=10;break t;case M:v=9;break t;case G:v=11;break t;case at:v=14;break t;case ot:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Cn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Rs(e,i,a,l){return e=Cn(7,e,l,i),e.lanes=a,e}function yy(e,i,a,l){e=Cn(22,e,l,i),e.elementType=ut,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=fr(d,2);v!==null&&(h._pendingVisibility|=2,en(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=fr(d,2);v!==null&&(h._pendingVisibility&=-3,en(v,d,2))}}};return e.stateNode=h,e}function Pf(e,i,a){return e=Cn(6,e,null,i),e.lanes=a,e}function kf(e,i,a){return i=Cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Ui(e){e.flags|=4}function _y(e,i){if(i.type!=="stylesheet"||i.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!n_(i)){if(i=wn.current,i!==null&&((kt&4194176)===kt?ni!==null:(kt&62914560)!==kt&&!(kt&536870912)||i!==ni))throw Uo=jh,Ug;e.flags|=8192}}function Gu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tr():536870912,e.lanes|=i,wa|=i)}function Zo(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function te(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function uA(e,i,a){var l=i.pendingProps;switch(zh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(i),null;case 1:return te(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ni(we),mi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(No(i)?Ui(i):e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,kn!==null&&(Gf(kn),kn=null))),te(i),null;case 26:return a=i.memoizedState,e===null?(Ui(i),a!==null?(te(i),_y(i,a)):(te(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ui(i),te(i),_y(i,a)):(te(i),i.flags&=-16777217):(e.memoizedProps!==l&&Ui(i),te(i),i.flags&=-16777217),null;case 27:Fs(i),a=mn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return te(i),null}e=$e.current,No(i)?Mg(i):(e=Yy(h,l,a),i.stateNode=e,Ui(i))}return te(i),null;case 5:if(Fs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return te(i),null}if(e=$e.current,No(i))Mg(i);else{switch(h=nc(mn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[De]=i,e[Te]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(i)}}return te(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=mn.current,No(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[De]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qy(e.nodeValue,a)),e||ps(i)}else e=nc(e).createTextNode(l),e[De]=i,i.stateNode=e}return te(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=No(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=i}else Vo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;te(i),h=!1}else kn!==null&&(Gf(kn),kn=null),h=!0;if(!h)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),i.flags&128)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Gu(i,i.updateQueue),te(i),null;case 4:return mi(),e===null&&nd(i.stateNode.containerInfo),te(i),null;case 10:return Ni(i.type),te(i),null;case 19:if(ie(be),h=i.memoizedState,h===null)return te(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Zo(h,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Cu(e),d!==null){for(i.flags|=128,Zo(h,!1),e=d.updateQueue,i.updateQueue=e,Gu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)py(a,e),a=a.sibling;return Qt(be,be.current&1|2),i.child}e=e.sibling}h.tail!==null&&nn()>Qu&&(i.flags|=128,l=!0,Zo(h,!1),i.lanes=4194304)}else{if(!l)if(e=Cu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Gu(i,e),Zo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return te(i),null}else 2*nn()-h.renderingStartTime>Qu&&a!==536870912&&(i.flags|=128,l=!0,Zo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,e=be.current,Qt(be,l?e&1|2:e&1),i):(te(i),null);case 22:case 23:return Ii(i),Hh(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?a&536870912&&!(i.flags&128)&&(te(i),i.subtreeFlags&6&&(i.flags|=8192)):te(i),a=i.updateQueue,a!==null&&Gu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ie(_s),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(we),te(i),null;case 25:return null}throw Error(s(156,i.tag))}function cA(e,i){switch(zh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(we),mi(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Fs(i),null;case 13:if(Ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ie(be),null;case 4:return mi(),null;case 10:return Ni(i.type),null;case 22:case 23:return Ii(i),Hh(),e!==null&&ie(_s),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(we),null;case 25:return null;default:return null}}function vy(e,i){switch(zh(i),i.tag){case 3:Ni(we),mi();break;case 26:case 27:case 5:Fs(i);break;case 4:mi();break;case 13:Ii(i);break;case 19:ie(be);break;case 10:Ni(i.type);break;case 22:case 23:Ii(i),Hh(),e!==null&&ie(_s);break;case 24:Ni(we)}}var hA={getCacheForType:function(e){var i=Fe(we),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},fA=typeof WeakMap=="function"?WeakMap:Map,ee=0,$t=null,Dt=null,kt=0,Wt=0,fn=null,Pi=!1,ba=!1,Lf=!1,ki=0,ae=0,wr=0,Is=0,zf=0,Dn=0,wa=0,Jo=null,ri=null,Bf=!1,jf=0,Qu=1/0,Ku=null,Rr=null,Yu=!1,Cs=null,tl=0,qf=0,Hf=null,el=0,Ff=null;function dn(){if(ee&2&&kt!==0)return kt&-kt;if(S.T!==null){var e=pa;return e!==0?e:Zf()}return tu()}function Ey(){Dn===0&&(Dn=!(kt&536870912)||jt?fo():536870912);var e=wn.current;return e!==null&&(e.flags|=32),Dn}function en(e,i,a){(e===$t&&Wt===2||e.cancelPendingCommit!==null)&&(Ra(e,0),Li(e,kt,Dn,!1)),le(e,a),(!(ee&2)||e!==$t)&&(e===$t&&(!(ee&2)&&(Is|=a),ae===4&&Li(e,kt,Dn,!1)),si(e))}function Ty(e,i,a){if(ee&6)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Ji(e,i),h=l?gA(e,i):Yf(e,i,!0),d=l;do{if(h===0){ba&&!l&&Li(e,i,0,!1);break}else if(h===6)Li(e,i,0,!Pi);else{if(a=e.current.alternate,d&&!dA(a)){h=Yf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Jo;var w=E.current.memoizedState.isDehydrated;if(w&&(Ra(E,v).flags|=256),v=Yf(E,v,!1),v!==2){if(Lf&&!w){E.errorRecoveryDisabledLanes|=d,Is|=d,h=4;break t}d=ri,ri=h,d!==null&&Gf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ra(e,0),Li(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Li(l,i,Dn,!Pi);break t}break;case 2:ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=jf+300-nn(),10<d)){if(Li(l,i,Dn,!Pi),gn(l,0)!==0)break t;l.timeoutHandle=Gy(Ay.bind(null,l,a,ri,Ku,Bf,i,Dn,Is,wa,Pi,2,-0,0),d);break t}Ay(l,a,ri,Ku,Bf,i,Dn,Is,wa,Pi,0,-0,0)}}break}while(!0);si(e)}function Gf(e){ri===null?ri=e:ri.push.apply(ri,e)}function Ay(e,i,a,l,h,d,v,E,w,N,F,X,z){var H=i.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(ol={stylesheets:null,count:0,unsuspend:YA},fy(i),i=$A(),i!==null)){e.cancelPendingCommit=i(Dy.bind(null,e,a,l,h,v,E,w,1,X,z)),Li(e,d,v,!N);return}Dy(e,a,l,h,v,E,w,F,X,z)}function dA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(e,i,a,l){i&=~zf,i&=~Is,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-We(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&er(e,a,i)}function Xu(){return ee&6?!0:(nl(0),!1)}function Qf(){if(Dt!==null){if(Wt===0)var e=Dt.return;else e=Dt,Oi=Ss=null,Wh(e),ma=null,Po=0,e=Dt;for(;e!==null;)vy(e.alternate,e),e=e.return;Dt=null}}function Ra(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,VA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Qf(),$t=e,Dt=a=br(e.current,null),kt=i,Wt=0,fn=null,Pi=!1,ba=Ji(e,i),Lf=!1,wa=Dn=zf=Is=wr=ae=0,ri=Jo=null,Bf=!1,i&8&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-We(l),d=1<<h;i|=e[h],l&=~d}return ki=i,vu(),a}function Sy(e,i){It=null,S.H=ii,i===xo?(i=Lg(),Wt=3):i===Ug?(i=Lg(),Wt=4):Wt=i===Pp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,Dt===null&&(ae=1,zu(e,An(i,e.current)))}function by(){var e=S.H;return S.H=ii,e===null?ii:e}function wy(){var e=S.A;return S.A=hA,e}function Kf(){ae=4,Pi||(kt&4194176)!==kt&&wn.current!==null||(ba=!0),!(wr&134217727)&&!(Is&134217727)||$t===null||Li($t,kt,Dn,!1)}function Yf(e,i,a){var l=ee;ee|=2;var h=by(),d=wy();($t!==e||kt!==i)&&(Ku=null,Ra(e,i)),i=!1;var v=ae;t:do try{if(Wt!==0&&Dt!==null){var E=Dt,w=fn;switch(Wt){case 8:Qf(),v=6;break t;case 3:case 2:case 6:wn.current===null&&(i=!0);var N=Wt;if(Wt=0,fn=null,Ia(e,E,w,N),a&&ba){v=0;break t}break;default:N=Wt,Wt=0,fn=null,Ia(e,E,w,N)}}mA(),v=ae;break}catch(F){Sy(e,F)}while(!0);return i&&e.shellSuspendCounter++,Oi=Ss=null,ee=l,S.H=h,S.A=d,Dt===null&&($t=null,kt=0,vu()),v}function mA(){for(;Dt!==null;)Ry(Dt)}function gA(e,i){var a=ee;ee|=2;var l=by(),h=wy();$t!==e||kt!==i?(Ku=null,Qu=nn()+500,Ra(e,i)):ba=Ji(e,i);t:do try{if(Wt!==0&&Dt!==null){i=Dt;var d=fn;e:switch(Wt){case 1:Wt=0,fn=null,Ia(e,i,d,1);break;case 2:if(Pg(d)){Wt=0,fn=null,Iy(i);break}i=function(){Wt===2&&$t===e&&(Wt=7),si(e)},d.then(i,i);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Pg(d)?(Wt=0,fn=null,Iy(i)):(Wt=0,fn=null,Ia(e,i,d,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var E=Dt;if(!v||n_(v)){Wt=0,fn=null;var w=E.sibling;if(w!==null)Dt=w;else{var N=E.return;N!==null?(Dt=N,$u(N)):Dt=null}break e}}Wt=0,fn=null,Ia(e,i,d,5);break;case 6:Wt=0,fn=null,Ia(e,i,d,6);break;case 8:Qf(),ae=6;break t;default:throw Error(s(462))}}pA();break}catch(F){Sy(e,F)}while(!0);return Oi=Ss=null,S.H=l,S.A=h,ee=a,Dt!==null?0:($t=null,kt=0,vu(),ae)}function pA(){for(;Dt!==null&&!Th();)Ry(Dt)}function Ry(e){var i=Yp(e.alternate,e,ki);e.memoizedProps=e.pendingProps,i===null?$u(e):Dt=i}function Iy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=qp(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=qp(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Wh(i);default:vy(a,i),i=Dt=py(i,ki),i=Yp(a,i,ki)}e.memoizedProps=e.pendingProps,i===null?$u(e):Dt=i}function Ia(e,i,a,l){Oi=Ss=null,Wh(i),ma=null,Po=0;var h=i.return;try{if(rA(e,h,i,a,kt)){ae=1,zu(e,An(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;ae=1,zu(e,An(a,e.current)),Dt=null;return}i.flags&32768?(jt||l===1?e=!0:ba||kt&536870912?e=!1:(Pi=e=!0,(l===2||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cy(i,e)):$u(i)}function $u(e){var i=e;do{if(i.flags&32768){Cy(i,Pi);return}e=i.return;var a=uA(i.alternate,i,ki);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);ae===0&&(ae=5)}function Cy(e,i){do{var a=cA(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ae=6,Dt=null}function Dy(e,i,a,l,h,d,v,E,w,N){var F=S.T,X=it.p;try{it.p=2,S.T=null,yA(e,i,a,l,X,h,d,v,E,w,N)}finally{S.T=F,it.p=X}}function yA(e,i,a,l,h,d,v,E){do Ca();while(Cs!==null);if(ee&6)throw Error(s(327));var w=e.finishedWork;if(l=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var N=w.lanes|w.childLanes;if(N|=Ph,Zl(e,l,N,d,v,E),e===$t&&(Dt=$t=null,kt=0),!(w.subtreeFlags&10256)&&!(w.flags&10256)||Yu||(Yu=!0,qf=N,Hf=a,TA(gi,function(){return Ca(),null})),a=(w.flags&15990)!==0,w.subtreeFlags&15990||a?(a=S.T,S.T=null,d=it.p,it.p=2,v=ee,ee|=4,aA(e,w),uy(w,e),jT(ad,e.containerInfo),lc=!!sd,ad=sd=null,e.current=w,sy(e,w.alternate,w),lo(),ee=v,it.p=d,S.T=a):e.current=w,Yu?(Yu=!1,Cs=e,tl=l):Oy(e,N),N=e.pendingLanes,N===0&&(Rr=null),co(w.stateNode),si(e),i!==null)for(h=e.onRecoverableError,w=0;w<i.length;w++)N=i[w],h(N.value,{componentStack:N.stack});return tl&3&&Ca(),N=e.pendingLanes,l&4194218&&N&42?e===Ff?el++:(el=0,Ff=e):el=0,nl(0),null}function Oy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Lo(i)))}function Ca(){if(Cs!==null){var e=Cs,i=qf;qf=0;var a=Jl(tl),l=S.T,h=it.p;try{if(it.p=32>a?32:a,S.T=null,Cs===null)var d=!1;else{a=Hf,Hf=null;var v=Cs,E=tl;if(Cs=null,tl=0,ee&6)throw Error(s(331));var w=ee;if(ee|=4,my(v.current),hy(v,v.current,E,a),ee=w,nl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Wi,v)}catch{}d=!0}return d}finally{it.p=h,S.T=l,Oy(e,i)}}return!1}function Ny(e,i,a){i=An(a,i),i=ff(e.stateNode,i,2),e=Er(e,i,2),e!==null&&(le(e,2),si(e))}function Xt(e,i,a){if(e.tag===3)Ny(e,e,a);else for(;i!==null;){if(i.tag===3){Ny(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){e=An(a,e),a=xp(2),l=Er(i,a,2),l!==null&&(Up(a,l,i,e),le(l,2),si(l));break}}i=i.return}}function Xf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new fA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Lf=!0,h.add(a),e=_A.bind(null,e,i,a),i.then(e,e))}function _A(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$t===e&&(kt&a)===a&&(ae===4||ae===3&&(kt&62914560)===kt&&300>nn()-jf?!(ee&2)&&Ra(e,0):zf|=a,wa===kt&&(wa=0)),si(e)}function Vy(e,i){i===0&&(i=tr()),e=fr(e,i),e!==null&&(le(e,i),si(e))}function vA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Vy(e,a)}function EA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Vy(e,a)}function TA(e,i){return Zr(e,i)}var Wu=null,Da=null,$f=!1,Zu=!1,Wf=!1,Ds=0;function si(e){e!==Da&&e.next===null&&(Da===null?Wu=Da=e:Da=Da.next=e),Zu=!0,$f||($f=!0,SA(AA))}function nl(e,i){if(!Wf&&Zu){Wf=!0;do for(var a=!1,l=Wu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-We(42|e)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Uy(l,d))}else d=kt,d=gn(l,l===$t?d:0),!(d&3)||Ji(l,d)||(a=!0,Uy(l,d));l=l.next}while(a);Wf=!1}}function AA(){Zu=$f=!1;var e=0;Ds!==0&&(NA()&&(e=Ds),Ds=0);for(var i=nn(),a=null,l=Wu;l!==null;){var h=l.next,d=My(l,i);d===0?(l.next=null,a===null?Wu=h:a.next=h,h===null&&(Da=a)):(a=l,(e!==0||d&3)&&(Zu=!0)),l=h}nl(e)}function My(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-We(d),E=1<<v,w=h[v];w===-1?(!(E&a)||E&l)&&(h[v]=Ks(E,i)):w<=i&&(e.expiredLanes|=E),d&=~E}if(i=$t,a=kt,a=gn(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&Wt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Qs(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Ji(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Qs(l),Jl(a)){case 2:case 8:a=Ce;break;case 32:a=gi;break;case 268435456:a=uo;break;default:a=gi}return l=xy.bind(null,e),a=Zr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Qs(l),e.callbackPriority=2,e.callbackNode=null,2}function xy(e,i){var a=e.callbackNode;if(Ca()&&e.callbackNode!==a)return null;var l=kt;return l=gn(e,e===$t?l:0),l===0?null:(Ty(e,l,i),My(e,nn()),e.callbackNode!=null&&e.callbackNode===a?xy.bind(null,e):null)}function Uy(e,i){if(Ca())return null;Ty(e,i,!0)}function SA(e){MA(function(){ee&6?Zr(Ee,e):e()})}function Zf(){return Ds===0&&(Ds=fo()),Ds}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yn(""+e)}function ky(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function bA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Py((h[Te]||null).action),v=l.submitter;v&&(i=(i=v[Te]||null)?Py(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new ta("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var w=v?ky(h,v):new FormData(h);of(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(E.preventDefault(),w=v?ky(h,v):new FormData(h),of(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Jf=0;Jf<Dg.length;Jf++){var td=Dg[Jf],wA=td.toLowerCase(),RA=td[0].toUpperCase()+td.slice(1);Pn(wA,"on"+RA)}Pn(bg,"onAnimationEnd"),Pn(wg,"onAnimationIteration"),Pn(Rg,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(HT,"onTransitionRun"),Pn(FT,"onTransitionStart"),Pn(GT,"onTransitionCancel"),Pn(Ig,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Ly(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,N=E.currentTarget;if(E=E.listener,w!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=N;try{d(h)}catch(F){Lu(F)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,N=E.currentTarget,E=E.listener,w!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=N;try{d(h)}catch(F){Lu(F)}h.currentTarget=null,d=w}}}}function xt(e,i){var a=i[ts];a===void 0&&(a=i[ts]=new Set);var l=e+"__bubble";a.has(l)||(zy(i,e,2,!1),a.add(l))}function ed(e,i,a){var l=0;i&&(l|=4),zy(a,e,l,i)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function nd(e){if(!e[Ju]){e[Ju]=!0,go.forEach(function(a){a!=="selectionchange"&&(IA.has(a)||ed(a,!1,e),ed(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ju]||(i[Ju]=!0,ed("selectionchange",!1,i))}}function zy(e,i,a,l){switch(l_(i)){case 2:var h=JA;break;case 8:h=tS;break;default:h=gd}a=h.bind(null,i,a,e),h=void 0,!vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function id(e,i,a,l,h){var d=l;if(!(i&1)&&!(i&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Un(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}E=E.parentNode}}l=l.return}ru(function(){var N=d,F=Js(a),X=[];t:{var z=Cg.get(e);if(z!==void 0){var H=ta,ct=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":H=aa;break;case"focusin":ct="focus",H=ia;break;case"focusout":ct="blur",H=ia;break;case"beforeblur":case"afterblur":H=ia;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=fu;break;case bg:case wg:case Rg:H=ra;break;case Ig:H=mu;break;case"scroll":case"scrollend":H=su;break;case"wheel":H=oa;break;case"copy":case"cut":case"paste":H=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Io;break;case"toggle":case"beforetoggle":H=pu}var Tt=(i&4)!==0,oe=!Tt&&(e==="scroll"||e==="scrollend"),U=Tt?z!==null?z+"Capture":null:z;Tt=[];for(var O=N,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||U===null||(Q=ss(O,U),Q!=null&&Tt.push(rl(O,Q,L))),oe)break;O=O.return}0<Tt.length&&(z=new H(z,ct,null,a,F),X.push({event:z,listeners:Tt}))}}if(!(i&7)){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&a!==_n&&(ct=a.relatedTarget||a.fromElement)&&(Un(ct)||ct[pi]))break t;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=N,ct=ct?Un(ct):null,ct!==null&&(oe=dt(ct),Tt=ct.tag,ct!==oe||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(H=null,ct=N),H!==ct)){if(Tt=En,Q="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Io,Q="onPointerLeave",U="onPointerEnter",O="pointer"),oe=H==null?z:sr(H),L=ct==null?z:sr(ct),z=new Tt(Q,O+"leave",H,a,F),z.target=oe,z.relatedTarget=L,Q=null,Un(F)===N&&(Tt=new Tt(U,O+"enter",ct,a,F),Tt.target=L,Tt.relatedTarget=oe,Q=Tt),oe=Q,H&&ct)e:{for(Tt=H,U=ct,O=0,L=Tt;L;L=Oa(L))O++;for(L=0,Q=U;Q;Q=Oa(Q))L++;for(;0<O-L;)Tt=Oa(Tt),O--;for(;0<L-O;)U=Oa(U),L--;for(;O--;){if(Tt===U||U!==null&&Tt===U.alternate)break e;Tt=Oa(Tt),U=Oa(U)}Tt=null}else Tt=null;H!==null&&By(X,z,H,Tt,!1),ct!==null&&oe!==null&&By(X,oe,ct,Tt,!0)}}t:{if(z=N?sr(N):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var lt=dg;else if(Se(z))if(mg)lt=zT;else{lt=kT;var Ct=PT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?N&&Eo(N.elementType)&&(lt=dg):lt=LT;if(lt&&(lt=lt(e,N))){bi(X,lt,a,F);break t}Ct&&Ct(e,z,N),e==="focusout"&&N&&z.type==="number"&&N.memoizedProps.value!=null&&Zs(z,"number",z.value)}switch(Ct=N?sr(N):window,e){case"focusin":(Se(Ct)||Ct.contentEditable==="true")&&(la=Ct,Mh=N,Oo=null);break;case"focusout":Oo=Mh=la=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Ag(X,a,F);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":Ag(X,a,F)}var ft;if(Jn)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ut?j(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(_&&a.locale!=="ko"&&(Ut||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ut&&(ft=Ao()):(Xn=F,hr="value"in Xn?Xn.value:Xn.textContent,Ut=!0)),Ct=tc(N,pt),0<Ct.length&&(pt=new wo(pt,e,null,a,F),X.push({event:pt,listeners:Ct}),ft?pt.data=ft:(ft=Z(a),ft!==null&&(pt.data=ft)))),(ft=g?Ae(e,a):Pt(e,a))&&(pt=tc(N,"onBeforeInput"),0<pt.length&&(Ct=new wo("onBeforeInput","beforeinput",null,a,F),X.push({event:Ct,listeners:pt}),Ct.data=ft)),bA(X,e,N,a,F)}Ly(X,i)})}function rl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function tc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ss(e,a),h!=null&&l.unshift(rl(e,h,d)),h=ss(e,i),h!=null&&l.push(rl(e,h,d))),e=e.return}return l}function Oa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function By(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,w=E.alternate,N=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||N===null||(w=N,h?(N=ss(a,d),N!=null&&v.unshift(rl(a,N,w))):h||(N=ss(a,d),N!=null&&v.push(rl(a,N,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var CA=/\r\n?/g,DA=/\u0000|\uFFFD/g;function jy(e){return(typeof e=="string"?e:""+e).replace(CA,`
`).replace(DA,"")}function qy(e,i){return i=jy(i),jy(e)===i}function ec(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||yn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&yn(e,""+l);break;case"className":lr(e,"class",l);break;case"tabIndex":lr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,a,l);break;case"style":iu(e,l,d);break;case"data":if(i!=="object"){lr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ec);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Yn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),or(e,"popover",l);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rh.get(a)||a,or(e,a,l))}}function rd(e,i,a,l,h,d){switch(a){case"style":iu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?yn(e,l):(typeof l=="number"||typeof l=="bigint")&&yn(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$s.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Te]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):or(e,a,l)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var E=d=v=h=null,w=null,N=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":w=F;break;case"defaultChecked":N=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Yt(e,i,l,F,a,null)}}is(e,d,E,w,N,v,h,!1),ns(e);return;case"select":xt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Yt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Bt(e,!!l,i,!1):a!=null&&Bt(e,!!l,a,!0);return;case"textarea":xt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}cr(e,l,h,d),ns(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,w,l,a,null)}return;case"dialog":xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<il.length;l++)xt(il[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,N,l,a,null)}return;default:if(Eo(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&rd(e,i,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(e,i,E,l,a,null))}function OA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,w=null,N=null,F=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(H)||Yt(e,i,H,null,l,X)}}for(var z in l){var H=l[z];if(X=a[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":N=H;break;case"defaultChecked":F=H;break;case"value":v=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==X&&Yt(e,i,z,H,l,X)}}ur(e,v,E,w,N,F,d,h);return;case"select":H=v=E=z=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==w&&Yt(e,i,h,d,l,w)}i=E,a=v,l=H,z!=null?Bt(e,!!a,z,!1):!!l!=!!a&&(i!=null?Bt(e,!!a,i,!0):Bt(e,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}rs(e,z,H);return;case"option":for(var ct in a)if(z=a[ct],a.hasOwnProperty(ct)&&z!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Yt(e,i,ct,null,l,z)}for(w in l)if(z=l[w],H=a[w],l.hasOwnProperty(w)&&z!==H&&(z!=null||H!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,w,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)z=a[Tt],a.hasOwnProperty(Tt)&&z!=null&&!l.hasOwnProperty(Tt)&&Yt(e,i,Tt,null,l,z);for(N in l)if(z=l[N],H=a[N],l.hasOwnProperty(N)&&z!==H&&(z!=null||H!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,N,z,l,H)}return;default:if(Eo(i)){for(var oe in a)z=a[oe],a.hasOwnProperty(oe)&&z!==void 0&&!l.hasOwnProperty(oe)&&rd(e,i,oe,void 0,l,z);for(F in l)z=l[F],H=a[F],!l.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||rd(e,i,F,z,l,H);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&Yt(e,i,U,null,l,z);for(X in l)z=l[X],H=a[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||Yt(e,i,X,z,l,H)}var sd=null,ad=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Hy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function od(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ld=null;function NA(){var e=window.event;return e&&e.type==="popstate"?e===ld?!1:(ld=e,!0):(ld=null,!1)}var Gy=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(e){return Qy.resolve(null).then(e).catch(xA)}:Gy;function xA(e){setTimeout(function(){throw e})}function ud(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),fl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);fl(i)}function cd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cd(a),es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function UA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function PA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Ky(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Yy(e,i,a){switch(i=nc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var On=new Map,Xy=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var zi=it.d;it.d={f:kA,r:LA,D:zA,C:BA,L:jA,m:qA,X:FA,S:HA,M:GA};function kA(){var e=zi.f(),i=Xu();return e||i}function LA(e){var i=yi(e);i!==null&&i.tag===5&&i.type==="form"?Ap(i):zi.r(e)}var Na=typeof document>"u"?null:document;function $y(e,i,a){var l=Na;if(l&&typeof i=="string"&&i){var h=re(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Xy.has(h)||(Xy.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),Jt(i),l.head.appendChild(i)))}}function zA(e){zi.D(e),$y("dns-prefetch",e,null)}function BA(e,i){zi.C(e,i),$y("preconnect",e,i)}function jA(e,i,a){zi.L(e,i,a);var l=Na;if(l&&e&&i){var h='link[rel="preload"][as="'+re(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(e)+'"]';var d=h;switch(i){case"style":d=Va(e);break;case"script":d=Ma(e)}On.has(d)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),On.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(sl(d))||i==="script"&&l.querySelector(al(d))||(i=l.createElement("link"),ze(i,"link",e),Jt(i),l.head.appendChild(i)))}}function qA(e,i){zi.m(e,i);var a=Na;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ma(e)}if(!On.has(d)&&(e=C({rel:"modulepreload",href:e},i),On.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(d)))return}l=a.createElement("link"),ze(l,"link",e),Jt(l),a.head.appendChild(l)}}}function HA(e,i,a){zi.S(e,i,a);var l=Na;if(l&&e){var h=ar(l).hoistableStyles,d=Va(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(sl(d)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=On.get(d))&&hd(e,a);var w=v=l.createElement("link");Jt(w),ze(w,"link",e),w._p=new Promise(function(N,F){w.onload=N,w.onerror=F}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function FA(e,i){zi.X(e,i);var a=Na;if(a&&e){var l=ar(a).hoistableScripts,h=Ma(e),d=l.get(h);d||(d=a.querySelector(al(h)),d||(e=C({src:e,async:!0},i),(i=On.get(h))&&fd(e,i),d=a.createElement("script"),Jt(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function GA(e,i){zi.M(e,i);var a=Na;if(a&&e){var l=ar(a).hoistableScripts,h=Ma(e),d=l.get(h);d||(d=a.querySelector(al(h)),d||(e=C({src:e,async:!0,type:"module"},i),(i=On.get(h))&&fd(e,i),d=a.createElement("script"),Jt(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Wy(e,i,a,l){var h=(h=mn.current)?ic(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Va(a.href),a=ar(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Va(a.href);var d=ar(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(sl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(e,a),d||QA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ma(a),a=ar(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Va(e){return'href="'+re(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function Zy(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function QA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",a),Jt(i),e.head.appendChild(i))}function Ma(e){return'[src="'+re(e)+'"]'}function al(e){return"script[async]"+e}function Jy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return i.instance=l,Jt(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Jt(l),ze(l,"style",h),rc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Va(a.href);var d=e.querySelector(sl(h));if(d)return i.state.loading|=4,i.instance=d,Jt(d),d;l=Zy(a),(h=On.get(h))&&hd(l,h),d=(e.ownerDocument||e).createElement("link"),Jt(d);var v=d;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ze(d,"link",l),i.state.loading|=4,rc(d,a.precedence,e),i.instance=d;case"script":return d=Ma(a.src),(h=e.querySelector(al(d)))?(i.instance=h,Jt(h),h):(l=a,(h=On.get(d))&&(l=C({},a),fd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Jt(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,rc(l,a.precedence,e));return i.instance}function rc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function fd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var sc=null;function t_(e,i,a){if(sc===null){var l=new Map,h=sc=new Map;h.set(a,l)}else h=sc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[rr]||d[De]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function e_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function KA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function n_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ol=null;function YA(){}function XA(e,i,a){if(ol===null)throw Error(s(475));var l=ol;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=Va(a.href),d=e.querySelector(sl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ac.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,Jt(d);return}d=e.ownerDocument||e,a=Zy(a),(h=On.get(h))&&hd(a,h),d=d.createElement("link"),Jt(d);var v=d;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ze(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=ac.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function $A(){if(ol===null)throw Error(s(475));var e=ol;return e.stylesheets&&e.count===0&&dd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&dd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)dd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function dd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,i.forEach(WA,e),oc=null,ac.call(e))}function WA(e,i){if(!(i.state.loading&4)){var a=oc.get(e);if(a)var l=a.get(null);else{a=new Map,oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ll={$$typeof:B,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function ZA(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.hiddenUpdates=Ys(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function i_(e,i,a,l,h,d,v,E,w,N,F,X){return e=new ZA(e,i,a,v,E,w,N,X),i=1,d===!0&&(i|=24),d=Cn(3,null,null,i),e.current=d,d.stateNode=e,i=Fh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),e}function r_(e){return e?(e=ha,e):ha}function s_(e,i,a,l,h,d){h=r_(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(e,l,i),a!==null&&(en(a,e,i),Go(a,e,i))}function a_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function md(e,i){a_(e,i),(e=e.alternate)&&a_(e,i)}function o_(e){if(e.tag===13){var i=fr(e,67108864);i!==null&&en(i,e,67108864),md(e,67108864)}}var lc=!0;function JA(e,i,a,l){var h=S.T;S.T=null;var d=it.p;try{it.p=2,gd(e,i,a,l)}finally{it.p=d,S.T=h}}function tS(e,i,a,l){var h=S.T;S.T=null;var d=it.p;try{it.p=8,gd(e,i,a,l)}finally{it.p=d,S.T=h}}function gd(e,i,a,l){if(lc){var h=pd(l);if(h===null)id(e,i,l,uc,a),u_(e,l);else if(nS(h,e,i,a,l))l.stopPropagation();else if(u_(e,l),i&4&&-1<eS.indexOf(e)){for(;h!==null;){var d=yi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-We(v);E.entanglements[1]|=w,v&=~w}si(d),!(ee&6)&&(Qu=nn()+500,nl(0))}}break;case 13:E=fr(d,2),E!==null&&en(E,d,2),Xu(),md(d,2)}if(d=pd(l),d===null&&id(e,i,l,uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else id(e,i,l,null,a)}}function pd(e){return e=Js(e),yd(e)}var uc=null;function yd(e){if(uc=null,e=Un(e),e!==null){var i=dt(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ht(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return uc=e,null}function l_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yl()){case Ee:return 2;case Ce:return 8;case gi:case Xl:return 32;case uo:return 268435456;default:return 32}default:return 32}}var _d=!1,Ir=null,Cr=null,Dr=null,ul=new Map,cl=new Map,Or=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(e,i){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(i.pointerId)}}function hl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=yi(i),i!==null&&o_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function nS(e,i,a,l,h){switch(i){case"focusin":return Ir=hl(Ir,e,i,a,l,h),!0;case"dragenter":return Cr=hl(Cr,e,i,a,l,h),!0;case"mouseover":return Dr=hl(Dr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ul.set(d,hl(ul.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,cl.set(d,hl(cl.get(d)||null,e,i,a,l,h)),!0}return!1}function c_(e){var i=Un(e.target);if(i!==null){var a=dt(i);if(a!==null){if(i=a.tag,i===13){if(i=Ht(a),i!==null){e.blockedOn=i,ir(e.priority,function(){if(a.tag===13){var l=dn(),h=fr(a,l);h!==null&&en(h,a,l),md(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=pd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);_n=l,a.target.dispatchEvent(l),_n=null}else return i=yi(a),i!==null&&o_(i),e.blockedOn=a,!1;i.shift()}return!0}function h_(e,i,a){cc(e)&&a.delete(i)}function iS(){_d=!1,Ir!==null&&cc(Ir)&&(Ir=null),Cr!==null&&cc(Cr)&&(Cr=null),Dr!==null&&cc(Dr)&&(Dr=null),ul.forEach(h_),cl.forEach(h_)}function hc(e,i){e.blockedOn===i&&(e.blockedOn=null,_d||(_d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iS)))}var fc=null;function f_(e){fc!==e&&(fc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(yd(l||a)===null)continue;break}var d=yi(a);d!==null&&(e.splice(i,3),i-=3,of(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function fl(e){function i(w){return hc(w,e)}Ir!==null&&hc(Ir,e),Cr!==null&&hc(Cr,e),Dr!==null&&hc(Dr,e),ul.forEach(i),cl.forEach(i);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)c_(a),a.blockedOn===null&&Or.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Te]||null;if(typeof d=="function")v||f_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Te]||null)E=v.formAction;else if(yd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),f_(a)}}}function vd(e){this._internalRoot=e}dc.prototype.render=vd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=dn();s_(a,l,e,i,null,null)},dc.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Ca(),s_(e.current,2,null,e,null,null),Xu(),i[pi]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var i=tu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,e),a===0&&c_(e)}};var d_=t.version;if(d_!=="19.0.0")throw Error(s(527,d_,"19.0.0"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=W(i),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var rS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Un,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Wi=mc.inject(rS),He=mc}catch{}}return ml.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Op,d=Np,v=Vp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=i_(e,1,!1,null,null,a,l,h,d,v,E,null),e[pi]=i.current,nd(e.nodeType===8?e.parentNode:e),new vd(i)},ml.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Op,v=Np,E=Vp,w=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),i=i_(e,1,!0,i,a??null,l,h,d,v,E,w,N),i.context=r_(null),a=i.current,l=dn(),h=vr(l),h.callback=null,Er(a,h,l),i.current.lanes=l,le(i,l),si(i),e[pi]=i.current,nd(e),new dc(i)},ml.version="19.0.0",ml}var S_;function yS(){if(S_)return Ad.exports;S_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ad.exports=pS(),Ad.exports}var _S=yS();iE();/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Sl.apply(this,arguments)}var Pr;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Pr||(Pr={}));const b_="popstate";function vS(r){r===void 0&&(r={});function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return zd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Vc(o)}return TS(t,n,null,r)}function _e(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function rE(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ES(){return Math.random().toString(36).substr(2,8)}function w_(r,t){return{usr:r.state,key:r.key,idx:t}}function zd(r,t,n,s){return n===void 0&&(n=null),Sl({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?Ja(t):t,{state:n,key:t&&t.key||s||ES()})}function Vc(r){let{pathname:t="/",search:n="",hash:s=""}=r;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ja(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substr(n),r=r.substr(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substr(s),r=r.substr(0,s)),r&&(t.pathname=r)}return t}function TS(r,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m=Pr.Pop,p=null,y=T();y==null&&(y=0,f.replaceState(Sl({},f.state,{idx:y}),""));function T(){return(f.state||{idx:null}).idx}function b(){m=Pr.Pop;let q=T(),at=q==null?null:q-y;y=q,p&&p({action:m,location:$.location,delta:at})}function M(q,at){m=Pr.Push;let ot=zd($.location,q,at);y=T()+1;let ut=w_(ot,y),wt=$.createHref(ot);try{f.pushState(ut,"",wt)}catch(gt){if(gt instanceof DOMException&&gt.name==="DataCloneError")throw gt;o.location.assign(wt)}u&&p&&p({action:m,location:$.location,delta:1})}function B(q,at){m=Pr.Replace;let ot=zd($.location,q,at);y=T();let ut=w_(ot,y),wt=$.createHref(ot);f.replaceState(ut,"",wt),u&&p&&p({action:m,location:$.location,delta:0})}function G(q){let at=o.location.origin!=="null"?o.location.origin:o.location.href,ot=typeof q=="string"?q:Vc(q);return ot=ot.replace(/ $/,"%20"),_e(at,"No window.location.(origin|href) available to create URL for href: "+ot),new URL(ot,at)}let $={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(b_,b),p=q,()=>{o.removeEventListener(b_,b),p=null}},createHref(q){return t(o,q)},createURL:G,encodeLocation(q){let at=G(q);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:M,replace:B,go(q){return f.go(q)}};return $}var R_;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(R_||(R_={}));function AS(r,t,n){return n===void 0&&(n="/"),SS(r,t,n)}function SS(r,t,n,s){let o=typeof t=="string"?Ja(t):t,u=gm(o.pathname||"/",n);if(u==null)return null;let f=sE(r);bS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=PS(u);m=MS(f[p],y)}return m}function sE(r,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(_e(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let y=Lr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(_e(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),sE(u.children,t,T,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:NS(y,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of aE(u.path))o(u,f,p)}),t}function aE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=aE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function bS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:VS(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const wS=/^:[\w-]+$/,RS=3,IS=2,CS=1,DS=10,OS=-2,I_=r=>r==="*";function NS(r,t){let n=r.split("/"),s=n.length;return n.some(I_)&&(s+=OS),t&&(s+=IS),n.filter(o=>!I_(o)).reduce((o,u)=>o+(wS.test(u)?RS:u===""?CS:DS),s)}function VS(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function MS(r,t,n){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=u==="/"?t:t.slice(u.length)||"/",b=xS({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),M=p.route;if(!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Lr([u,b.pathname]),pathnameBase:BS(Lr([u,b.pathnameBase])),route:M}),b.pathnameBase!=="/"&&(u=Lr([u,b.pathnameBase]))}return f}function xS(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=US(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,T,b)=>{let{paramName:M,isOptional:B}=T;if(M==="*"){let $=m[b]||"";f=u.slice(0,u.length-$.length).replace(/(.)\/+$/,"$1")}const G=m[b];return B&&!G?y[M]=void 0:y[M]=(G||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function US(r,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),rE(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function PS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rE(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function gm(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function kS(r,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ja(r):r;return{pathname:n?n.startsWith("/")?n:LS(n,t):t,search:jS(s),hash:qS(o)}}function LS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rd(r,t,n,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function oE(r,t){let n=zS(r);return t?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function lE(r,t,n,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=Ja(r):(o=Sl({},r),_e(!o.pathname||!o.pathname.includes("?"),Rd("?","pathname","search",o)),_e(!o.pathname||!o.pathname.includes("#"),Rd("#","pathname","hash",o)),_e(!o.search||!o.search.includes("#"),Rd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let M=f.split("/");for(;M[0]==="..";)M.shift(),b-=1;o.pathname=M.join("/")}m=b>=0?t[b]:"/"}let p=kS(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}const Lr=r=>r.join("/").replace(/\/\/+/g,"/"),BS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function HS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const uE=["post","put","patch","delete"];new Set(uE);const FS=["get",...uE];new Set(FS);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},bl.apply(this,arguments)}const pm=J.createContext(null),GS=J.createContext(null),Ls=J.createContext(null),Zc=J.createContext(null),Wr=J.createContext({outlet:null,matches:[],isDataRoute:!1}),cE=J.createContext(null);function QS(r,t){let{relative:n}=t===void 0?{}:t;kl()||_e(!1);let{basename:s,navigator:o}=J.useContext(Ls),{hash:u,pathname:f,search:m}=fE(r,{relative:n}),p=f;return s!=="/"&&(p=f==="/"?s:Lr([s,f])),o.createHref({pathname:p,search:m,hash:u})}function kl(){return J.useContext(Zc)!=null}function Jc(){return kl()||_e(!1),J.useContext(Zc).location}function hE(r){J.useContext(Ls).static||J.useLayoutEffect(r)}function Ll(){let{isDataRoute:r}=J.useContext(Wr);return r?ab():KS()}function KS(){kl()||_e(!1);let r=J.useContext(pm),{basename:t,future:n,navigator:s}=J.useContext(Ls),{matches:o}=J.useContext(Wr),{pathname:u}=Jc(),f=JSON.stringify(oE(o,n.v7_relativeSplatPath)),m=J.useRef(!1);return hE(()=>{m.current=!0}),J.useCallback(function(y,T){if(T===void 0&&(T={}),!m.current)return;if(typeof y=="number"){s.go(y);return}let b=lE(y,JSON.parse(f),u,T.relative==="path");r==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Lr([t,b.pathname])),(T.replace?s.replace:s.push)(b,T.state,T)},[t,s,f,u,r])}function YS(){let{matches:r}=J.useContext(Wr),t=r[r.length-1];return t?t.params:{}}function fE(r,t){let{relative:n}=t===void 0?{}:t,{future:s}=J.useContext(Ls),{matches:o}=J.useContext(Wr),{pathname:u}=Jc(),f=JSON.stringify(oE(o,s.v7_relativeSplatPath));return J.useMemo(()=>lE(r,JSON.parse(f),u,n==="path"),[r,f,u,n])}function XS(r,t){return $S(r,t)}function $S(r,t,n,s){kl()||_e(!1);let{navigator:o}=J.useContext(Ls),{matches:u}=J.useContext(Wr),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let y=Jc(),T;if(t){var b;let q=typeof t=="string"?Ja(t):t;p==="/"||(b=q.pathname)!=null&&b.startsWith(p)||_e(!1),T=q}else T=y;let M=T.pathname||"/",B=M;if(p!=="/"){let q=p.replace(/^\//,"").split("/");B="/"+M.replace(/^\//,"").split("/").slice(q.length).join("/")}let G=AS(r,{pathname:B}),$=eb(G&&G.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Lr([p,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:Lr([p,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,n,s);return t&&$?J.createElement(Zc.Provider,{value:{location:bl({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:Pr.Pop}},$):$}function WS(){let r=sb(),t=HS(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},t),n?J.createElement("pre",{style:o},n):null,null)}const ZS=J.createElement(WS,null);class JS extends J.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?J.createElement(Wr.Provider,{value:this.props.routeContext},J.createElement(cE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tb(r){let{routeContext:t,match:n,children:s}=r,o=J.useContext(pm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(Wr.Provider,{value:t},s)}function eb(r,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),r==null){var u;if((u=n)!=null&&u.errors)r=n.matches;else return null}let f=r,m=(o=n)==null?void 0:o.errors;if(m!=null){let T=f.findIndex(b=>b.route.id&&(m==null?void 0:m[b.route.id])!==void 0);T>=0||_e(!1),f=f.slice(0,Math.min(f.length,T+1))}let p=!1,y=-1;if(n&&s&&s.v7_partialHydration)for(let T=0;T<f.length;T++){let b=f[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=T),b.route.id){let{loaderData:M,errors:B}=n,G=b.route.loader&&M[b.route.id]===void 0&&(!B||B[b.route.id]===void 0);if(b.route.lazy||G){p=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((T,b,M)=>{let B,G=!1,$=null,q=null;n&&(B=m&&b.route.id?m[b.route.id]:void 0,$=b.route.errorElement||ZS,p&&(y<0&&M===0?(ob("route-fallback"),G=!0,q=null):y===M&&(G=!0,q=b.route.hydrateFallbackElement||null)));let at=t.concat(f.slice(0,M+1)),ot=()=>{let ut;return B?ut=$:G?ut=q:b.route.Component?ut=J.createElement(b.route.Component,null):b.route.element?ut=b.route.element:ut=T,J.createElement(tb,{match:b,routeContext:{outlet:T,matches:at,isDataRoute:n!=null},children:ut})};return n&&(b.route.ErrorBoundary||b.route.errorElement||M===0)?J.createElement(JS,{location:n.location,revalidation:n.revalidation,component:$,error:B,children:ot(),routeContext:{outlet:null,matches:at,isDataRoute:!0}}):ot()},null)}var dE=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(dE||{}),Mc=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Mc||{});function nb(r){let t=J.useContext(pm);return t||_e(!1),t}function ib(r){let t=J.useContext(GS);return t||_e(!1),t}function rb(r){let t=J.useContext(Wr);return t||_e(!1),t}function mE(r){let t=rb(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function sb(){var r;let t=J.useContext(cE),n=ib(Mc.UseRouteError),s=mE(Mc.UseRouteError);return t!==void 0?t:(r=n.errors)==null?void 0:r[s]}function ab(){let{router:r}=nb(dE.UseNavigateStable),t=mE(Mc.UseNavigateStable),n=J.useRef(!1);return hE(()=>{n.current=!0}),J.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,bl({fromRouteId:t},u)))},[r,t])}const C_={};function ob(r,t,n){C_[r]||(C_[r]=!0)}function xa(r){_e(!1)}function lb(r){let{basename:t="/",children:n=null,location:s,navigationType:o=Pr.Pop,navigator:u,static:f=!1,future:m}=r;kl()&&_e(!1);let p=t.replace(/^\/*/,"/"),y=J.useMemo(()=>({basename:p,navigator:u,static:f,future:bl({v7_relativeSplatPath:!1},m)}),[p,m,u,f]);typeof s=="string"&&(s=Ja(s));let{pathname:T="/",search:b="",hash:M="",state:B=null,key:G="default"}=s,$=J.useMemo(()=>{let q=gm(T,p);return q==null?null:{location:{pathname:q,search:b,hash:M,state:B,key:G},navigationType:o}},[p,T,b,M,B,G,o]);return $==null?null:J.createElement(Ls.Provider,{value:y},J.createElement(Zc.Provider,{children:n,value:$}))}function ub(r){let{children:t,location:n}=r;return XS(Bd(t),n)}new Promise(()=>{});function Bd(r,t){t===void 0&&(t=[]);let n=[];return J.Children.forEach(r,(s,o)=>{if(!J.isValidElement(s))return;let u=[...t,o];if(s.type===J.Fragment){n.push.apply(n,Bd(s.props.children,u));return}s.type!==xa&&_e(!1),!s.props.index||!s.props.children||_e(!1);let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Bd(s.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jd(){return jd=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},jd.apply(this,arguments)}function cb(r,t){if(r==null)return{};var n={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(t.indexOf(o)>=0)&&(n[o]=r[o]);return n}function hb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fb(r,t){return r.button===0&&(!t||t==="_self")&&!hb(r)}const db=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],mb="6";try{window.__reactRouterVersion=mb}catch{}const gb="startTransition",D_=fS[gb];function pb(r){let{basename:t,children:n,future:s,window:o}=r,u=J.useRef();u.current==null&&(u.current=vS({window:o,v5Compat:!0}));let f=u.current,[m,p]=J.useState({action:f.action,location:f.location}),{v7_startTransition:y}=s||{},T=J.useCallback(b=>{y&&D_?D_(()=>p(b)):p(b)},[p,y]);return J.useLayoutEffect(()=>f.listen(T),[f,T]),J.createElement(lb,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:f,future:s})}const yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_b=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Id=J.forwardRef(function(t,n){let{onClick:s,relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:T,unstable_viewTransition:b}=t,M=cb(t,db),{basename:B}=J.useContext(Ls),G,$=!1;if(typeof y=="string"&&_b.test(y)&&(G=y,yb))try{let ut=new URL(window.location.href),wt=y.startsWith("//")?new URL(ut.protocol+y):new URL(y),gt=gm(wt.pathname,B);wt.origin===ut.origin&&gt!=null?y=gt+wt.search+wt.hash:$=!0}catch{}let q=QS(y,{relative:o}),at=vb(y,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,unstable_viewTransition:b});function ot(ut){s&&s(ut),ut.defaultPrevented||at(ut)}return J.createElement("a",jd({},M,{href:G||q,onClick:$||u?s:ot,ref:n,target:p}))});var O_;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(O_||(O_={}));var N_;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(N_||(N_={}));function vb(r,t){let{target:n,replace:s,state:o,preventScrollReset:u,relative:f,unstable_viewTransition:m}=t===void 0?{}:t,p=Ll(),y=Jc(),T=fE(r,{relative:f});return J.useCallback(b=>{if(fb(b,n)){b.preventDefault();let M=s!==void 0?s:Vc(y)===Vc(T);p(r,{replace:M,state:o,preventScrollReset:u,relative:f,unstable_viewTransition:m})}},[y,p,T,s,o,n,r,u,f,m])}var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Eb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let M=(m&15)<<2|y>>6,B=y&63;p||(B=64,f||(M=64)),s.push(n[T],n[b],n[M],n[B])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(gE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Eb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new Tb;const M=u<<2|m>>4;if(s.push(M),y!==64){const B=m<<4&240|y>>2;if(s.push(B),b!==64){const G=y<<6&192|b;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Tb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ab=function(r){const t=gE(r);return pE.encodeByteArray(t,!0)},xc=function(r){return Ab(r).replace(/\./g,"")},yE=function(r){try{return pE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=()=>Sb().__FIREBASE_DEFAULTS__,wb=()=>{if(typeof process>"u"||typeof V_>"u")return;const r=V_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Rb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&yE(r[1]);return t&&JSON.parse(t)},th=()=>{try{return bb()||wb()||Rb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_E=r=>{var t,n;return(n=(t=th())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},Ib=r=>{const t=_E(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},vE=()=>{var r;return(r=th())===null||r===void 0?void 0:r.config},EE=r=>{var t;return(t=th())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xc(JSON.stringify(n)),xc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ob(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Nb(){var r;const t=(r=th())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ub(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Pb(){return!Nb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kb(){try{return typeof indexedDB=="object"}catch{return!1}}function Lb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="FirebaseError";class Yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=zb,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Bb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Yi(o,m,s)}}function Bb(r,t){return r.replace(jb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const jb=/\{\$([^}]+)}/g;function qb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Uc(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(M_(u)&&M_(f)){if(!Uc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function M_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Hb(r,t){const n=new Fb(r,t);return n.subscribe.bind(n)}class Fb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Gb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Cd),o.error===void 0&&(o.error=Cd),o.complete===void 0&&(o.complete=Cd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(r){return r&&r._delegate?r._delegate:r}class xs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Cb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Yb(t))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Os){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Os){return this.instances.has(t)}getOptions(t=Os){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Kb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Os){return this.component?this.component.multipleInstances?t:Os:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kb(r){return r===Os?void 0:r}function Yb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Qb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const $b={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Wb=Nt.INFO,Zb={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},Jb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Zb[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ym{constructor(t){this.name=t,this._logLevel=Wb,this._logHandler=Jb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$b[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const tw=(r,t)=>t.some(n=>r instanceof n);let x_,U_;function ew(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nw(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,qd=new WeakMap,AE=new WeakMap,Dd=new WeakMap,_m=new WeakMap;function iw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&TE.set(n,r)}).catch(()=>{}),_m.set(t,r),t}function rw(r){if(qd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});qd.set(r,t)}let Hd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||AE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function sw(r){Hd=r(Hd)}function aw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Od(this),t,...n);return AE.set(s,t.sort?t.sort():[t]),zr(s)}:nw().includes(r)?function(...t){return r.apply(Od(this),t),zr(TE.get(this))}:function(...t){return zr(r.apply(Od(this),t))}}function ow(r){return typeof r=="function"?aw(r):(r instanceof IDBTransaction&&rw(r),tw(r,ew())?new Proxy(r,Hd):r)}function zr(r){if(r instanceof IDBRequest)return iw(r);if(Dd.has(r))return Dd.get(r);const t=ow(r);return t!==r&&(Dd.set(r,t),_m.set(t,r)),t}const Od=r=>_m.get(r);function lw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(zr(f.result),p.oldVersion,p.newVersion,zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const uw=["get","getKey","getAll","getAllKeys","count"],cw=["put","add","delete","clear"],Nd=new Map;function P_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Nd.get(t))return Nd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=cw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||uw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Nd.set(t,u),u}sw(r=>({...r,get:(t,n,s)=>P_(t,n)||r.get(t,n,s),has:(t,n)=>!!P_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fw(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fd="@firebase/app",k_="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new ym("@firebase/app"),dw="@firebase/app-compat",mw="@firebase/analytics-compat",gw="@firebase/analytics",pw="@firebase/app-check-compat",yw="@firebase/app-check",_w="@firebase/auth",vw="@firebase/auth-compat",Ew="@firebase/database",Tw="@firebase/data-connect",Aw="@firebase/database-compat",Sw="@firebase/functions",bw="@firebase/functions-compat",ww="@firebase/installations",Rw="@firebase/installations-compat",Iw="@firebase/messaging",Cw="@firebase/messaging-compat",Dw="@firebase/performance",Ow="@firebase/performance-compat",Nw="@firebase/remote-config",Vw="@firebase/remote-config-compat",Mw="@firebase/storage",xw="@firebase/storage-compat",Uw="@firebase/firestore",Pw="@firebase/vertexai",kw="@firebase/firestore-compat",Lw="firebase",zw="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="[DEFAULT]",Bw={[Fd]:"fire-core",[dw]:"fire-core-compat",[gw]:"fire-analytics",[mw]:"fire-analytics-compat",[yw]:"fire-app-check",[pw]:"fire-app-check-compat",[_w]:"fire-auth",[vw]:"fire-auth-compat",[Ew]:"fire-rtdb",[Tw]:"fire-data-connect",[Aw]:"fire-rtdb-compat",[Sw]:"fire-fn",[bw]:"fire-fn-compat",[ww]:"fire-iid",[Rw]:"fire-iid-compat",[Iw]:"fire-fcm",[Cw]:"fire-fcm-compat",[Dw]:"fire-perf",[Ow]:"fire-perf-compat",[Nw]:"fire-rc",[Vw]:"fire-rc-compat",[Mw]:"fire-gcs",[xw]:"fire-gcs-compat",[Uw]:"fire-fst",[kw]:"fire-fst-compat",[Pw]:"fire-vertex","fire-js":"fire-js",[Lw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,jw=new Map,Qd=new Map;function L_(r,t){try{r.container.addComponent(t)}catch(n){Fi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fa(r){const t=r.name;if(Qd.has(t))return Fi.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,r);for(const n of Pc.values())L_(n,r);for(const n of jw.values())L_(n,r);return!0}function vm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new zl("app","Firebase",qw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=zw;function SE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Gd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(n||(n=vE()),!n)throw Br.create("no-options");const u=Pc.get(o);if(u){if(Uc(n,u.options)&&Uc(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const f=new Xb(o);for(const p of Qd.values())f.addComponent(p);const m=new Hw(n,s,f);return Pc.set(o,m),m}function bE(r=Gd){const t=Pc.get(r);if(!t&&r===Gd&&vE())return SE();if(!t)throw Br.create("no-app",{appName:r});return t}function jr(r,t,n){var s;let o=(s=Bw[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fi.warn(m.join(" "));return}Fa(new xs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="firebase-heartbeat-database",Gw=1,wl="firebase-heartbeat-store";let Vd=null;function wE(){return Vd||(Vd=lw(Fw,Gw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Br.create("idb-open",{originalErrorMessage:r.message})})),Vd}async function Qw(r){try{const n=(await wE()).transaction(wl),s=await n.objectStore(wl).get(RE(r));return await n.done,s}catch(t){if(t instanceof Yi)Fi.warn(t.message);else{const n=Br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(n.message)}}}async function z_(r,t){try{const s=(await wE()).transaction(wl,"readwrite");await s.objectStore(wl).put(t,RE(r)),await s.done}catch(n){if(n instanceof Yi)Fi.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(s.message)}}}function RE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=1024,Yw=30;class Xw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ww(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Yw){const f=Zw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B_(),{heartbeatsToSend:s,unsentEntries:o}=$w(this._heartbeatsCache.heartbeats),u=xc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Fi.warn(n),""}}}function B_(){return new Date().toISOString().substring(0,10)}function $w(r,t=Kw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),j_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),j_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ww{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kb()?Lb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function j_(r){return xc(JSON.stringify({version:2,heartbeats:r})).length}function Zw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r){Fa(new xs("platform-logger",t=>new hw(t),"PRIVATE")),Fa(new xs("heartbeat",t=>new Xw(t),"PRIVATE")),jr(Fd,k_,r),jr(Fd,k_,"esm2017"),jr("fire-js","")}Jw("");var tR="firebase",eR="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(tR,eR,"app");function Em(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function IE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nR=IE,CE=new zl("auth","Firebase",IE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new ym("@firebase/auth");function iR(r,...t){kc.logLevel<=Nt.WARN&&kc.warn(`Auth (${to}): ${r}`,...t)}function Ac(r,...t){kc.logLevel<=Nt.ERROR&&kc.error(`Auth (${to}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(r,...t){throw Am(r,...t)}function qn(r,...t){return Am(r,...t)}function Tm(r,t,n){const s=Object.assign(Object.assign({},nR()),{[t]:n});return new zl("auth","Firebase",s).create(t,{appName:r.name})}function Ms(r){return Tm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&hi(r,"argument-error"),Tm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Am(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return CE.create(r,...t)}function vt(r,t,...n){if(!r)throw Am(t,...n)}function ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ac(t),new Error(t)}function Gi(r,t){r||ji(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function sR(){return q_()==="http:"||q_()==="https:"}function q_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sR()||Mb()||"connection"in navigator)?navigator.onLine:!0}function oR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gi(n>t,"Short delay should be less than long delay!"),this.isMobile=Ob()||xb()}get(){return aR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r,t){Gi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new jl(3e4,6e4);function bm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function eo(r,t,n,s,o={}){return OE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Bl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return Vb()||(y.referrerPolicy="no-referrer"),DE.fetch()(NE(r,r.config.apiHost,n,m),y)})}async function OE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},lR),t);try{const o=new hR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw gc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw gc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw gc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Tm(r,T,y);hi(r,T)}}catch(o){if(o instanceof Yi)throw o;hi(r,"network-request-failed",{message:String(o)})}}async function cR(r,t,n,s,o={}){const u=await eo(r,t,n,s,o);return"mfaPendingCredential"in u&&hi(r,"multi-factor-auth-required",{_serverResponse:u}),u}function NE(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?Sm(r.config,o):`${r.config.apiScheme}://${o}`}class hR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(qn(this.auth,"network-request-failed")),uR.get())})}}function gc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=qn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(r,t){return eo(r,"POST","/v1/accounts:delete",t)}async function VE(r,t){return eo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dR(r,t=!1){const n=Mn(r),s=await n.getIdToken(t),o=wm(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:_l(Md(o.auth_time)),issuedAtTime:_l(Md(o.iat)),expirationTime:_l(Md(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Md(r){return Number(r)*1e3}function wm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=yE(n);return o?JSON.parse(o):(Ac("Failed to decode base64 JWT payload"),null)}catch(o){return Ac("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function H_(r){const t=wm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yi&&mR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function mR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Rl(r,VE(n,{idToken:s}));vt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?ME(u.providerUserInfo):[],m=yR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Yd(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function pR(r){const t=Mn(r);await Lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function ME(r){return r.map(t=>{var{providerId:n}=t,s=Em(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(r,t){const n=await OE(r,{},async()=>{const s=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=NE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",DE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vR(r,t){return eo(r,"POST","/v2/accounts:revokeToken",bm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):H_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=H_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await _R(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new za;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class qi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Em(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Yd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Rl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return dR(this,t)}reload(){return pR(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new qi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Lc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await Rl(this,fR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,y,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,M=(o=n.email)!==null&&o!==void 0?o:void 0,B=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,G=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,at=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ot=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ut,emailVerified:wt,isAnonymous:gt,providerData:Ot,stsTokenManager:x}=n;vt(ut&&x,t,"internal-error");const R=za.fromJSON(this.name,x);vt(typeof ut=="string",t,"internal-error"),Vr(b,t.name),Vr(M,t.name),vt(typeof wt=="boolean",t,"internal-error"),vt(typeof gt=="boolean",t,"internal-error"),Vr(B,t.name),Vr(G,t.name),Vr($,t.name),Vr(q,t.name),Vr(at,t.name),Vr(ot,t.name);const S=new qi({uid:ut,auth:t,email:M,emailVerified:wt,displayName:b,isAnonymous:gt,photoURL:G,phoneNumber:B,tenantId:$,stsTokenManager:R,createdAt:at,lastLoginAt:ot});return Ot&&Array.isArray(Ot)&&(S.providerData=Ot.map(C=>Object.assign({},C))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(t,n,s=!1){const o=new za;o.updateFromServerResponse(n);const u=new qi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Lc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ME(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new za;m.updateFromIdToken(s);const p=new qi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Yd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;function Hi(r){Gi(r instanceof Function,"Expected a class definition");let t=F_.get(r);return t?(Gi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,F_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}xE.type="NONE";const G_=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ba{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Sc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Sc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?qi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ba(Hi(G_),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Hi(G_);const f=Sc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){const b=qi._fromJSON(t,T);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ba(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ba(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(UE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BE(t))return"Blackberry";if(jE(t))return"Webos";if(PE(t))return"Safari";if((t.includes("chrome/")||kE(t))&&!t.includes("edge/"))return"Chrome";if(zE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function UE(r=Xe()){return/firefox\//i.test(r)}function PE(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kE(r=Xe()){return/crios\//i.test(r)}function LE(r=Xe()){return/iemobile/i.test(r)}function zE(r=Xe()){return/android/i.test(r)}function BE(r=Xe()){return/blackberry/i.test(r)}function jE(r=Xe()){return/webos/i.test(r)}function Rm(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ER(r=Xe()){var t;return Rm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function TR(){return Ub()&&document.documentMode===10}function qE(r=Xe()){return Rm(r)||zE(r)||jE(r)||BE(r)||/windows phone/i.test(r)||LE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r,t=[]){let n;switch(r){case"Browser":n=Q_(Xe());break;case"Worker":n=`${Q_(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(r,t={}){return eo(r,"GET","/v2/passwordPolicy",bm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=6;class wR{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:bR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K_(this),this.idTokenSubscription=new K_(this),this.beforeStateQueue=new AR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ba.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await VE(this,{idToken:t}),s=await qi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Bn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(Ms(this));const n=t?Mn(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await SR(this),n=new wR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await vR(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&iR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function eh(r){return Mn(r)}class K_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Hb(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IR(r){Im=r}function CR(r){return Im.loadJS(r)}function DR(){return Im.gapiScript}function OR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(r,t){const n=vm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Uc(u,t??{}))return o;hi(o,"already-initialized")}return n.initialize({options:t})}function VR(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Hi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function MR(r,t,n){const s=eh(r);vt(s._canInitEmulator,s,"emulator-config-failed"),vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=FE(t),{host:f,port:m}=xR(t),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),UR()}function FE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function xR(r){const t=FE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Y_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Y_(f)}}}function Y_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function UR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(t){return ji("not implemented")}_linkToIdToken(t,n){return ji("not implemented")}_getReauthenticationResolver(t){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(r,t){return cR(r,"POST","/v1/accounts:signInWithIdp",bm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="http://localhost";class Us extends GE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Em(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Us(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ja(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ja(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ja(t,n)}buildRequest(){const t={requestUri:PR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Cm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends ql{constructor(){super("facebook.com")}static credential(t){return Us._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Us._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Bi.credential(n,s)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends ql{constructor(){super("github.com")}static credential(t){return Us._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends ql{constructor(){super("twitter.com")}static credential(t,n){return Us._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await qi._fromIdTokenResponse(t,s,o),f=X_(s);return new Ga({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=X_(s);return new Ga({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function X_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Yi{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new zc(t,n,s,o)}}function QE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(r,u,t,s):u})}async function kR(r,t,n=!1){const s=await Rl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ga._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(r,t,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(Ms(s));const o="reauthenticate";try{const u=await Rl(r,QE(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=wm(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),Ga._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(r,t,n=!1){if(Bn(r.app))return Promise.reject(Ms(r));const s="signIn",o=await QE(r,s,t),u=await Ga._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function BR(r,t,n,s){return Mn(r).onIdTokenChanged(t,n,s)}function jR(r,t,n){return Mn(r).beforeAuthStateChanged(t,n)}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=1e3,HR=10;class YE extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);TR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,HR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}YE.type="LOCAL";const FR=YE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}XE.type="SESSION";const $E=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await GR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Dm("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const M=b;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(M.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function KR(r){oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function YR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function $R(){return WE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firebaseLocalStorageDb",WR=1,jc="firebaseLocalStorage",JE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ih(r,t){return r.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function ZR(){const r=indexedDB.deleteDatabase(ZE);return new Hl(r).toPromise()}function Xd(){const r=indexedDB.open(ZE,WR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(jc,{keyPath:JE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(jc)?t(s):(s.close(),await ZR(),t(await Xd()))})})}async function $_(r,t,n){const s=ih(r,!0).put({[JE]:t,value:n});return new Hl(s).toPromise()}async function JR(r,t){const n=ih(r,!1).get(t),s=await new Hl(n).toPromise();return s===void 0?null:s.value}function W_(r,t){const n=ih(r,!0).delete(t);return new Hl(n).toPromise()}const t1=800,e1=3;class t0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>e1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance($R()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await YR(),!this.activeServiceWorker)return;this.sender=new QR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xd();return await $_(t,Bc,"1"),await W_(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>JR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>W_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=ih(o,!1).getAll();return new Hl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t0.type="LOCAL";const n1=t0;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r,t){return t?Hi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends GE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ja(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ja(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function i1(r){return zR(r.auth,new Om(r),r.bypassAuthState)}function r1(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),LR(n,new Om(r),r.bypassAuthState)}async function s1(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),kR(n,new Om(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return i1;case"linkViaPopup":case"linkViaRedirect":return s1;case"reauthViaPopup":case"reauthViaRedirect":return r1;default:hi(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new jl(2e3,1e4);async function o1(r,t,n){if(Bn(r.app))return Promise.reject(qn(r,"operation-not-supported-in-this-environment"));const s=eh(r);rR(r,t,Cm);const o=e0(s,n);return new Ns(s,"signInViaPopup",t,o).executeNotNull()}class Ns extends n0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,a1.get())};t()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="pendingRedirect",bc=new Map;class u1 extends n0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=bc.get(this.auth._key());if(!t){try{const s=await c1(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}bc.set(this.auth._key(),t)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c1(r,t){const n=d1(t),s=f1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function h1(r,t){bc.set(r._key(),t)}function f1(r){return Hi(r._redirectPersistence)}function d1(r){return Sc(l1,r.config.apiKey,r.name)}async function m1(r,t,n=!1){if(Bn(r.app))return Promise.reject(Ms(r));const s=eh(r),o=e0(s,t),f=await new u1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=10*60*1e3;class p1{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!y1(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!i0(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=g1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(t))}saveEventToCache(t){this.cachedEventUids.add(Z_(t)),this.lastProcessedEventTime=Date.now()}}function Z_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function i0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function y1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(r,t={}){return eo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E1=/^https?/;async function T1(r){if(r.config.emulator)return;const{authorizedDomains:t}=await _1(r);for(const n of t)try{if(A1(n))return}catch{}hi(r,"unauthorized-domain")}function A1(r){const t=Kd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!E1.test(n))return!1;if(v1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new jl(3e4,6e4);function J_(){const r=oi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function b1(r){return new Promise((t,n)=>{var s,o,u;function f(){J_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{J_(),n(qn(r,"network-request-failed"))},timeout:S1.get()})}if(!((o=(s=oi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=oi().gapi)===null||u===void 0)&&u.load)f();else{const m=OR("iframefcb");return oi()[m]=()=>{gapi.load?f():n(qn(r,"network-request-failed"))},CR(`${DR()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw wc=null,t})}let wc=null;function w1(r){return wc=wc||b1(r),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new jl(5e3,15e3),I1="__/auth/iframe",C1="emulator/auth/iframe",D1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N1(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Sm(t,C1):`https://${r.config.authDomain}/${I1}`,s={apiKey:t.apiKey,appName:r.name,v:to},o=O1.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Bl(s).slice(1)}`}async function V1(r){const t=await w1(r),n=oi().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:N1(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=qn(r,"network-request-failed"),m=oi().setTimeout(()=>{u(f)},R1.get());function p(){oi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x1=500,U1=600,P1="_blank",k1="http://localhost";class tv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L1(r,t,n,s=x1,o=U1){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},M1),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xe().toLowerCase();n&&(m=kE(y)?P1:n),UE(y)&&(t=t||k1,p.scrollbars="yes");const T=Object.entries(p).reduce((M,[B,G])=>`${M}${B}=${G},`,"");if(ER(y)&&m!=="_self")return z1(t||"",m),new tv(null);const b=window.open(t||"",m,T);vt(b,r,"popup-blocked");try{b.focus()}catch{}return new tv(b)}function z1(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__/auth/handler",j1="emulator/auth/handler",q1=encodeURIComponent("fac");async function ev(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:to,eventId:o};if(t instanceof Cm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",qb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(t instanceof ql){const T=t.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),y=p?`#${q1}=${encodeURIComponent(p)}`:"";return`${H1(r)}?${Bl(m).slice(1)}${y}`}function H1({config:r}){return r.emulator?Sm(r,j1):`https://${r.authDomain}/${B1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="webStorageSupport";class F1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$E,this._completeRedirectFn=m1,this._overrideRedirectResult=h1}async _openPopup(t,n,s,o){var u;Gi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await ev(t,n,s,Kd(),o);return L1(t,f,Dm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await ev(t,n,s,Kd(),o);return KR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Gi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await V1(t),s=new p1(t);return n.register("authEvent",o=>(vt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(xd,{type:xd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[xd];f!==void 0&&n(!!f),hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T1(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return qE()||PE()||Rm()}}const G1=F1;var nv="@firebase/auth",iv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y1(r){Fa(new xs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HE(r)},y=new RR(s,o,u,p);return VR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Fa(new xs("auth-internal",t=>{const n=eh(t.getProvider("auth").getImmediate());return(s=>new Q1(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(nv,iv,K1(r)),jr(nv,iv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=5*60,$1=EE("authIdTokenMaxAge")||X1;let rv=null;const W1=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>$1)return;const o=n==null?void 0:n.token;rv!==o&&(rv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Z1(r=bE()){const t=vm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=NR(r,{popupRedirectResolver:G1,persistence:[n1,FR,$E]}),s=EE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=W1(u.toString());jR(n,f,()=>f(n.currentUser)),BR(n,m=>f(m))}}const o=_E("auth");return o&&MR(n,`http://${o}`),n}function J1(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}IR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=qn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",J1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y1("Browser");var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,r0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,R){function S(){}S.prototype=R.prototype,x.D=R.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(C,V,k){for(var I=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)I[ve-2]=arguments[ve];return R.prototype[V].apply(C,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,S){S||(S=0);var C=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)C[V]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(V=0;16>V;++V)C[V]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=x.g[0],S=x.g[1],V=x.g[2];var k=x.g[3],I=R+(k^S&(V^k))+C[0]+3614090360&4294967295;R=S+(I<<7&4294967295|I>>>25),I=k+(V^R&(S^V))+C[1]+3905402710&4294967295,k=R+(I<<12&4294967295|I>>>20),I=V+(S^k&(R^S))+C[2]+606105819&4294967295,V=k+(I<<17&4294967295|I>>>15),I=S+(R^V&(k^R))+C[3]+3250441966&4294967295,S=V+(I<<22&4294967295|I>>>10),I=R+(k^S&(V^k))+C[4]+4118548399&4294967295,R=S+(I<<7&4294967295|I>>>25),I=k+(V^R&(S^V))+C[5]+1200080426&4294967295,k=R+(I<<12&4294967295|I>>>20),I=V+(S^k&(R^S))+C[6]+2821735955&4294967295,V=k+(I<<17&4294967295|I>>>15),I=S+(R^V&(k^R))+C[7]+4249261313&4294967295,S=V+(I<<22&4294967295|I>>>10),I=R+(k^S&(V^k))+C[8]+1770035416&4294967295,R=S+(I<<7&4294967295|I>>>25),I=k+(V^R&(S^V))+C[9]+2336552879&4294967295,k=R+(I<<12&4294967295|I>>>20),I=V+(S^k&(R^S))+C[10]+4294925233&4294967295,V=k+(I<<17&4294967295|I>>>15),I=S+(R^V&(k^R))+C[11]+2304563134&4294967295,S=V+(I<<22&4294967295|I>>>10),I=R+(k^S&(V^k))+C[12]+1804603682&4294967295,R=S+(I<<7&4294967295|I>>>25),I=k+(V^R&(S^V))+C[13]+4254626195&4294967295,k=R+(I<<12&4294967295|I>>>20),I=V+(S^k&(R^S))+C[14]+2792965006&4294967295,V=k+(I<<17&4294967295|I>>>15),I=S+(R^V&(k^R))+C[15]+1236535329&4294967295,S=V+(I<<22&4294967295|I>>>10),I=R+(V^k&(S^V))+C[1]+4129170786&4294967295,R=S+(I<<5&4294967295|I>>>27),I=k+(S^V&(R^S))+C[6]+3225465664&4294967295,k=R+(I<<9&4294967295|I>>>23),I=V+(R^S&(k^R))+C[11]+643717713&4294967295,V=k+(I<<14&4294967295|I>>>18),I=S+(k^R&(V^k))+C[0]+3921069994&4294967295,S=V+(I<<20&4294967295|I>>>12),I=R+(V^k&(S^V))+C[5]+3593408605&4294967295,R=S+(I<<5&4294967295|I>>>27),I=k+(S^V&(R^S))+C[10]+38016083&4294967295,k=R+(I<<9&4294967295|I>>>23),I=V+(R^S&(k^R))+C[15]+3634488961&4294967295,V=k+(I<<14&4294967295|I>>>18),I=S+(k^R&(V^k))+C[4]+3889429448&4294967295,S=V+(I<<20&4294967295|I>>>12),I=R+(V^k&(S^V))+C[9]+568446438&4294967295,R=S+(I<<5&4294967295|I>>>27),I=k+(S^V&(R^S))+C[14]+3275163606&4294967295,k=R+(I<<9&4294967295|I>>>23),I=V+(R^S&(k^R))+C[3]+4107603335&4294967295,V=k+(I<<14&4294967295|I>>>18),I=S+(k^R&(V^k))+C[8]+1163531501&4294967295,S=V+(I<<20&4294967295|I>>>12),I=R+(V^k&(S^V))+C[13]+2850285829&4294967295,R=S+(I<<5&4294967295|I>>>27),I=k+(S^V&(R^S))+C[2]+4243563512&4294967295,k=R+(I<<9&4294967295|I>>>23),I=V+(R^S&(k^R))+C[7]+1735328473&4294967295,V=k+(I<<14&4294967295|I>>>18),I=S+(k^R&(V^k))+C[12]+2368359562&4294967295,S=V+(I<<20&4294967295|I>>>12),I=R+(S^V^k)+C[5]+4294588738&4294967295,R=S+(I<<4&4294967295|I>>>28),I=k+(R^S^V)+C[8]+2272392833&4294967295,k=R+(I<<11&4294967295|I>>>21),I=V+(k^R^S)+C[11]+1839030562&4294967295,V=k+(I<<16&4294967295|I>>>16),I=S+(V^k^R)+C[14]+4259657740&4294967295,S=V+(I<<23&4294967295|I>>>9),I=R+(S^V^k)+C[1]+2763975236&4294967295,R=S+(I<<4&4294967295|I>>>28),I=k+(R^S^V)+C[4]+1272893353&4294967295,k=R+(I<<11&4294967295|I>>>21),I=V+(k^R^S)+C[7]+4139469664&4294967295,V=k+(I<<16&4294967295|I>>>16),I=S+(V^k^R)+C[10]+3200236656&4294967295,S=V+(I<<23&4294967295|I>>>9),I=R+(S^V^k)+C[13]+681279174&4294967295,R=S+(I<<4&4294967295|I>>>28),I=k+(R^S^V)+C[0]+3936430074&4294967295,k=R+(I<<11&4294967295|I>>>21),I=V+(k^R^S)+C[3]+3572445317&4294967295,V=k+(I<<16&4294967295|I>>>16),I=S+(V^k^R)+C[6]+76029189&4294967295,S=V+(I<<23&4294967295|I>>>9),I=R+(S^V^k)+C[9]+3654602809&4294967295,R=S+(I<<4&4294967295|I>>>28),I=k+(R^S^V)+C[12]+3873151461&4294967295,k=R+(I<<11&4294967295|I>>>21),I=V+(k^R^S)+C[15]+530742520&4294967295,V=k+(I<<16&4294967295|I>>>16),I=S+(V^k^R)+C[2]+3299628645&4294967295,S=V+(I<<23&4294967295|I>>>9),I=R+(V^(S|~k))+C[0]+4096336452&4294967295,R=S+(I<<6&4294967295|I>>>26),I=k+(S^(R|~V))+C[7]+1126891415&4294967295,k=R+(I<<10&4294967295|I>>>22),I=V+(R^(k|~S))+C[14]+2878612391&4294967295,V=k+(I<<15&4294967295|I>>>17),I=S+(k^(V|~R))+C[5]+4237533241&4294967295,S=V+(I<<21&4294967295|I>>>11),I=R+(V^(S|~k))+C[12]+1700485571&4294967295,R=S+(I<<6&4294967295|I>>>26),I=k+(S^(R|~V))+C[3]+2399980690&4294967295,k=R+(I<<10&4294967295|I>>>22),I=V+(R^(k|~S))+C[10]+4293915773&4294967295,V=k+(I<<15&4294967295|I>>>17),I=S+(k^(V|~R))+C[1]+2240044497&4294967295,S=V+(I<<21&4294967295|I>>>11),I=R+(V^(S|~k))+C[8]+1873313359&4294967295,R=S+(I<<6&4294967295|I>>>26),I=k+(S^(R|~V))+C[15]+4264355552&4294967295,k=R+(I<<10&4294967295|I>>>22),I=V+(R^(k|~S))+C[6]+2734768916&4294967295,V=k+(I<<15&4294967295|I>>>17),I=S+(k^(V|~R))+C[13]+1309151649&4294967295,S=V+(I<<21&4294967295|I>>>11),I=R+(V^(S|~k))+C[4]+4149444226&4294967295,R=S+(I<<6&4294967295|I>>>26),I=k+(S^(R|~V))+C[11]+3174756917&4294967295,k=R+(I<<10&4294967295|I>>>22),I=V+(R^(k|~S))+C[2]+718787259&4294967295,V=k+(I<<15&4294967295|I>>>17),I=S+(k^(V|~R))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var S=R-this.blockSize,C=this.B,V=this.h,k=0;k<R;){if(V==0)for(;k<=S;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<R;)if(C[V++]=x.charCodeAt(k++),V==this.blockSize){o(this,C),V=0;break}}else for(;k<R;)if(C[V++]=x[k++],V==this.blockSize){o(this,C),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var S=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=S&255,S/=256;for(this.u(x),x=Array(16),R=S=0;4>R;++R)for(var C=0;32>C;C+=8)x[S++]=this.g[R]>>>C&255;return x};function u(x,R){var S=m;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=R(x)}function f(x,R){this.h=R;for(var S=[],C=!0,V=x.length-1;0<=V;V--){var k=x[V]|0;C&&k==R||(S[V]=k,C=!1)}this.g=S}var m={};function p(x){return-128<=x&&128>x?u(x,function(R){return new f([R|0],0>R?-1:0)}):new f([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return q(y(-x));for(var R=[],S=1,C=0;x>=S;C++)R[C]=x/S|0,S*=4294967296;return new f(R,0)}function T(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return q(T(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(R,8)),C=b,V=0;V<x.length;V+=8){var k=Math.min(8,x.length-V),I=parseInt(x.substring(V,V+k),R);8>k?(k=y(Math.pow(R,k)),C=C.j(k).add(y(I))):(C=C.j(S),C=C.add(y(I)))}return C}var b=p(0),M=p(1),B=p(16777216);r=f.prototype,r.m=function(){if($(this))return-q(this).m();for(var x=0,R=1,S=0;S<this.g.length;S++){var C=this.i(S);x+=(0<=C?C:4294967296+C)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(G(this))return"0";if($(this))return"-"+q(this).toString(x);for(var R=y(Math.pow(x,6)),S=this,C="";;){var V=wt(S,R).g;S=at(S,V.j(R));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=V,G(S))return k+C;for(;6>k.length;)k="0"+k;C=k+C}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function G(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=at(this,x),$(x)?-1:G(x)?0:1};function q(x){for(var R=x.g.length,S=[],C=0;C<R;C++)S[C]=~x.g[C];return new f(S,~x.h).add(M)}r.abs=function(){return $(this)?q(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],C=0,V=0;V<=R;V++){var k=C+(this.i(V)&65535)+(x.i(V)&65535),I=(k>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);C=I>>>16,k&=65535,I&=65535,S[V]=I<<16|k}return new f(S,S[S.length-1]&-2147483648?-1:0)};function at(x,R){return x.add(q(R))}r.j=function(x){if(G(this)||G(x))return b;if($(this))return $(x)?q(this).j(q(x)):q(q(this).j(x));if($(x))return q(this.j(q(x)));if(0>this.l(B)&&0>x.l(B))return y(this.m()*x.m());for(var R=this.g.length+x.g.length,S=[],C=0;C<2*R;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<x.g.length;V++){var k=this.i(C)>>>16,I=this.i(C)&65535,ve=x.i(V)>>>16,he=x.i(V)&65535;S[2*C+2*V]+=I*he,ot(S,2*C+2*V),S[2*C+2*V+1]+=k*he,ot(S,2*C+2*V+1),S[2*C+2*V+1]+=I*ve,ot(S,2*C+2*V+1),S[2*C+2*V+2]+=k*ve,ot(S,2*C+2*V+2)}for(C=0;C<R;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=R;C<2*R;C++)S[C]=0;return new f(S,0)};function ot(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ut(x,R){this.g=x,this.h=R}function wt(x,R){if(G(R))throw Error("division by zero");if(G(x))return new ut(b,b);if($(x))return R=wt(q(x),R),new ut(q(R.g),q(R.h));if($(R))return R=wt(x,q(R)),new ut(q(R.g),R.h);if(30<x.g.length){if($(x)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var S=M,C=R;0>=C.l(x);)S=gt(S),C=gt(C);var V=Ot(S,1),k=Ot(C,1);for(C=Ot(C,2),S=Ot(S,2);!G(C);){var I=k.add(C);0>=I.l(x)&&(V=V.add(S),k=I),C=Ot(C,1),S=Ot(S,1)}return R=at(x,V.j(R)),new ut(V,R)}for(V=b;0<=x.l(R);){for(S=Math.max(1,Math.floor(x.m()/R.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),k=y(S),I=k.j(R);$(I)||0<I.l(x);)S-=C,k=y(S),I=k.j(R);G(k)&&(k=M),V=V.add(k),x=at(x,I)}return new ut(V,x)}r.A=function(x){return wt(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],C=0;C<R;C++)S[C]=this.i(C)&x.i(C);return new f(S,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],C=0;C<R;C++)S[C]=this.i(C)|x.i(C);return new f(S,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],C=0;C<R;C++)S[C]=this.i(C)^x.i(C);return new f(S,this.h^x.h)};function gt(x){for(var R=x.g.length+1,S=[],C=0;C<R;C++)S[C]=x.i(C)<<1|x.i(C-1)>>>31;return new f(S,x.h)}function Ot(x,R){var S=R>>5;R%=32;for(var C=x.g.length-S,V=[],k=0;k<C;k++)V[k]=0<R?x.i(k+S)>>>R|x.i(k+S+1)<<32-R:x.i(k+S);return new f(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,r0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,qr=f}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s0,gl,a0,Rc,$d,o0,l0,u0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in _))break t;_=_[P]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,P={next:function(){if(!A&&_<c.length){var j=_++;return{value:g(j,c[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),c.apply(g,P)}}return function(){return c.apply(g,arguments)}}function M(c,g,_){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,M.apply(null,arguments)}function B(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function G(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,P,j){for(var Z=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)Z[Ut-2]=arguments[Ut];return g.prototype[P].apply(A,Z)}}function $(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function q(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const P=c.length||0,j=A.length||0;c.length=P+j;for(let Z=0;Z<j;Z++)c[P+Z]=A[Z]}else c.push(A)}}class at{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ot(c){return/^[\s\xa0]*$/.test(c)}function ut(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function wt(c){return wt[" "](c),c}wt[" "]=function(){};var gt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Ot(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,g){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)c[_]=A[_];for(let j=0;j<S.length;j++)_=S[j],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Ht;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ve{constructor(){this.h=this.g=null}add(g,_){const A=he.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new at(()=>new tt,c=>c.reset());class tt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,dt=!1,Ht=new ve,D=()=>{const c=m.Promise.resolve(void 0);yt=()=>{c.then(W)}};var W=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var g=he;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}dt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Rt(c,g){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(gt){t:{try{wt(g.nodeName);var P=!0;break t}catch{}P=!1}P||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:St[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rt.aa.h.call(this)}}G(Rt,nt);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),zt=0;function ie(c,g,_,A,P){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=P,this.key=++zt,this.da=this.fa=!1}function Qt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $e(c){this.src=c,this.g={},this.h=0}$e.prototype.add=function(c,g,_,A,P){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var Z=mn(c,g,A,P);return-1<Z?(g=c[Z],_||(g.fa=!1)):(g=new ie(g,this.src,j,!!A,P),g.fa=_,c.push(g)),g};function di(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],P=Array.prototype.indexOf.call(A,g,void 0),j;(j=0<=P)&&Array.prototype.splice.call(A,P,1),j&&(Qt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function mn(c,g,_,A){for(var P=0;P<c.length;++P){var j=c[P];if(!j.da&&j.listener==g&&j.capture==!!_&&j.ha==A)return P}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),$i={};function mi(c,g,_,A,P){if(Array.isArray(g)){for(var j=0;j<g.length;j++)mi(c,g[j],_,A,P);return null}return _=Yl(_),c&&c[fe]?c.K(g,_,y(A)?!!A.capture:!1,P):oo(c,g,_,!1,A,P)}function oo(c,g,_,A,P,j){if(!g)throw Error("Invalid event type");var Z=y(P)?!!P.capture:!!P,Ut=lo(c);if(Ut||(c[Xi]=Ut=new $e(c)),_=Ut.add(g,_,A,Z,j),_.proxy)return _;if(A=Fs(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)it||(P=Z),P===void 0&&(P=!1),c.addEventListener(g.toString(),A,P);else if(c.attachEvent)c.attachEvent(Qs(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fs(){function c(_){return g.call(c.src,c.listener,_)}const g=Th;return c}function Gs(c,g,_,A,P){if(Array.isArray(g))for(var j=0;j<g.length;j++)Gs(c,g[j],_,A,P);else A=y(A)?!!A.capture:!!A,_=Yl(_),c&&c[fe]?(c=c.i,g=String(g).toString(),g in c.g&&(j=c.g[g],_=mn(j,_,A,P),-1<_&&(Qt(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete c.g[g],c.h--)))):c&&(c=lo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=mn(g,_,A,P)),(_=-1<c?g[c]:null)&&Zr(_))}function Zr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[fe])di(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(Qs(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=lo(g))?(di(_,c),_.h==0&&(_.src=null,g[Xi]=null)):Qt(c)}}}function Qs(c){return c in $i?$i[c]:$i[c]="on"+c}function Th(c,g){if(c.da)c=!0;else{g=new Rt(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&Zr(c),c=_.call(A,g)}return c}function lo(c){return c=c[Xi],c instanceof $e?c:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yl(c){return typeof c=="function"?c:(c[nn]||(c[nn]=function(g){return c.handleEvent(g)}),c[nn])}function Ee(){ht.call(this),this.i=new $e(this),this.M=this,this.F=null}G(Ee,ht),Ee.prototype[fe]=!0,Ee.prototype.removeEventListener=function(c,g,_,A){Gs(this,c,g,_,A)};function Ce(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new nt(g,c);else if(g instanceof nt)g.target=g.target||c;else{var P=g;g=new nt(A,c),C(g,P)}if(P=!0,_)for(var j=_.length-1;0<=j;j--){var Z=g.g=_[j];P=gi(Z,A,!0,g)&&P}if(Z=g.g=c,P=gi(Z,A,!0,g)&&P,P=gi(Z,A,!1,g)&&P,_)for(j=0;j<_.length;j++)Z=g.g=_[j],P=gi(Z,A,!1,g)&&P}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Qt(_[A]);delete c.g[g],c.h--}}this.F=null},Ee.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},Ee.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function gi(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,j=0;j<g.length;++j){var Z=g[j];if(Z&&!Z.da&&Z.capture==_){var Ut=Z.listener,Ae=Z.ha||Z.src;Z.fa&&di(c.i,Z),P=Ut.call(Ae,A)!==!1&&P}}return P&&!A.defaultPrevented}function Xl(c,g,_){if(typeof c=="function")_&&(c=M(c,_));else if(c&&typeof c.handleEvent=="function")c=M(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function uo(c){c.g=Xl(()=>{c.g=null,c.i&&(c.i=!1,uo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ah extends ht{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(c){ht.call(this),this.h=c,this.g={}}G(Jr,ht);var Wi=[];function He(c){Ot(c.g,function(g,_){this.g.hasOwnProperty(_)&&Zr(g)},c),c.g={}}Jr.prototype.N=function(){Jr.aa.N.call(this),He(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var co=m.JSON.stringify,Fn=m.JSON.parse,We=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ho(){}ho.prototype.h=null;function $l(c){return c.h||(c.h=c.i())}function Wl(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){nt.call(this,"d")}G(Zi,nt);function xn(){nt.call(this,"c")}G(xn,nt);var gn={},Ji=null;function Ks(){return Ji=Ji||new Ee}gn.La="serverreachability";function fo(c){nt.call(this,gn.La,c)}G(fo,nt);function tr(c){const g=Ks();Ce(g,new fo(g))}gn.STAT_EVENT="statevent";function Ys(c,g){nt.call(this,gn.STAT_EVENT,c),this.stat=g}G(Ys,nt);function le(c){const g=Ks();Ce(g,new Ys(g,c))}gn.Ma="timingevent";function Zl(c,g){nt.call(this,gn.Ma,c),this.size=g}G(Zl,nt);function er(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function nr(){this.g=!0}nr.prototype.xa=function(){this.g=!1};function Jl(c,g,_,A,P,j){c.info(function(){if(c.g)if(j)for(var Z="",Ut=j.split("&"),Ae=0;Ae<Ut.length;Ae++){var Pt=Ut[Ae].split("=");if(1<Pt.length){var Ne=Pt[0];Pt=Pt[1];var Se=Ne.split("_");Z=2<=Se.length&&Se[1]=="type"?Z+(Ne+"="+Pt+"&"):Z+(Ne+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+_+`
`+Z})}function tu(c,g,_,A,P,j,Z){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+_+`
`+j+" "+Z})}function ir(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(c,_)+(A?" "+A:"")})}function Qn(c,g){c.info(function(){return"TIMEOUT: "+g})}nr.prototype.info=function(){};function De(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var j=P[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<P.length;Z++)P[Z]=""}}}}return co(_)}catch{return g}}var Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ts;function Xs(){}G(Xs,ho),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},ts=new Xs;function Kn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new Jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mo}function mo(){this.i=null,this.g="",this.h=!1}var rr={},es={};function Un(c,g,_){c.L=1,c.v=rs(re(g)),c.m=_,c.P=!0,yi(c,null)}function yi(c,g){c.F=Date.now(),Jt(c),c.A=re(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ei(_.i,"t",A),c.C=0,_=c.j.J,c.h=new mo,c.g=mu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Ah(M(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(Wi[0]=P.toString()),P=Wi);for(var j=0;j<P.length;j++){var Z=mi(_,P[j],A||g.handleEvent,!1,g.h||g);if(!Z)break;g.g[Z.key]=Z}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),tr(),Jl(c.i,c.u,c.A,c.l,c.R,c.m)}Kn.prototype.ca=function(c){c=c.target;const g=this.M;g&&En(c)==3?g.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)t:{const Se=En(this.g);var g=this.g.Ba();const bi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Se!=4||g==7||(g==8||0>=bi?tr(3):tr(2)),$s(this);var _=this.g.Z();this.X=_;e:if(sr(this)){var A=au(this.g);c="";var P=A.length,j=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),on(this);var Z="";break e}this.h.i=new m.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(j&&g==P-1)});A.length=0,this.h.g+=c,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=_==200,tu(this.i,this.u,this.A,this.l,this.R,Se,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ae=this.g;if((Ut=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Ut)){var Pt=Ut;break e}}Pt=null}if(_=Pt)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,_);else{this.o=!1,this.s=3,le(12),rn(this),on(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<Z.length;)if(Pe=ar(this,Z),Pe==es){Se==4&&(this.s=4,le(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==rr){this.s=4,le(15),ir(this.i,this.l,Z,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,Pe,null),ln(this,Pe);if(sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||Z.length!=0||this.h.h||(this.s=1,le(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,Z,"[Invalid Chunked Response]"),rn(this),on(this);else if(0<Z.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),hs(Ne),Ne.M=!0,le(11))}}else ir(this.i,this.l,Z,null),ln(this,Z);Se==4&&rn(this),this.o&&!this.J&&(Se==4?hu(this.j,this):(this.o=!1,Jt(this)))}else Ch(this.g),_==400&&0<Z.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),rn(this),on(this)}}}catch{}finally{}};function sr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ar(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?es:(_=Number(g.substring(_,A)),isNaN(_)?rr:(A+=1,A+_>g.length?es:(g=g.slice(A,A+_),c.C=A+_,g)))}Kn.prototype.cancel=function(){this.J=!0,rn(this)};function Jt(c){c.S=Date.now()+c.I,go(c,c.I)}function go(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=er(M(c.ba,c),g)}function $s(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qn(this.i,this.A),this.L!=2&&(tr(),le(17)),rn(this),this.s=2,on(this)):go(this,this.S-c)};function on(c){c.j.G==0||c.J||hu(c.j,c)}function rn(c){$s(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,He(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ln(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||or(_.h,c))){if(!c.K&&or(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)aa(_),ra(_);else break t;Ro(_),le(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=er(M(_.Za,_),6e3));if(1>=eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Si(_,11)}else if((c.K||_.g==c)&&aa(_),!ot(g))for(P=_.Da.g.parse(g),g=0;g<P.length;g++){let Pt=P[g];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const Ne=Pt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const Se=Pt[4];Se!=null&&(_.Aa=Se,_.j.info("SVER="+_.Aa));const bi=Pt[5];bi!=null&&typeof bi=="number"&&0<bi&&(A=1.5*bi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Pe=c.g;if(Pe){const ti=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var j=A.h;j.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(lr(j,j.h),j.h=null))}if(A.D){const Co=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(A.ya=Co,Bt(A.I,A.D,Co))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var Z=c;if(A.qa=du(A,A.J?A.ia:null,A.W),Z.K){pn(A.h,Z);var Ut=Z,Ae=A.L;Ae&&(Ut.I=Ae),Ut.B&&($s(Ut),Jt(Ut)),A.g=Z}else uu(A);0<_.i.length&&sa(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Si(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Si(_,7):bo(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}tr(4)}catch{}}var Sh=class{constructor(c,g){this.g=c,this.map=g}};function po(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function eu(c){return c.h?1:c.g?c.g.size:0}function or(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function lr(c,g){c.g?c.g.add(g):c.h=g}function pn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}po.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ze(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return $(c.i)}function nu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function bh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function ns(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=bh(c),A=nu(c),P=A.length,j=0;j<P;j++)g.call(void 0,A[j],_&&_[j],c)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),P=null;if(0<=A){var j=c[_].substring(0,A);P=c[_].substring(A+1)}else j=c[_];g(j,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function _i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _i){this.h=c.h,ur(this,c.j),this.o=c.o,this.g=c.g,is(this,c.s),this.l=c.l;var g=c.i,_=new Yn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Zs(this,_),this.m=c.m}else c&&(g=String(c).match(_o))?(this.h=!1,ur(this,g[1]||"",!0),this.o=cr(g[2]||""),this.g=cr(g[3]||"",!0),is(this,g[4]),this.l=cr(g[5]||"",!0),Zs(this,g[6]||"",!0),this.m=cr(g[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}_i.prototype.toString=function(){var c=[],g=this.j;g&&c.push(yn(g,vo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(yn(g,vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(yn(_,_.charAt(0)=="/"?Eo:iu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",yn(_,Ih)),c.join("")};function re(c){return new _i(c)}function ur(c,g,_){c.j=_?cr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function is(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Zs(c,g,_){g instanceof Yn?(c.i=g,To(c.i,c.h)):(_||(g=yn(g,Rh)),c.i=new Yn(g,c.h))}function Bt(c,g,_){c.i.set(g,_)}function rs(c){return Bt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function cr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yn(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,wh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vo=/[#\/\?@]/g,iu=/[#\?:]/g,Eo=/[#\?]/g,Rh=/[#\?@]/g,Ih=/#/g;function Yn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&Ws(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Yn.prototype,r.add=function(c,g){_n(this),this.i=null,c=Ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Js(c,g){_n(c),g=Ti(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function vi(c,g){return _n(c),g=Ti(c,g),c.g.has(g)}r.forEach=function(c,g){_n(this),this.g.forEach(function(_,A){_.forEach(function(P){c.call(g,P,A,this)},this)},this)},r.na=function(){_n(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const P=c[A];for(let j=0;j<P.length;j++)_.push(g[A])}return _},r.V=function(c){_n(this);let g=[];if(typeof c=="string")vi(this,c)&&(g=g.concat(this.g.get(Ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return _n(this),this.i=null,c=Ti(this,c),vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ei(c,g,_){Js(c,g),0<_.length&&(c.i=null,c.g.set(Ti(c,g),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const j=encodeURIComponent(String(A)),Z=this.V(A);for(A=0;A<Z.length;A++){var P=j;Z[A]!==""&&(P+="="+encodeURIComponent(String(Z[A]))),c.push(P)}}return this.i=c.join("&")};function Ti(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function To(c,g){g&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(Js(this,A),Ei(this,P,_))},c)),c.j=g}function ru(c,g){const _=new nr;if(m.Image){const A=new Image;A.onload=B(vn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=B(vn,_,"TestLoadImage: error",!1,g,A),A.onabort=B(vn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=B(vn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function ss(c,g){const _=new nr,A=new AbortController,P=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(P),j.ok?vn(_,"TestPingServer: ok",!0,g):vn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),vn(_,"TestPingServer: error",!1,g)})}function vn(c,g,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function as(){this.g=new We}function Xn(c,g,_){const A=_||"";try{ns(c,function(P,j){let Z=P;y(P)&&(Z=co(P)),g.push(A+j+"="+encodeURIComponent(Z))})}catch(P){throw g.push(A+"type="+encodeURIComponent("_badmap")),P}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}G(hr,ho),hr.prototype.g=function(){return new Ai(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Ai(c,g){Ee.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(Ai,Ee),r=Ai.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ao(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ao(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$n(this):Wn(this),this.readyState==3&&Ao(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},r.Qa=function(c){this.g&&(this.response=c,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function So(c){let g="";return Ot(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Oe(c,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=So(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Bt(c,g,_))}function Ft(c){Ee.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Ft,Ee);var ta=/^https?$/i,os=["POST","PUT"];r=Ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ts.g(),this.v=this.o?$l(this.o):$l(ts),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(j){su(this,j);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())_.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),P=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(os,g,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of _)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ls(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){su(this,j)}};function su(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ea(c),Zn(c)}function ea(c){c.A||(c.A=!0,Ce(c,"complete"),Ce(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ce(this,"complete"),Ce(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},r.bb=function(){na(this)};function na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)Xl(c.Ea,0,c);else if(Ce(c,"readystatechange"),En(c)==4){c.h=!1;try{const Z=c.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=Z===0){var P=String(c.D).match(_o)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),A=!ta.test(P?P.toLowerCase():"")}_=A}if(_)Ce(c,"complete"),Ce(c,"success");else{c.m=6;try{var j=2<En(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",ea(c)}}finally{Zn(c)}}}}function Zn(c,g){if(c.g){ls(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ce(c,"ready");try{_.onreadystatechange=A}catch{}}}function ls(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Fn(g)}};function au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ch(c){const g={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ot(c[A]))continue;var _=V(c[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=g[P]||[];g[P]=j,j.push(_)}x(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ia(c){this.Aa=0,this.i=[],this.j=new nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,c),this.cb=us("retryDelaySeedMs",1e4,c),this.Wa=us("forwardChannelMaxRetries",2,c),this.wa=us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new po(c&&c.concurrentRequestLimit),this.Da=new as,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ia.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){le(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=du(this,null,this.W),sa(this)};function bo(c){if(ou(c),c.G==3){var g=c.U++,_=re(c.I);if(Bt(_,"SID",c.K),Bt(_,"RID",g),Bt(_,"TYPE","terminate"),cs(c,_),g=new Kn(c,c.j,g),g.L=2,g.v=rs(re(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Jt(g)}fu(c)}function ra(c){c.g&&(hs(c),c.g.cancel(),c.g=null)}function ou(c){ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function sa(c){if(!yo(c.h)&&!c.s){c.s=!0;var g=c.Ga;yt||D(),dt||(yt(),dt=!0),Ht.add(g,c),c.B=0}}function Dh(c,g){return eu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=er(M(c.Ga,c,g),Io(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const P=new Kn(this,this.j,c);let j=this.o;if(this.S&&(j?(j=R(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(P.H=j,j=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=lu(this,P,g),_=re(this.I),Bt(_,"RID",c),Bt(_,"CVER",22),this.D&&Bt(_,"X-HTTP-Session-Id",this.D),cs(this,_),j&&(this.O?g="headers="+encodeURIComponent(String(So(j)))+"&"+g:this.m&&Oe(_,this.m,j)),lr(this.h,P),this.Ua&&Bt(_,"TYPE","init"),this.P?(Bt(_,"$req",g),Bt(_,"SID","null"),P.T=!0,Un(P,_,null)):Un(P,_,g),this.G=2}}else this.G==3&&(c?wo(this,c):this.i.length==0||yo(this.h)||wo(this))};function wo(c,g){var _;g?_=g.l:_=c.U++;const A=re(c.I);Bt(A,"SID",c.K),Bt(A,"RID",_),Bt(A,"AID",c.T),cs(c,A),c.m&&c.o&&Oe(A,c.m,c.o),_=new Kn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=lu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),lr(c.h,_),Un(_,A,g)}function cs(c,g){c.H&&Ot(c.H,function(_,A){Bt(g,A,_)}),c.l&&ns({},function(_,A){Bt(g,A,_)})}function lu(c,g,_){_=Math.min(c.i.length,_);var A=c.l?M(c.l.Na,c.l,c):null;t:{var P=c.i;let j=-1;for(;;){const Z=["count="+_];j==-1?0<_?(j=P[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let Ut=!0;for(let Ae=0;Ae<_;Ae++){let Pt=P[Ae].g;const Ne=P[Ae].map;if(Pt-=j,0>Pt)j=Math.max(0,P[Ae].g-100),Ut=!1;else try{Xn(Ne,Z,"req"+Pt+"_")}catch{A&&A(Ne)}}if(Ut){A=Z.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,A}function uu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;yt||D(),dt||(yt(),dt=!0),Ht.add(g,c),c.v=0}}function Ro(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=er(M(c.Fa,c),Io(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=er(M(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),ra(this),cu(this))};function hs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function cu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=re(c.qa);Bt(g,"RID","rpc"),Bt(g,"SID",c.K),Bt(g,"AID",c.T),Bt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Bt(g,"TO",c.ja),Bt(g,"TYPE","xmlhttp"),cs(c,g),c.m&&c.o&&Oe(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=rs(re(g)),_.m=null,_.P=!0,yi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ra(this),Ro(this),le(19))};function aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function hu(c,g){var _=null;if(c.g==g){aa(c),hs(c),c.g=null;var A=2}else if(or(c.h,g))_=g.D,pn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var P=c.B;A=Ks(),Ce(A,new Zl(A,_)),sa(c)}else uu(c);else if(P=g.s,P==3||P==0&&0<g.X||!(A==1&&Dh(c,g)||A==2&&Ro(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),P){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Io(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Si(c,g){if(c.j.info("Error code "+g),g==2){var _=M(c.fb,c),A=c.Xa;const P=!A;A=new _i(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ur(A,"https"),rs(A),P?ru(A.toString(),_):ss(A.toString(),_)}else le(2);c.G=0,c.l&&c.l.sa(g),fu(c),ou(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function fu(c){if(c.G=0,c.ka=[],c.l){const g=Ze(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function du(c,g,_){var A=_ instanceof _i?re(_):new _i(_);if(A.g!="")g&&(A.g=g+"."+A.g),is(A,A.s);else{var P=m.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var j=new _i(null);A&&ur(j,A),g&&(j.g=g),P&&is(j,P),_&&(j.l=_),A=j}return _=c.D,g=c.ya,_&&g&&Bt(A,_,g),Bt(A,"VER",c.la),cs(c,A),A}function mu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ft(new hr({eb:_})):new Ft(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function oa(){}oa.prototype.g=function(c,g){return new Je(c,g)};function Je(c,g){Ee.call(this),this.g=new ia(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ot(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ot(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jn(this)}G(Je,Ee),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){bo(this.g)},Je.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=co(c),c=_);g.i.push(new Sh(g.Ya++,c)),g.G==3&&sa(g)},Je.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,Je.aa.N.call(this)};function pu(c){Zi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}G(pu,Zi);function yu(){xn.call(this),this.status=1}G(yu,xn);function Jn(c){this.g=c}G(Jn,gu),Jn.prototype.ua=function(){Ce(this.g,"a")},Jn.prototype.ta=function(c){Ce(this.g,new pu(c))},Jn.prototype.sa=function(c){Ce(this.g,new yu)},Jn.prototype.ra=function(){Ce(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,u0=function(){return new oa},l0=function(){return Ks()},o0=gn,$d={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Rc=Te,pi.COMPLETE="complete",a0=pi,Wl.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,gl=Wl,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,s0=Ft}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const av="@firebase/firestore",ov="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new ym("@firebase/firestore");function Ua(){return Ps.logLevel}function rt(r,...t){if(Ps.logLevel<=Nt.DEBUG){const n=t.map(Nm);Ps.debug(`Firestore (${no}): ${r}`,...n)}}function Qi(r,...t){if(Ps.logLevel<=Nt.ERROR){const n=t.map(Nm);Ps.error(`Firestore (${no}): ${r}`,...n)}}function Qa(r,...t){if(Ps.logLevel<=Nt.WARN){const n=t.map(Nm);Ps.warn(`Firestore (${no}): ${r}`,...n)}}function Nm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r="Unexpected state"){const t=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: `+r;throw Qi(t),new Error(t)}function Gt(r,t){r||_t()}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class eI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nI{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new c0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Ke(t)}}class iI{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rI{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new iI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sI{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Bn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0);const s=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new lv(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new lv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=aI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function Zd(r,t){const n=Wd().encode(r),s=Wd().encode(t);for(let o=0;o<Math.min(n.length,s.length);o++){const u=Vt(n[o],s[o]);if(u!==0)return u}return Vt(n.length,s.length)}function Ka(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,cv=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*cv);return new Re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<uv)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-uv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Re(0,0))}static max(){return new Et(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(),s===void 0?s=t.length-n:s>t.length-n&&_t(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ai.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(t).compare(ai.extractNumericId(n)):Zd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qr.fromString(t.substring(4,t.length-2))}}class Zt extends ai{construct(t,n,s){return new Zt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new st(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const oI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ai{construct(t,n,s){return new je(t,n,s)}static isValidIdentifier(t){return oI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new je([hv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new st(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new st(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new st(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(Zt.fromString(t))}static fromName(t){return new mt(Zt.fromString(t).popFirst(5))}static empty(){return new mt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function lI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new Re(n+1,0):new Re(n,s));return new Gr(o,mt.empty(),t)}function uI(r){return new Gr(r.readTime,r.key,Il)}class Gr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Gr(Et.min(),mt.empty(),Il)}static max(){return new Gr(Et.max(),mt.empty(),Il)}}function cI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==hI)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,s)=>{n(t)})}static reject(t){return new K((n,s)=>{s(t)})}static waitFor(t){return new K((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=K.resolve(!1);for(const s of t)n=n.next(o=>o?K.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new K((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(t,n){return new K((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function dI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}rh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=-1;function sh(r){return r==null}function qc(r){return r===0&&1/r==-1/0}function mI(r){return typeof r=="number"&&Number.isInteger(r)&&!qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="";function gI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=fv(t)),t=pI(r.get(n),t);return fv(t)}function pI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case f0:n+="";break;default:n+=u}}return n}function fv(r){return r+f0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function zs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function d0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new ne(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yc(this.root,t,this.comparator,!0)}}class yc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=u??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Be(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,n,s,o,u){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(t){return new mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ie(this.comparator);return n.data=t,n}}class mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new jn([])}unionWith(t){let n=new Ie(je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new m0("Invalid base64 string: "+u):u}}(t);return new qe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const yI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(Gt(!!r),typeof r=="string"){let t=0;const n=yI.exec(r);if(Gt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Kr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="server_timestamp",p0="__type__",y0="__previous_value__",_0="__local_write_time__";function Mm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[p0])===null||n===void 0?void 0:n.stringValue)===g0}function ah(r){const t=r.mapValue.fields[y0];return Mm(t)?ah(t):t}function Cl(r){const t=Qr(r.mapValue.fields[_0].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,n,s,o,u,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Hc="(default)";class Dl{constructor(t,n){this.projectId=t,this.database=n||Hc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="__type__",vI="__max__",_c={mapValue:{}},E0="__vector__",Fc="value";function Yr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:TI(r)?9007199254740991:EI(r)?10:11:_t()}function fi(r,t){if(r===t)return!0;const n=Yr(r);if(n!==Yr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Cl(r).isEqual(Cl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qr(o.timestampValue),m=Qr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Kr(o.bytesValue).isEqual(Kr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return ce(o.geoPointValue.latitude)===ce(u.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ce(o.integerValue)===ce(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ce(o.doubleValue),m=ce(u.doubleValue);return f===m?qc(f)===qc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(dv(f)!==dv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!fi(f[p],m[p])))return!1;return!0}(r,t);default:return _t()}}function Ol(r,t){return(r.values||[]).find(n=>fi(n,t))!==void 0}function Ya(r,t){if(r===t)return 0;const n=Yr(r),s=Yr(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=ce(u.integerValue||u.doubleValue),p=ce(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return gv(r.timestampValue,t.timestampValue);case 4:return gv(Cl(r),Cl(t));case 5:return Zd(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Kr(u),p=Kr(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Vt(m[y],p[y]);if(T!==0)return T}return Vt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Vt(ce(u.latitude),ce(f.latitude));return m!==0?m:Vt(ce(u.longitude),ce(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return pv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,T;const b=u.fields||{},M=f.fields||{},B=(m=b[Fc])===null||m===void 0?void 0:m.arrayValue,G=(p=M[Fc])===null||p===void 0?void 0:p.arrayValue,$=Vt(((y=B==null?void 0:B.values)===null||y===void 0?void 0:y.length)||0,((T=G==null?void 0:G.values)===null||T===void 0?void 0:T.length)||0);return $!==0?$:pv(B,G)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===_c.mapValue&&f===_c.mapValue)return 0;if(u===_c.mapValue)return 1;if(f===_c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const M=Zd(p[b],T[b]);if(M!==0)return M;const B=Ya(m[p[b]],y[T[b]]);if(B!==0)return B}return Vt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw _t()}}function gv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=Qr(r),s=Qr(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function pv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ya(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function Xa(r){return Jd(r)}function Jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Kr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return mt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Jd(n.fields[f])}`;return o+"}"}(r.mapValue):_t()}function Ic(r){switch(Yr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(r);return t?16+Ic(t):16;case 5:return 2*r.stringValue.length;case 6:return Kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ic(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return zs(s.fields,(u,f)=>{o+=u.length+Ic(f)}),o}(r.mapValue);default:throw _t()}}function yv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function tm(r){return!!r&&"integerValue"in r}function xm(r){return!!r&&"arrayValue"in r}function _v(r){return!!r&&"nullValue"in r}function vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cc(r){return!!r&&"mapValue"in r}function EI(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[v0])===null||n===void 0?void 0:n.stringValue)===E0}function vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return zs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=vl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function TI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Cc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(n)}setAll(t){let n=je.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=vl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){zs(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Nn(vl(this.value))}}function T0(r){const t=[];return zs(r.fields,(n,s)=>{const o=new je([n]);if(Cc(s)){const u=T0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ye(t,0,Et.min(),Et.min(),Et.min(),Nn.empty(),0)}static newFoundDocument(t,n,s,o){return new Ye(t,1,n,Et.min(),s,o,0)}static newNoDocument(t,n){return new Ye(t,2,n,Et.min(),Et.min(),Nn.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,Et.min(),Et.min(),Nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n){this.position=t,this.inclusive=n}}function Ev(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=Ya(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!fi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,n="asc"){this.field=t,this.dir=n}}function AI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{}class ye extends A0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new bI(t,n,s):n==="array-contains"?new II(t,s):n==="in"?new CI(t,s):n==="not-in"?new DI(t,s):n==="array-contains-any"?new OI(t,s):new ye(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new wI(t,s):new RI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ya(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends A0{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Hn(t,n)}matches(t){return S0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function S0(r){return r.op==="and"}function b0(r){return SI(r)&&S0(r)}function SI(r){for(const t of r.filters)if(t instanceof Hn)return!1;return!0}function em(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(b0(r))return r.filters.map(t=>em(t)).join(",");{const t=r.filters.map(n=>em(n)).join(",");return`${r.op}(${t})`}}function w0(r,t){return r instanceof ye?function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&fi(s.value,o.value)}(r,t):r instanceof Hn?function(s,o){return o instanceof Hn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&w0(f,o.filters[m]),!0):!1}(r,t):void _t()}function R0(r){return r instanceof ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Xa(n.value)}`}(r):r instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(R0).join(" ,")+"}"}(r):"Filter"}class bI extends ye{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class wI extends ye{constructor(t,n){super(t,"in",n),this.keys=I0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class RI extends ye{constructor(t,n){super(t,"not-in",n),this.keys=I0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function I0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>mt.fromName(s.referenceValue))}class II extends ye{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xm(n)&&Ol(n.arrayValue,this.value)}}class CI extends ye{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class DI extends ye{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ol(this.value.arrayValue,n)}}class OI extends ye{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ol(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Av(r,t=null,n=[],s=[],o=null,u=null,f=null){return new NI(r,t,n,s,o,u,f)}function Um(r){const t=At(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>em(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Xa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Xa(s)).join(",")),t.le=n}return t.le}function Pm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!AI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!w0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Tv(r.startAt,t.startAt)&&Tv(r.endAt,t.endAt)}function nm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function VI(r,t,n,s,o,u,f,m){return new so(r,t,n,s,o,u,f,m)}function C0(r){return new so(r)}function Sv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function D0(r){return r.collectionGroup!==null}function El(r){const t=At(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ie(je.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new Nl(u,s))}),n.has(je.keyField().canonicalString())||t.he.push(new Nl(je.keyField(),s))}return t.he}function li(r){const t=At(r);return t.Pe||(t.Pe=MI(t,El(r))),t.Pe}function MI(r,t){if(r.limitType==="F")return Av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Nl(o.field,u)});const n=r.endAt?new Gc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Gc(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function im(r,t){const n=r.filters.concat([t]);return new so(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function rm(r,t,n){return new so(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function oh(r,t){return Pm(li(r),li(t))&&r.limitType===t.limitType}function O0(r){return`${Um(li(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>R0(o)).join(", ")}]`),sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Xa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Xa(o)).join(",")),`Target(${s})`}(li(r))}; limitType=${r.limitType})`}function lh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of El(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Ev(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,El(s),o)||s.endAt&&!function(f,m,p){const y=Ev(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,El(s),o))}(r,t)}function xI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function N0(r){return(t,n)=>{let s=!1;for(const o of El(r)){const u=UI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function UI(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Ya(p,y):_t()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return d0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new ne(mt.comparator);function Ki(){return PI}const V0=new ne(mt.comparator);function pl(...r){let t=V0;for(const n of r)t=t.insert(n.key,n);return t}function M0(r){let t=V0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Vs(){return Tl()}function x0(){return Tl()}function Tl(){return new Bs(r=>r.toString(),(r,t)=>r.isEqual(t))}const kI=new ne(mt.comparator),LI=new Ie(mt.comparator);function Mt(...r){let t=LI;for(const n of r)t=t.add(n);return t}const zI=new Ie(Vt);function BI(){return zI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function U0(r){return{integerValue:""+r}}function jI(r,t){return mI(t)?U0(t):km(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function qI(r,t,n){return r instanceof Vl?function(o,u){const f={fields:{[p0]:{stringValue:g0},[_0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mm(u)&&(u=ah(u)),u&&(f.fields[y0]=u),{mapValue:f}}(n,t):r instanceof Ml?k0(r,t):r instanceof xl?L0(r,t):function(o,u){const f=P0(o,u),m=bv(f)+bv(o.Ie);return tm(f)&&tm(o.Ie)?U0(m):km(o.serializer,m)}(r,t)}function HI(r,t,n){return r instanceof Ml?k0(r,t):r instanceof xl?L0(r,t):n}function P0(r,t){return r instanceof Qc?function(s){return tm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Vl extends uh{}class Ml extends uh{constructor(t){super(),this.elements=t}}function k0(r,t){const n=z0(t);for(const s of r.elements)n.some(o=>fi(o,s))||n.push(s);return{arrayValue:{values:n}}}class xl extends uh{constructor(t){super(),this.elements=t}}function L0(r,t){let n=z0(t);for(const s of r.elements)n=n.filter(o=>!fi(o,s));return{arrayValue:{values:n}}}class Qc extends uh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function bv(r){return ce(r.integerValue||r.doubleValue)}function z0(r){return xm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,n){this.field=t,this.transform=n}}function GI(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Ml&&o instanceof Ml||s instanceof xl&&o instanceof xl?Ka(s.elements,o.elements,fi):s instanceof Qc&&o instanceof Qc?fi(s.Ie,o.Ie):s instanceof Vl&&o instanceof Vl}(r.transform,t.transform)}class QI{constructor(t,n){this.version=t,this.transformResults=n}}class ui{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ch{}function B0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Lm(r.key,ui.none()):new Fl(r.key,r.data,ui.none());{const n=r.data,s=Nn.empty();let o=new Ie(je.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new js(r.key,s,new jn(o.toArray()),ui.none())}}function KI(r,t,n){r instanceof Fl?function(o,u,f){const m=o.value.clone(),p=Rv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof js?function(o,u,f){if(!Dc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Rv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(j0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Al(r,t,n,s){return r instanceof Fl?function(u,f,m,p){if(!Dc(u.precondition,f))return m;const y=u.value.clone(),T=Iv(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof js?function(u,f,m,p){if(!Dc(u.precondition,f))return m;const y=Iv(u.fieldTransforms,p,f),T=f.data;return T.setAll(j0(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,s):function(u,f,m){return Dc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function YI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=P0(s.transform,o||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,u))}return n||null}function wv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ka(s,o,(u,f)=>GI(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends ch{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends ch{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function j0(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Rv(r,t,n){const s=new Map;Gt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,HI(f,m,n[o]))}return s}function Iv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,qI(u,f,t))}return s}class Lm extends ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XI extends ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&KI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=x0();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=B0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,(n,s)=>wv(n,s))&&Ka(this.baseMutations,t.baseMutations,(n,s)=>wv(n,s))}}class zm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Gt(t.mutations.length===s.length);let o=function(){return kI}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new zm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function JI(r){switch(r){case Y.OK:return _t();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return _t()}}function q0(r){if(r===void 0)return Qi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case pe.OK:return Y.OK;case pe.CANCELLED:return Y.CANCELLED;case pe.UNKNOWN:return Y.UNKNOWN;case pe.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case pe.INTERNAL:return Y.INTERNAL;case pe.UNAVAILABLE:return Y.UNAVAILABLE;case pe.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case pe.NOT_FOUND:return Y.NOT_FOUND;case pe.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case pe.ABORTED:return Y.ABORTED;case pe.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case pe.DATA_LOSS:return Y.DATA_LOSS;default:return _t()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new qr([4294967295,4294967295],0);function Cv(r){const t=Wd().encode(r),n=new r0;return n.update(t),new Uint8Array(n.digest())}function Dv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new qr([n,s],0),new qr([o,u],0)]}class Bm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(s<0)throw new yl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=qr.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(qr.fromNumber(s)));return o.compare(tC)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Cv(t),[s,o]=Dv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Bm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=Cv(t),[s,o]=Dv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new hh(Et.min(),o,new ne(Vt),Ki(),Mt())}}class Gl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Gl(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class H0{constructor(t,n){this.targetId=t,this.ge=n}}class F0{constructor(t,n,s=qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Ov{constructor(){this.pe=0,this.ye=Nv(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Mt(),n=Mt(),s=Mt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new Gl(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=Nv()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class eC{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ki(),this.$e=vc(),this.Ue=vc(),this.Ke=new ne(Vt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:_t()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(nm(u))if(s===0){const f=new mt(u.path);this.ze(n,f,Ye.newNoDocument(f,Et.min()))}else Gt(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Kr(s).toUint8Array()}catch(p){if(p instanceof m0)return Qa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bm(f,o,u)}catch(p){return Qa(p instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&nm(m.target)){const p=new mt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Ye.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Mt();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new hh(t,n,this.Ke,this.Qe,s);return this.Qe=Ki(),this.$e=vc(),this.Ue=vc(),this.Ke=new ne(Vt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Ov,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Ie(Vt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ie(Vt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Ov),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function vc(){return new ne(mt.comparator)}function Nv(){return new ne(mt.comparator)}const nC={asc:"ASCENDING",desc:"DESCENDING"},iC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rC={and:"AND",or:"OR"};class sC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sm(r,t){return r.useProto3Json||sh(t)?t:{value:t}}function Kc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function G0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function aC(r,t){return Kc(r,t.toTimestamp())}function ci(r){return Gt(!!r),Et.fromTimestamp(function(n){const s=Qr(n);return new Re(s.seconds,s.nanos)}(r))}function jm(r,t){return am(r,t).canonicalString()}function am(r,t){const n=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function Q0(r){const t=Zt.fromString(r);return Gt(W0(t)),t}function om(r,t){return jm(r.databaseId,t.path)}function Ud(r,t){const n=Q0(t);if(n.get(1)!==r.databaseId.projectId)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(Y0(n))}function K0(r,t){return jm(r.databaseId,t)}function oC(r){const t=Q0(r);return t.length===4?Zt.emptyPath():Y0(t)}function lm(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Y0(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Vv(r,t,n){return{name:om(r,t),fields:n.value.mapValue.fields}}function lC(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string"),qe.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),qe.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const T=y.code===void 0?Y.UNKNOWN:q0(y.code);return new st(T,y.message||"")}(f);n=new F0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ud(r,s.document.name),u=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Et.min(),m=new Nn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Oc(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Ud(r,s.document),u=s.readTime?ci(s.readTime):Et.min(),f=Ye.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Oc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Ud(r,s.document),u=s.removedTargetIds||[];n=new Oc([],u,o,null)}else{if(!("filter"in t))return _t();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ZI(o,u),m=s.targetId;n=new H0(m,f)}}return n}function uC(r,t){let n;if(t instanceof Fl)n={update:Vv(r,t.key,t.value)};else if(t instanceof Lm)n={delete:om(r,t.key)};else if(t instanceof js)n={update:Vv(r,t.key,t.data),updateMask:_C(t.fieldMask)};else{if(!(t instanceof XI))return _t();n={verify:om(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Vl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ml)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Qc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw _t()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:aC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t()}(r,t.precondition)),n}function cC(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?ci(o.updateTime):ci(u);return f.isEqual(Et.min())&&(f=ci(u)),new QI(f,o.transformResults||[])}(n,t))):[]}function hC(r,t){return{documents:[K0(r,t.path)]}}function fC(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=K0(r,o);const u=function(y){if(y.length!==0)return $0(Hn.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(M){return{field:ka(M.field),direction:gC(M.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=sm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:o}}function dC(r){let t=oC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Gt(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(b){const M=X0(b);return M instanceof Hn&&b0(M)?M.getFilters():[M]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(M=>function(G){return new Nl(La(G.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(M))}(n.orderBy));let m=null;n.limit&&(m=function(b){let M;return M=typeof b=="object"?b.value:b,sh(M)?null:M}(n.limit));let p=null;n.startAt&&(p=function(b){const M=!!b.before,B=b.values||[];return new Gc(B,M)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const M=!b.before,B=b.values||[];return new Gc(B,M)}(n.endAt)),VI(t,o,f,u,m,"F",p,y)}function mC(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function X0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=La(n.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=La(n.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=La(n.unaryFilter.field);return ye.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=La(n.unaryFilter.field);return ye.create(f,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(r):r.fieldFilter!==void 0?function(n){return ye.create(La(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(s=>X0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(n.compositeFilter.op))}(r):_t()}function gC(r){return nC[r]}function pC(r){return iC[r]}function yC(r){return rC[r]}function ka(r){return{fieldPath:r.canonicalString()}}function La(r){return je.fromServerFormat(r.fieldPath)}function $0(r){return r instanceof ye?function(n){if(n.op==="=="){if(vv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(_v(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(_v(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:pC(n.op),value:n.value}}}(r):r instanceof Hn?function(n){const s=n.getFilters().map(o=>$0(o));return s.length===1?s[0]:{compositeFilter:{op:yC(n.op),filters:s}}}(r):_t()}function _C(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function W0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n,s,o,u=Et.min(),f=Et.min(),m=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t){this.Tt=t}}function EC(r){const t=dC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.Tn=new AC}addToCollectionParentIndex(t,n){return this.Tn.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(Gr.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(Gr.min())}updateCollectionGroup(t,n,s){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class AC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ie(Zt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ie(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z0=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Z0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new $a(0)}static Kn(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LruGarbageCollector",SC=1048576;function Uv([r,t],[n,s]){const o=Vt(r,n);return o===0?Vt(t,s):o}class bC{constructor(t){this.Hn=t,this.buffer=new Ie(Uv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Uv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){rt(xv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ro(n)?rt(xv,"Ignoring IndexedDB error during garbage collection: ",n):await io(n)}await this.er(3e5)})}}class RC{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return K.resolve(rh.ae);const s=new bC(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Mv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(y=Date.now(),Ua()<=Nt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function IC(r,t){return new RC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.changes=new Bs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Al(s.mutation,o,jn.empty(),Re.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const o=Vs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=pl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Vs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Ki();const f=Tl(),m=function(){return Tl()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof js)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Al(T.mutation,y,T.mutation.getFieldMask(),Re.now())):f.set(y.key,jn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var b;return m.set(y,new DC(T,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Tl();let o=new ne((f,m)=>f-m),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||jn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const b=(o.get(m.batchId)||Mt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,b=x0();T.forEach(M=>{if(!u.has(M)){const B=B0(n.get(M),s.get(M));B!==null&&b.set(M,B),u=u.add(M)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return K.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):D0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):K.resolve(Vs());let m=Il,p=u;return f.next(y=>K.forEach(y,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?K.resolve():this.remoteDocumentCache.getEntry(t,T).next(M=>{p=p.insert(T,M)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Mt())).next(T=>({batchId:m,changes:M0(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next(s=>{let o=pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=pl();return this.indexManager.getCollectionParents(t,u).next(m=>K.forEach(m,p=>{const y=function(b,M){return new so(M,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(T=>{T.forEach((b,M)=>{f=f.insert(b,M)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Ye.newInvalidDocument(T)))});let m=pl();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&Al(T.mutation,y,jn.empty(),Re.now()),lh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return K.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:EC(o.bundledQuery),readTime:ci(o.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.overlays=new ne(mt.comparator),this.Rr=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Vs();return K.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),K.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(t,n,s){const o=Vs(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ne((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Vs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Vs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return K.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new WI(n,s));let u=this.Rr.get(n);u===void 0&&(u=Mt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.Vr=new Ie(Ue.mr),this.gr=new Ie(Ue.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ue(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new mt(new Zt([])),s=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new mt(new Zt([])),s=new Ue(n,t),o=new Ue(n,t+1);let u=Mt();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ue(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return mt.comparator(t.key,n.key)||Vt(t.Cr,n.Cr)}static pr(t,n){return Vt(t.Cr,n.Cr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ie(Ue.mr)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new $I(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return K.resolve(f)}lookupMutationBatch(t,n){return K.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Vm:this.Fr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ie(Vt);return n.forEach(o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new mt(u),0);let m=new Ie(Vt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),K.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Gt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(n.mutations,o=>{const u=new Ue(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ue(n,0),o=this.Mr.firstAfterOrEqual(s);return K.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.kr=t,this.docs=function(){return new ne(mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let s=Ki();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ye.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Ki();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||cI(uI(T),s)<=0||(o.has(T.key)||lh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(t,n,s,o){_t()}qr(t,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new PC(this)}getSize(t){return K.resolve(this.size)}}class PC extends CC{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),K.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.persistence=t,this.Qr=new Bs(n=>Um(n),Pm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new qm,this.targetCount=0,this.Kr=$a.Un()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),K.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new $a(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.zn(n),K.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),K.waitFor(u).next(()=>o)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return K.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),K.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),K.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),K.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return K.resolve(s)}containsKey(t,n){return K.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new rh(0),this.zr=!1,this.zr=!0,this.jr=new MC,this.referenceDelegate=t(this),this.Hr=new kC(this),this.indexManager=new TC,this.remoteDocumentCache=function(o){return new UC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new vC(n),this.Yr=new NC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new VC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new xC(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const o=new LC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class LC extends fI{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.ti=new qm,this.ni=null}static ri(t){return new Hm(t)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),K.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),K.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const o=mt.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return K.or([()=>K.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Yc{constructor(t,n){this.persistence=t,this.oi=new Bs(s=>gI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=IC(this,n)}static ri(t,n){return new Yc(t,n)}Zr(){}Xr(t){return K.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return K.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?K.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Et.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),K.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),K.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ic(t.data.value)),n}ar(t,n,s){return K.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Pb()?8:dI(Xe())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new zC;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(Ua()<=Nt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(Ua()<=Nt.DEBUG&&rt("QueryEngine","Query:",Pa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ua()<=Nt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(n))):K.resolve())}rs(t,n){if(Sv(n))return K.resolve(null);let s=li(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=rm(n,null,"F"),s=li(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Mt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(t,rm(n,null,"F")):this.hs(t,y,n,p)}))})))}ss(t,n,s,o){return Sv(n)||o.isEqual(Et.min())?K.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?K.resolve(null):(Ua()<=Nt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pa(n)),this.hs(t,f,n,lI(o,Il)).next(m=>m))})}cs(t,n){let s=new Ie(N0(t));return n.forEach((o,u)=>{lh(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return Ua()<=Nt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Pa(n)),this.ns.getDocumentsMatchingQuery(t,n,Gr.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="LocalStore",jC=3e8;class qC{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new ne(Vt),this.Is=new Bs(u=>Um(u),Pm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function HC(r,t,n,s){return new qC(r,t,n,s)}async function tT(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Mt();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function FC(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const b=y.batch,M=b.keys();let B=K.resolve();return M.forEach(G=>{B=B.next(()=>T.getEntry(p,G)).next($=>{const q=y.docVersions.get(G);Gt(q!==null),$.version.compareTo(q)<0&&(b.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),T.addEntry($)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Mt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function eT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function GC(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((T,b)=>{const M=o.get(b);if(!M)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let B=M.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?B=B.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,s)),o=o.insert(b,B),function($,q,at){return $.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=jC?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0}(M,B,T)&&m.push(n.Hr.updateTargetData(u,B))});let p=Ki(),y=Mt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(QC(u,f,t.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Et.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return K.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function QC(r,t,n){let s=Mt(),o=Mt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Ki();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):rt(Gm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function KC(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Vm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function YC(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,K.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new kr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function um(r,t,n){const s=At(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ro(f))throw f;rt(Gm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function Pv(r,t,n){const s=At(r);let o=Et.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const b=At(p),M=b.Is.get(T);return M!==void 0?K.resolve(b.Ts.get(M)):b.Hr.getTargetData(y,T)}(s,f,li(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:Et.min(),n?u:Mt())).next(m=>(XC(s,xI(t),m),{documents:m,gs:u})))}function XC(r,t,n){let s=r.Es.get(t)||Et.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class kv{constructor(){this.activeTargetIds=BI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $C{constructor(){this.ho=new kv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new kv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="ConnectivityMonitor";class zv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){rt(Lv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){rt(Lv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function cm(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="RestConnection",ZC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Hc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,n,s,o,u){const f=cm(),m=this.bo(t,n.toUriEncodedString());rt(Pd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,s).then(y=>(rt(Pd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Qa(Pd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,n,s,o,u,f){return this.So(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}bo(t,n){const s=ZC[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class eD extends JC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=cm();return new Promise((f,m)=>{const p=new s0;p.setWithCredentials(!0),p.listenOnce(a0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Rc.NO_ERROR:const T=p.getResponseJson();rt(Qe,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),f(T);break;case Rc.TIMEOUT:rt(Qe,`RPC '${t}' ${u} timed out`),m(new st(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const b=p.getStatus();if(rt(Qe,`RPC '${t}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const B=M==null?void 0:M.error;if(B&&B.status&&B.message){const G=function(q){const at=q.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(at)>=0?at:Y.UNKNOWN}(B.status);m(new st(G,B.message))}else m(new st(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new st(Y.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{rt(Qe,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);rt(Qe,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(t,n,s){const o=cm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=u0(),m=l0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");rt(Qe,`Creating RPC '${t}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);let M=!1,B=!1;const G=new tD({Fo:q=>{B?rt(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(M||(rt(Qe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),M=!0),rt(Qe,`RPC '${t}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),$=(q,at,ot)=>{q.listen(at,ut=>{try{ot(ut)}catch(wt){setTimeout(()=>{throw wt},0)}})};return $(b,gl.EventType.OPEN,()=>{B||(rt(Qe,`RPC '${t}' stream ${o} transport opened.`),G.Qo())}),$(b,gl.EventType.CLOSE,()=>{B||(B=!0,rt(Qe,`RPC '${t}' stream ${o} transport closed`),G.Uo())}),$(b,gl.EventType.ERROR,q=>{B||(B=!0,Qa(Qe,`RPC '${t}' stream ${o} transport errored:`,q),G.Uo(new st(Y.UNAVAILABLE,"The operation could not be completed")))}),$(b,gl.EventType.MESSAGE,q=>{var at;if(!B){const ot=q.data[0];Gt(!!ot);const ut=ot,wt=(ut==null?void 0:ut.error)||((at=ut[0])===null||at===void 0?void 0:at.error);if(wt){rt(Qe,`RPC '${t}' stream ${o} received error:`,wt);const gt=wt.status;let Ot=function(S){const C=pe[S];if(C!==void 0)return q0(C)}(gt),x=wt.message;Ot===void 0&&(Ot=Y.INTERNAL,x="Unknown error status: "+gt+" with message "+wt.message),B=!0,G.Uo(new st(Ot,x)),b.close()}else rt(Qe,`RPC '${t}' stream ${o} received:`,ot),G.Ko(ot)}}),$(m,o0.STAT_EVENT,q=>{q.stat===$d.PROXY?rt(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===$d.NOPROXY&&rt(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{G.$o()},0),G}}function kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(r){return new sC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="PersistentStream";class iT{constructor(t,n,s,o,u,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new nT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new st(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return rt(Bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(rt(Bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nD extends iT{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=lC(this.serializer,t),s=function(u){if(!("targetChange"in u))return Et.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?ci(f.readTime):Et.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=lm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=nm(p)?{documents:hC(u,p)}:{query:fC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=G0(u,f.resumeToken);const y=sm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Et.min())>0){m.readTime=Kc(u,f.snapshotVersion.toTimestamp());const y=sm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=mC(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=lm(this.serializer),n.removeTarget=t,this.I_(n)}}class iD extends iT{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=cC(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=lm(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>uC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{}class sD extends rD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(t,am(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new st(Y.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,am(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new st(Y.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):rt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class oD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{qs(this)&&(rt(ks,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await Ql(y),y.j_.set("Unknown"),y.W_.delete(4),await dh(y)}(this))})}),this.j_=new aD(s,o)}}async function dh(r){if(qs(r))for(const t of r.G_)await t(!0)}async function Ql(r){for(const t of r.G_)await t(!1)}function rT(r,t){const n=At(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Xm(n)?Ym(n):ao(n).c_()&&Km(n,t))}function Qm(r,t){const n=At(r),s=ao(n);n.K_.delete(t),s.c_()&&sT(n,t),n.K_.size===0&&(s.c_()?s.P_():qs(n)&&n.j_.set("Unknown"))}function Km(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ao(r).y_(t)}function sT(r,t){r.H_.Ne(t),ao(r).w_(t)}function Ym(r){r.H_=new eC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),ao(r).start(),r.j_.B_()}function Xm(r){return qs(r)&&!ao(r).u_()&&r.K_.size>0}function qs(r){return At(r).W_.size===0}function aT(r){r.H_=void 0}async function lD(r){r.j_.set("Online")}async function uD(r){r.K_.forEach((t,n)=>{Km(r,t)})}async function cD(r,t){aT(r),Xm(r)?(r.j_.q_(t),Ym(r)):r.j_.set("Unknown")}async function hD(r,t,n){if(r.j_.set("Online"),t instanceof F0&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){rt(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Xc(r,s)}else if(t instanceof Oc?r.H_.We(t):t instanceof H0?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Et.min()))try{const s=await eT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.K_.get(y);T&&u.K_.set(y,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const T=u.K_.get(p);if(!T)return;u.K_.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),sT(u,p);const b=new kr(T.target,p,y,T.sequenceNumber);Km(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){rt(ks,"Failed to raise snapshot:",s),await Xc(r,s)}}async function Xc(r,t,n){if(!ro(t))throw t;r.W_.add(1),await Ql(r),r.j_.set("Offline"),n||(n=()=>eT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{rt(ks,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await dh(r)})}function oT(r,t){return t().catch(n=>Xc(r,n,t))}async function mh(r){const t=At(r),n=Xr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:Vm;for(;fD(t);)try{const o=await KC(t.localStore,s);if(o===null){t.U_.length===0&&n.P_();break}s=o.batchId,dD(t,o)}catch(o){await Xc(t,o)}lT(t)&&uT(t)}function fD(r){return qs(r)&&r.U_.length<10}function dD(r,t){r.U_.push(t);const n=Xr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function lT(r){return qs(r)&&!Xr(r).u_()&&r.U_.length>0}function uT(r){Xr(r).start()}async function mD(r){Xr(r).C_()}async function gD(r){const t=Xr(r);for(const n of r.U_)t.b_(n.mutations)}async function pD(r,t,n){const s=r.U_.shift(),o=zm.from(s,t,n);await oT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await mh(r)}async function yD(r,t){t&&Xr(r).S_&&await async function(s,o){if(function(f){return JI(f)&&f!==Y.ABORTED}(o.code)){const u=s.U_.shift();Xr(s).h_(),await oT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await mh(s)}}(r,t),lT(r)&&uT(r)}async function jv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),rt(ks,"RemoteStore received new credentials");const s=qs(n);n.W_.add(3),await Ql(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await dh(n)}async function _D(r,t){const n=At(r);t?(n.W_.delete(2),await dh(n)):t||(n.W_.add(2),await Ql(n),n.j_.set("Unknown"))}function ao(r){return r.J_||(r.J_=function(n,s,o){const u=At(n);return u.M_(),new nD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:lD.bind(null,r),No:uD.bind(null,r),Lo:cD.bind(null,r),p_:hD.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Xm(r)?Ym(r):r.j_.set("Unknown")):(await r.J_.stop(),aT(r))})),r.J_}function Xr(r){return r.Y_||(r.Y_=function(n,s,o){const u=At(n);return u.M_(),new iD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:mD.bind(null,r),Lo:yD.bind(null,r),D_:gD.bind(null,r),v_:pD.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await mh(r)):(await r.Y_.stop(),r.U_.length>0&&(rt(ks,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new $m(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),ro(r))return new st(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=pl(),this.sortedSet=new ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.Z_=new ne(mt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):_t():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Wa{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Wa(t,n,qa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class ED{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=Hv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new st(Y.ABORTED,"Firestore shutting down"))}}function Hv(){return new Bs(r=>O0(r),oh)}async function TD(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new vD,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Wm(f,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Zm(n)}async function AD(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function SD(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Zm(n)}function bD(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function Zm(r){r.ia.forEach(t=>{t.next()})}var hm,Fv;(Fv=hm||(hm={}))._a="default",Fv.Cache="cache";class wD{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Wa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t){this.key=t}}class hT{constructor(t){this.key=t}}class RD{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Mt(),this.mutatedKeys=Mt(),this.ya=N0(t),this.wa=new qa(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new qv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,b)=>{const M=o.get(T),B=lh(this.query,b)?b:null,G=!!M&&this.mutatedKeys.has(M.key),$=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let q=!1;M&&B?M.data.isEqual(B.data)?G!==$&&(s.track({type:3,doc:B}),q=!0):this.va(M,B)||(s.track({type:2,doc:B}),q=!0,(p&&this.ya(B,p)>0||y&&this.ya(B,y)<0)&&(m=!0)):!M&&B?(s.track({type:0,doc:B}),q=!0):M&&!B&&(s.track({type:1,doc:M}),q=!0,(p||y)&&(m=!0)),q&&(B?(f=f.add(B),u=$?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((T,b)=>function(B,G){const $=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return $(B)-$(G)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Wa(this.query,t.wa,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new qv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Mt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new hT(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new cT(s))}),n}Oa(t){this.fa=t.gs,this.pa=Mt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Wa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jm="SyncEngine";class ID{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class CD{constructor(t){this.key=t,this.Ba=!1}}class DD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Bs(m=>O0(m),oh),this.qa=new Map,this.Qa=new Set,this.$a=new ne(mt.comparator),this.Ua=new Map,this.Ka=new qm,this.Wa={},this.Ga=new Map,this.za=$a.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function OD(r,t,n=!0){const s=yT(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await fT(s,t,n,!0),o}async function ND(r,t){const n=yT(r);await fT(n,t,!0,!1)}async function fT(r,t,n,s){const o=await YC(r.localStore,li(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await VD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&rT(r.remoteStore,o),m}async function VD(r,t,n,s,o){r.Ha=(b,M,B)=>async function($,q,at,ot){let ut=q.view.ba(at);ut.ls&&(ut=await Pv($.localStore,q.query,!1).then(({documents:x})=>q.view.ba(x,ut)));const wt=ot&&ot.targetChanges.get(q.targetId),gt=ot&&ot.targetMismatches.get(q.targetId)!=null,Ot=q.view.applyChanges(ut,$.isPrimaryClient,wt,gt);return Qv($,q.targetId,Ot.Ma),Ot.snapshot}(r,b,M,B);const u=await Pv(r.localStore,t,!0),f=new RD(t,u.gs),m=f.ba(u.documents),p=Gl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);Qv(r,n,y.Ma);const T=new ID(t,n,f);return r.ka.set(t,T),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function MD(r,t,n){const s=At(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!oh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await um(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Qm(s.remoteStore,o.targetId),fm(s,o.targetId)}).catch(io)):(fm(s,o.targetId),await um(s.localStore,o.targetId,!0))}async function xD(r,t){const n=At(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qm(n.remoteStore,s.targetId))}async function UD(r,t,n){const s=qD(r);try{const o=await function(f,m){const p=At(f),y=Re.now(),T=m.reduce((B,G)=>B.add(G.key),Mt());let b,M;return p.persistence.runTransaction("Locally write mutations","readwrite",B=>{let G=Ki(),$=Mt();return p.ds.getEntries(B,T).next(q=>{G=q,G.forEach((at,ot)=>{ot.isValidDocument()||($=$.add(at))})}).next(()=>p.localDocuments.getOverlayedDocuments(B,G)).next(q=>{b=q;const at=[];for(const ot of m){const ut=YI(ot,b.get(ot.key).overlayedDocument);ut!=null&&at.push(new js(ot.key,ut,T0(ut.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(B,y,at,m)}).next(q=>{M=q;const at=q.applyToLocalDocumentSet(b,$);return p.documentOverlayCache.saveOverlays(B,q.batchId,at)})}).then(()=>({batchId:M.batchId,changes:M0(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ne(Vt)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await Kl(s,o.changes),await mh(s.remoteStore)}catch(o){const u=Wm(o,"Failed to persist write");n.reject(u)}}async function dT(r,t){const n=At(r);try{const s=await GC(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Gt(f.Ba):o.removedDocuments.size>0&&(Gt(f.Ba),f.Ba=!1))}),await Kl(n,s,t)}catch(s){await io(s)}}function Gv(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=At(f);p.onlineState=m;let y=!1;p.queries.forEach((T,b)=>{for(const M of b.ta)M.sa(m)&&(y=!0)}),y&&Zm(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function PD(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ua.get(t),u=o&&o.key;if(u){let f=new ne(mt.comparator);f=f.insert(u,Ye.newNoDocument(u,Et.min()));const m=Mt().add(u),p=new hh(Et.min(),new Map,new ne(Vt),f,m);await dT(s,p),s.$a=s.$a.remove(u),s.Ua.delete(t),tg(s)}else await um(s.localStore,t,!1).then(()=>fm(s,t,n)).catch(io)}async function kD(r,t){const n=At(r),s=t.batch.batchId;try{const o=await FC(n.localStore,t);gT(n,s,null),mT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Kl(n,o)}catch(o){await io(o)}}async function LD(r,t,n){const s=At(r);try{const o=await function(f,m){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(Gt(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,t);gT(s,t,n),mT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Kl(s,o)}catch(o){await io(o)}}function mT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function gT(r,t,n){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function fm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||pT(r,s)})}function pT(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Qm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),tg(r))}function Qv(r,t,n){for(const s of n)s instanceof cT?(r.Ka.addReference(s.key,t),zD(r,s)):s instanceof hT?(rt(Jm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||pT(r,s.key)):_t()}function zD(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(rt(Jm,"New document in limbo: "+n),r.Qa.add(s),tg(r))}function tg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new mt(Zt.fromString(t)),s=r.za.next();r.Ua.set(s,new CD(n)),r.$a=r.$a.insert(n,s),rT(r.remoteStore,new kr(li(C0(n.path)),s,"TargetPurposeLimboResolution",rh.ae))}}async function Kl(r,t,n){const s=At(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Fm.Yi(p.targetId,y);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>K.forEach(y,M=>K.forEach(M.Hi,B=>T.persistence.referenceDelegate.addReference(b,M.targetId,B)).next(()=>K.forEach(M.Ji,B=>T.persistence.referenceDelegate.removeReference(b,M.targetId,B)))))}catch(b){if(!ro(b))throw b;rt(Gm,"Failed to update sequence numbers: "+b)}for(const b of y){const M=b.targetId;if(!b.fromCache){const B=T.Ts.get(M),G=B.snapshotVersion,$=B.withLastLimboFreeSnapshotVersion(G);T.Ts=T.Ts.insert(M,$)}}}(s.localStore,u))}async function BD(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){rt(Jm,"User change. New user:",t.toKey());const s=await tT(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new st(Y.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Kl(n,s.Rs)}}function jD(r,t){const n=At(r),s=n.Ua.get(t);if(s&&s.Ba)return Mt().add(s.key);{let o=Mt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function yT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PD.bind(null,t),t.La.p_=SD.bind(null,t.eventManager),t.La.Ja=bD.bind(null,t.eventManager),t}function qD(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LD.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return HC(this.persistence,new BC,t.initialUser,this.serializer)}Xa(t){return new J0(Hm.ri,this.serializer)}Za(t){return new $C}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class HD extends $c{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Gt(this.persistence.referenceDelegate instanceof Yc);const s=this.persistence.referenceDelegate.garbageCollector;return new wC(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new J0(s=>Yc.ri(s,n),this.serializer)}}class dm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Gv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=BD.bind(null,this.syncEngine),await _D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ED}()}createDatastore(t){const n=fh(t.databaseInfo.databaseId),s=function(u){return new eD(u)}(t.databaseInfo);return function(u,f,m,p){return new sD(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new oD(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>Gv(this.syncEngine,n,0),function(){return zv.D()?new zv:new WC}())}createSyncEngine(t,n){return function(o,u,f,m,p,y,T){const b=new DD(o,u,f,m,p,y);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=At(o);rt(ks,"RemoteStore shutting down."),u.W_.add(5),await Ql(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class GD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=h0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{rt($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(rt($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Wm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Ld(r,t){r.asyncQueue.verifyOperationInProgress(),rt($r,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Kv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await QD(r);rt($r,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>jv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>jv(t.remoteStore,o)),r._onlineComponents=t}async function QD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt($r,"Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Qa("Error using user provided cache. Falling back to memory cache: "+n),await Ld(r,new $c)}}else rt($r,"Using default OfflineComponentProvider"),await Ld(r,new HD(void 0));return r._offlineComponents}async function _T(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt($r,"Using user provided OnlineComponentProvider"),await Kv(r,r._uninitializedComponentsProvider._online)):(rt($r,"Using default OnlineComponentProvider"),await Kv(r,new dm))),r._onlineComponents}function KD(r){return _T(r).then(t=>t.syncEngine)}async function YD(r){const t=await _T(r),n=t.eventManager;return n.onListen=OD.bind(null,t.syncEngine),n.onUnlisten=MD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ND.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=xD.bind(null,t.syncEngine),n}function XD(r,t,n={}){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new FD({next:M=>{T.su(),f.enqueueAndForget(()=>AD(u,b)),M.fromCache&&p.source==="server"?y.reject(new st(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),b=new wD(m,T,{includeMetadataChanges:!0,Ta:!0});return TD(u,b)}(await YD(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(r,t,n){if(!n)throw new st(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function $D(r,t,n,s){if(t===!0&&s===!0)throw new st(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Xv(r){if(!mt.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $v(r){if(mt.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t()}function Ul(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gh(r);throw new st(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firestore.googleapis.com",Wv=!0;class Zv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new st(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TT,this.ssl=Wv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Wv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Z0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<SC)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$D("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ph{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new tI;switch(s.type){case"firstParty":return new rI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Yv.get(n);s&&(rt("ComponentProvider","Removing Datastore"),Yv.delete(n),s.terminate())}(this),Promise.resolve()}}function WD(r,t,n,s={}){var o;const u=(r=Ul(r,ph))._getSettings(),f=`${t}:${n}`;if(u.host!==TT&&u.host!==f&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Ke.MOCK_USER;else{m=Db(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new st(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ke(y)}r._authCredentials=new eI(new c0(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Hs(this.firestore,t,this._query)}}class Vn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vn(this.firestore,t,this._key)}}class Fr extends Hs{constructor(t,n,s){super(t,n,C0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vn(this.firestore,null,new mt(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function yh(r,t,...n){if(r=Mn(r),ET("collection","path",t),r instanceof ph){const s=Zt.fromString(t,...n);return $v(s),new Fr(r,null,s)}{if(!(r instanceof Vn||r instanceof Fr))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return $v(s),new Fr(r.firestore,null,s)}}function AT(r,t,...n){if(r=Mn(r),arguments.length===1&&(t=h0.newId()),ET("doc","path",t),r instanceof ph){const s=Zt.fromString(t,...n);return Xv(s),new Vn(r,null,new mt(s))}{if(!(r instanceof Vn||r instanceof Fr))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return Xv(s),new Vn(r.firestore,r instanceof Fr?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="AsyncQueue";class tE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new nT(this,"async_queue_retry"),this.Su=()=>{const s=kd();s&&rt(Jv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!ro(t))throw t;rt(Jv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=$m.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class _h extends ph{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new tE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tE(t),this._firestoreClient=void 0,await t}}}function ZD(r,t){const n=typeof r=="object"?r:bE(),s=typeof r=="string"?r:Hc,o=vm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Ib("firestore");u&&WD(o,...u)}return o}function ST(r){if(r._terminated)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JD(r),r._firestoreClient}function JD(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,y,T){return new _I(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,vT(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new GD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Za(qe.fromBase64String(t))}catch(n){throw new st(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Za(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^__.*__$/;class e2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new js(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(t,this.data,n,this.fieldTransforms)}}function bT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class sg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new sg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Wc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(bT(this.Lu)&&t2.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class n2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||fh(t)}ju(t,n,s,o=!1){return new sg({Lu:t,methodName:n,zu:s,path:je.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wT(r){const t=r._freezeSettings(),n=fh(r._databaseId);return new n2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function i2(r,t,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);CT("Data must be an object, but it was:",f,s);const m=RT(s,f);let p,y;if(u.merge)p=new jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const M=s2(t,b,n);if(!f.contains(M))throw new st(Y.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);o2(T,M)||T.push(M)}p=new jn(T),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new e2(new Nn(m),p,y)}class ag extends ng{_toFieldTransform(t){return new FI(t.path,new Vl)}isEqual(t){return t instanceof ag}}function r2(r,t,n,s=!1){return og(n,r.ju(s?4:3,t))}function og(r,t){if(IT(r=Mn(r)))return CT("Unsupported field value:",t,r),RT(r,t);if(r instanceof ng)return function(s,o){if(!bT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=og(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Re.fromDate(s);return{timestampValue:Kc(o.serializer,u)}}if(s instanceof Re){const u=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kc(o.serializer,u)}}if(s instanceof ig)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Za)return{bytesValue:G0(o.serializer,s._byteString)};if(s instanceof Vn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof rg)return function(f,m){return{mapValue:{fields:{[v0]:{stringValue:E0},[Fc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return km(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${gh(s)}`)}(r,t)}function RT(r,t){const n={};return d0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(r,(s,o)=>{const u=og(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function IT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof ig||r instanceof Za||r instanceof Vn||r instanceof ng||r instanceof rg)}function CT(r,t,n){if(!IT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=gh(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function s2(r,t,n){if((t=Mn(t))instanceof eg)return t._internalPath;if(typeof t=="string")return DT(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,n)}const a2=new RegExp("[~\\*/\\[\\]]");function DT(r,t,n){if(t.search(a2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new eg(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Wc(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new st(Y.INVALID_ARGUMENT,m+r+p)}function o2(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(vh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l2 extends OT{data(){return super.data()}}function vh(r,t){return typeof t=="string"?DT(r,t):t instanceof eg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class NT extends lg{}function ug(r,t,...n){let s=[];t instanceof lg&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof cg).length,m=u.filter(p=>p instanceof Eh).length;if(f>1||f>0&&m>0)throw new st(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Eh extends NT{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Eh(t,n,s)}_apply(t){const n=this._parse(t);return MT(t._query,n),new Hs(t.firestore,t.converter,im(t._query,n))}_parse(t){const n=wT(t.firestore);return function(u,f,m,p,y,T,b){let M;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){nE(b,T);const G=[];for(const $ of b)G.push(eE(p,u,$));M={arrayValue:{values:G}}}else M=eE(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||nE(b,T),M=r2(m,f,b,T==="in"||T==="not-in");return ye.create(y,T,M)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function VT(r,t,n){const s=t,o=vh("where",r);return Eh._create(o,s,n)}class cg extends lg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new cg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)MT(f,p),f=im(f,p)}(t._query,n),new Hs(t.firestore,t.converter,im(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hg extends NT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new hg(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nl(u,f)}(t._query,this._field,this._direction);return new Hs(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new so(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function c2(r,t="asc"){const n=t,s=vh("orderBy",r);return hg._create(s,n)}function eE(r,t,n){if(typeof(n=Mn(n))=="string"){if(n==="")throw new st(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D0(t)&&n.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Zt.fromString(n));if(!mt.isDocumentKey(s))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yv(r,new mt(s))}if(n instanceof Vn)return yv(r,n._key);throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(n)}.`)}function nE(r,t){if(!Array.isArray(r)||r.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function MT(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class h2{convertValue(t,n="none"){switch(Yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return zs(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Fc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ce(f.doubleValue));return new rg(u)}convertGeoPoint(t){return new ig(ce(t.latitude),ce(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ah(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const n=Qr(t);return new Re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Zt.fromString(t);Gt(W0(s));const o=new Dl(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||Qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class d2 extends OT{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(vh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Nc extends d2{data(t={}){return super.data(t)}}class m2{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Tc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Nc(this._firestore,this._userDataWriter,s.key,s,new Tc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Nc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Tc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Nc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Tc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:g2(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function g2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class p2 extends h2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Za(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function fg(r){r=Ul(r,Hs);const t=Ul(r.firestore,_h),n=ST(t),s=new p2(t);return u2(r._query),XD(n,r._query).then(o=>new m2(t,s,r,o))}function y2(r){return xT(Ul(r.firestore,_h),[new Lm(r._key,ui.none())])}function _2(r,t){const n=Ul(r.firestore,_h),s=AT(r),o=f2(r.converter,t);return xT(n,[i2(wT(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ui.exists(!1))]).then(()=>s)}function xT(r,t){return function(s,o){const u=new Hr;return s.asyncQueue.enqueueAndForget(async()=>UD(await KD(s),o,u)),u.promise}(ST(r),t)}function v2(){return new ag("serverTimestamp")}(function(t,n=!0){(function(o){no=o})(to),Fa(new xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _h(new nI(s.getProvider("auth-internal")),new sI(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new st(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),jr(av,ov,t),jr(av,ov,"esm2017")})();const E2={apiKey:"AIzaSyDCRg0_vlOPwwOHBS9og1fNOvXdyOmTOSw",authDomain:"blog-3cc44.firebaseapp.com",projectId:"blog-3cc44",storageBucket:"blog-3cc44.firebasestorage.app",messagingSenderId:"243178236738",appId:"1:243178236738:web:76064365bb57d7c1bdb6db",measurementId:"G-C328R6XWL1"},UT=SE(E2),Ha=Z1(UT),T2=new Bi,Pl=ZD(UT),A2=async()=>{try{await o1(Ha,T2)}catch(r){console.error("Error signing in:",r)}},S2=({setSearchQuery:r})=>{const t=Ha.currentUser;return et.jsxs("nav",{className:"bg-gray-800 text-white p-4 flex justify-between items-center",children:[et.jsx(Id,{to:"/",children:et.jsx("h1",{className:" text-xl",style:{fontFamily:"'Press Start 2P', cursive"},children:"DevBlogs"})}),et.jsx("input",{type:"text",placeholder:"Search posts...",onChange:n=>r(n.target.value),className:"p-2 rounded bg-gray-800 text-white outline-none w-1/3",style:{fontFamily:"'Rajdhani', sans-serif"}}),et.jsx("div",{children:t?et.jsxs(et.Fragment,{children:[et.jsx(Id,{to:"/create-post",className:"mr-4 bg-blue-500 px-4 py-2 rounded",style:{fontFamily:"'Rajdhani', sans-serif"},children:"Create Post"}),et.jsx(Id,{to:"/profile",className:"bg-gray-700 px-4 py-2 rounded",style:{fontFamily:"'Rajdhani', sans-serif"},children:"Profile"})]}):et.jsx("button",{onClick:A2,className:"bg-blue-500 px-4 py-2 rounded",style:{fontFamily:"'Rajdhani', sans-serif"},children:"Sign In"})})]})},b2=()=>{const[r,t]=J.useState([]),[n,s]=J.useState(""),o=Ll();J.useEffect(()=>{(async()=>{try{const m=yh(Pl,"posts"),p=ug(m,c2("timestamp","desc")),T=(await fg(p)).docs.map(b=>({id:b.id,...b.data()}));t(T)}catch(m){console.error("Error fetching posts:",m)}})()},[]);const u=r.filter(f=>f.heading.toLowerCase().includes(n.toLowerCase()));return et.jsxs("div",{className:"bg-gray-900 min-h-screen text-white",children:[et.jsx(S2,{setSearchQuery:s}),et.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[et.jsx("h1",{className:"text-3xl font-bold text-center mb-6",style:{fontFamily:"'Press Start 2P', cursive"},children:"Latest Posts"}),u.length===0?et.jsx("p",{className:"text-gray-400 text-center",style:{fontFamily:"'Press Start 2P', cursive"},children:"No posts found."}):et.jsx("div",{className:"space-y-6",children:u.map(f=>et.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg",children:[et.jsx("h2",{onClick:()=>o(`/blog/${f.slug}`),className:"text-xl font-semibold cursor-pointer hover:text-blue-400",style:{fontFamily:"'Press Start 2P', cursive"},children:f.heading}),et.jsx("p",{className:"text-gray-400 text-sm mt-1",style:{fontFamily:"'Rajdhani', sans-serif"},children:f.tags.join(", ")}),et.jsx("img",{src:f.imageURL,alt:f.heading,className:"w-full mt-3 rounded-lg"}),et.jsxs("p",{className:"mt-3",style:{fontFamily:"'Rajdhani', sans-serif"},children:[f.content.substring(0,100),"..."]})]},f.id))})]})]})},w2=async r=>{const t=new FormData;t.append("file",r),t.append("upload_preset","blogger");try{return(await(await fetch("https://api.cloudinary.com/v1_1/dvykowu9i/image/upload",{method:"POST",body:t})).json()).secure_url}catch(n){return console.error("Cloudinary Upload Error:",n),null}},R2=r=>r.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),I2=()=>{const[r,t]=J.useState(""),[n,s]=J.useState(""),[o,u]=J.useState(""),[f,m]=J.useState(""),[p,y]=J.useState(!1),T=Ll(),b=async B=>{const G=B.target.files[0];if(!G)return;y(!0);const $=await w2(G);m($),y(!1)},M=async()=>{var G,$,q;if(!r||!o||!n||!f){alert("All fields are required!");return}const B=R2(r);try{await _2(yh(Pl,"posts"),{heading:r,slug:B,tags:n.split(",").map(at=>at.trim()),content:o,imageURL:f,author:{name:((G=Ha.currentUser)==null?void 0:G.displayName)||"Anonymous",uid:($=Ha.currentUser)==null?void 0:$.uid,photoURL:((q=Ha.currentUser)==null?void 0:q.photoURL)||""},timestamp:v2()}),T("/")}catch(at){console.error("Error publishing post:",at),alert("Failed to publish post.")}};return et.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-gray-700 text-white rounded-lg",children:[et.jsx("button",{onClick:()=>T("/"),className:"text-gray-400 hover:text-white mb-4",children:" Back"}),et.jsx("label",{className:"block text-gray-300 mb-2",children:"Upload Image:"}),et.jsx("input",{type:"file",onChange:b,className:"block w-full p-2 bg-gray-800 rounded"}),p&&et.jsx("p",{className:"text-sm text-yellow-500",children:"Uploading..."}),f&&et.jsx("img",{src:f,alt:"Uploaded",className:"mt-4 w-full h-40 object-cover rounded"}),et.jsx("label",{className:"block text-gray-300 mt-4",style:{fontFamily:"'Press Start 2P', cursive"},children:"Heading:"}),et.jsx("input",{type:"text",value:r,onChange:B=>t(B.target.value),className:"w-full p-2 bg-gray-800 rounded text-white",placeholder:"Enter heading"}),et.jsx("label",{className:"block text-gray-300 mt-4",children:"Tags (comma-separated):"}),et.jsx("input",{type:"text",value:n,onChange:B=>s(B.target.value),className:"w-full p-2 bg-gray-800 rounded text-white",placeholder:"e.g. React, Firebase, UI/UX"}),et.jsx("label",{className:"block text-gray-300 mt-4",children:"Content:"}),et.jsx("textarea",{value:o,onChange:B=>u(B.target.value),className:"w-full p-2 bg-gray-800 rounded text-white h-40",placeholder:"Write your post..."}),et.jsx("button",{onClick:M,className:"mt-6 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Publish"})]})},C2=()=>{const[r,t]=J.useState([]),[n,s]=J.useState(!0),o=Ll(),u=Ha.currentUser;J.useEffect(()=>{if(!u){o("/");return}(async()=>{try{const p=yh(Pl,"posts"),y=ug(p,VT("author.uid","==",u.uid)),b=(await fg(y)).docs.map(M=>({id:M.id,...M.data()}));t(b)}catch(p){console.error("Error fetching user posts:",p)}s(!1)})()},[u,o]);const f=async m=>{if(window.confirm("Are you sure you want to delete this post?"))try{await y2(AT(Pl,"posts",m)),t(r.filter(y=>y.id!==m)),alert("Post deleted successfully!")}catch(y){console.error("Error deleting post:",y),alert("Failed to delete post.")}};return n?et.jsx("p",{className:"text-white text-center",children:"Loading..."}):et.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-gray-900 text-white rounded-lg",children:[et.jsx("button",{onClick:()=>o("/"),className:"text-gray-400 hover:text-white mb-4",children:" Back"}),et.jsx("h1",{className:"text-3xl font-bold text-center mb-6",style:{fontFamily:"'Press Start 2P', cursive"},children:"Your Blog Posts"}),r.length===0?et.jsx("p",{className:"text-gray-400 text-center",style:{fontFamily:"'Press Start 2P', cursive"},children:"No posts created yet."}):et.jsx("div",{className:"space-y-6",children:r.map(m=>et.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg",children:[et.jsx("h2",{onClick:()=>o(`/blog/${m.slug}`),className:"text-xl font-semibold cursor-pointer hover:text-blue-400",style:{fontFamily:"'Press Start 2P', cursive"},children:m.heading}),et.jsx("p",{className:"text-gray-400 text-sm mt-1",style:{fontFamily:"'Rajdhani', sans-serif"},children:m.tags.join(", ")}),et.jsx("img",{src:m.imageURL,alt:m.heading,className:"w-full mt-3 rounded-lg"}),et.jsxs("p",{className:"mt-3",style:{fontFamily:"'Rajdhani', sans-serif"},children:[m.content.substring(0,100),"..."]}),et.jsx("button",{onClick:()=>f(m.id),className:"mt-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"Delete Post"})]},m.id))})]})},D2=()=>et.jsx("div",{}),O2=()=>{var f,m;const{slug:r}=YS(),t=Ll(),[n,s]=J.useState(null),[o,u]=J.useState(!0);return J.useEffect(()=>{(async()=>{try{console.log(`Fetching blog with slug: ${r}`);const y=ug(yh(Pl,"posts"),VT("slug","==",r)),T=await fg(y);T.empty?console.error("Post not found"):(s(T.docs[0].data()),console.log("Blog post found:",T.docs[0].data()))}catch(y){console.error("Error fetching post:",y)}finally{u(!1)}})()},[r]),o?et.jsx("p",{className:"text-white text-center mt-5",style:{fontFamily:"'Press Start 2P', cursive"},children:"Loading..."}):n?et.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-gray-900 text-white rounded-lg",children:[et.jsx("button",{onClick:()=>t("/"),className:"text-gray-400 hover:text-white mb-4",children:" Back to Home"}),et.jsx("img",{src:n.imageURL,alt:n.heading,className:"w-full h-60 object-cover rounded mb-4"}),et.jsx("h1",{className:"text-3xl font-bold",children:n.heading}),et.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:["Published on ",(f=n.timestamp)!=null&&f.seconds?new Date(n.timestamp.seconds*1e3).toLocaleDateString():"Unknown Date"]}),et.jsx("div",{className:"mt-6 text-lg leading-relaxed",children:n.content}),et.jsx("div",{className:"mt-6",children:(m=n.tags)==null?void 0:m.map((p,y)=>et.jsxs("span",{className:"bg-gray-700 text-sm px-2 py-1 rounded-full mr-2",children:["#",p]},y))})]}):et.jsx("p",{className:"text-gray-400 text-center mt-5",style:{fontFamily:"'Press Start 2P', cursive"},children:"Blog post not found."})};function N2(){return et.jsx(pb,{children:et.jsx("div",{className:"bg-gray-900",children:et.jsxs(ub,{children:[et.jsx(xa,{path:"/",element:et.jsx(b2,{})}),et.jsx(xa,{path:"/profile",element:et.jsx(C2,{})}),et.jsx(xa,{path:"/create-post",element:et.jsx(I2,{})}),et.jsx(xa,{path:"/blog/:slug",element:et.jsx(O2,{})}),et.jsx(xa,{path:"*",element:et.jsx(D2,{})})]})})})}_S.createRoot(document.getElementById("root")).render(et.jsx(J.StrictMode,{children:et.jsx(N2,{})}));
